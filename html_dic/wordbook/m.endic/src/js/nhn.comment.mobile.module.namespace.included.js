if(typeof window!="undefined"&&window.nhn===undefined){window.nhn={};
}if(window.nhn.comment===undefined){window.nhn.comment={};
}if(window.nhn.comment.mobile===undefined){window.nhn.comment.mobile={};
}if(window.nhn.comment.mobile.jindo===undefined){window.nhn.comment.mobile.jindo={};
}var MobileCommentJindo=window.nhn.comment.mobile.jindo;
var _j_ag=navigator.userAgent;
var _JINDO_IS_IE=_j_ag.indexOf("MSIE")>-1;
var _JINDO_IS_FF=_j_ag.indexOf("Firefox")>-1;
var _JINDO_IS_OP=_j_ag.indexOf("Opera")>-1;
var _JINDO_IS_SP=_j_ag.indexOf("Safari")>-1;
var _JINDO_IS_SF=_j_ag.indexOf("Apple")>-1;
var _JINDO_IS_CH=_j_ag.indexOf("Chrome")>-1;
var _JINDO_IS_WK=_j_ag.indexOf("WebKit")>-1;
var _JINDO_IS_MO=/(iPad|Mobile|Android|Nokia|webOS|BlackBerry|Opera Mini)/.test(_j_ag);
MobileCommentJindo.$Jindo=function(){var a=arguments.callee;
var b=a._cached;
if(b){return b;
}if(!(this instanceof a)){return new a();
}if(!b){a._cached=this;
}this.version="2.0.1";
};
MobileCommentJindo.$Jindo.compatible=function(){return false;
};
var _objToString=Object.prototype.toString;
var _slice=Array.prototype.slice;
MobileCommentJindo.$Error=function(b,a){this.message="\tmethod : "+a+"\n\tmessage : "+b;
this.type="Jindo Custom Error";
this.toString=function(){return this.message+"\n\t"+this.type;
};
};
MobileCommentJindo.$Except={CANNOT_USE_OPTION:"해당 옵션은 사용할 수 없습니다.",PARSE_ERROR:"파싱중 에러가 발생했습니다.",NOT_FOUND_ARGUMENT:"파라메터가 없습니다.",NOT_STANDARD_QUERY:"css셀렉터가 정상적이지 않습니다.",INVALID_DATE:"날짜 포멧이 아닙니다.",REQUIRE_AJAX:"가 없습니다.",NOT_FOUND_ELEMENT:"엘리먼트가 없습니다.",HAS_FUNCTION_FOR_GROUP:"그룹으로 지우지 않는 경우 detach할 함수가 있어야 합니다.",NONE_ELEMENT:"에 해당하는 엘리먼트가 없습니다.",NOT_SUPPORT_SELECTOR:"는 지원하지 않는 selector입니다.",NOT_SUPPORT_METHOD:"desktop에서 지원하지 않는 메서드 입니다.",JSON_MUST_HAVE_ARRAY_HASH:"get메서드는 json타입이 hash나 array타입만 가능합니다.",MUST_APPEND_DOM:"document에 붙지 않은 엘리먼트를 기준 엘리먼트로 사용할 수 없습니다.",NOT_USE_CSS:"는 css를 사용 할수 없습니다.",NOT_WORK_DOMREADY:"domready이벤트는 iframe안에서 사용할 수 없습니다."};
function _toArray(a){return _slice.apply(a);
}try{_slice.apply(document.documentElement.childNodes);
}catch(e){_toArray=function(d){var c=[];
var b=d.length;
for(var a=0;
a<b;
a++){c.push(d[a]);
}return c;
};
}MobileCommentJindo.$Jindo.isNumeric=function(a){return !isNaN(parseFloat(a))&&!MobileCommentJindo.$Jindo.isArray(a)&&isFinite(a);
};
(function(){var d={Element:1,Document:9};
for(var b in d){MobileCommentJindo.$Jindo["is"+b]=(function(g,f){return function(h){if(new RegExp(g).test(_objToString.call(h))){return true;
}else{if(_objToString.call(h)=="[object Object]"&&h!==null&&h!==undefined&&h.nodeType==f){return true;
}}return false;
};
})(b,d[b]);
}var c=["Function","Array","String","Boolean","Date","RegExp"];
for(var b=0,a=c.length;
b<a;
b++){MobileCommentJindo.$Jindo["is"+c[b]]=(function(f){return function(g){return _objToString.call(g)=="[object "+f+"]";
};
})(c[b]);
}})();
MobileCommentJindo.$Jindo.isNode=function(b){try{return !!(b&&b.nodeType);
}catch(a){return false;
}};
MobileCommentJindo.$Jindo.isHash=function(a){return _objToString.call(a)=="[object Object]"&&a!==null&&a!==undefined&&!!!a.nodeType&&!MobileCommentJindo.$Jindo.isWindow(a);
};
MobileCommentJindo.$Jindo.isNull=function(a){return a===null;
};
MobileCommentJindo.$Jindo.isUndefined=function(a){return a===undefined;
};
MobileCommentJindo.$Jindo.isWindow=function(a){return a==window||a==window.top;
};
MobileCommentJindo.$Jindo.Break=function(){if(!(this instanceof arguments.callee)){throw new arguments.callee;
}};
MobileCommentJindo.$Jindo.Continue=function(){if(!(this instanceof arguments.callee)){throw new arguments.callee;
}};
MobileCommentJindo.$Jindo._F=function(a){return a;
};
MobileCommentJindo.$Jindo._warn=function(a,b,c){if(a>b){window.console&&((console.warn&&console.warn("추가적인 파라메터가 있습니다. : "+c),true)||(console.log&&console.log("추가적인 파라메터가 있습니다. : "+c),true));
}};
MobileCommentJindo.$Jindo.checkVarType=function(h,q,b){var b=b||h.callee.name||"anonymous";
var w=MobileCommentJindo.$Jindo;
var D=w.compatible();
var d=h.callee["_checkVarType_"+D];
if(d){return d(h,q,b);
}var v=[];
v.push("var nArgsLen = aArgs.length;");
v.push("var $Jindo = MobileCommentJindo.$Jindo;");
if(D){v.push("var nMatchScore;");
v.push("var nMaxMatchScore = -1;");
v.push("var oFinalRet = null;");
}var f=[];
var a=0;
for(var t in q){if(q.hasOwnProperty(t)){a=Math.max(q[t].length,a);
}}for(var t in q){if(q.hasOwnProperty(t)){var u=q[t];
var n=u.length;
var s=[];
var l=[];
var r=[];
if(!D){if(n<a){l.push("nArgsLen === "+n);
}else{l.push("nArgsLen >= "+n);
}}r.push("var oRet = new MobileCommentJindo.$Jindo._varTypeRetObj();");
var E=n;
for(var C=0;
C<n;
++C){/^([^:]+):([^\+]*)(\+?)$/.test(u[C]);
var m=RegExp.$1;
var y=RegExp.$2;
var c=RegExp.$3?true:false;
if(y==="Variant"){if(D){l.push(C+" in aArgs");
}r.push('oRet["'+m+'"] = aArgs['+C+"];");
E--;
}else{if(MobileCommentJindo.$Jindo._varTypeList[y]){var A="tmp"+y+"_"+C;
s.push("var "+A+" = MobileCommentJindo.$Jindo._varTypeList."+y+"(aArgs["+C+"], "+c+");");
l.push(A+" !== MobileCommentJindo.$Jindo.VARTYPE_NOT_MATCHED");
r.push('oRet["'+m+'"] = '+A+";");
}else{if(/^\$/.test(y)&&MobileCommentJindo[y]){var B="";
var g;
if(c){g=({$Fn:"Function",$S:"String",$A:"Array",$H:"Hash",$ElementList:"Array"})[y]||y.replace(/^\$/,"");
if(w["is"+g]){B=" || MobileCommentJindo.$Jindo.is"+g+"(vNativeArg_"+C+")";
}}l.push("(aArgs["+C+"] instanceof MobileCommentJindo."+y+B+")");
r.push('oRet["'+m+'"] = MobileCommentJindo.'+y+"(aArgs["+C+"]);");
}else{if(w["is"+y]){var B="";
var o;
if(c){o=({Function:"$Fn",String:"$S",Array:"$A",Hash:"$H"})[y]||"$"+y;
if(MobileCommentJindo[o]){B=" || aArgs["+C+"] instanceof MobileCommentJindo."+o;
}}l.push("(MobileCommentJindo.$Jindo.is"+y+"(aArgs["+C+"])"+B+")");
r.push('oRet["'+m+'"] = vNativeArg_'+C+";");
}else{throw new Error("VarType("+y+") Not Found");
}}}}}r.push('oRet.__type = "'+t+'";');
if(D){r.push("nMatchScore = "+(n*1000+E*10)+" + (nArgsLen === "+n+" ? 1 : 0);");
r.push("if (nMatchScore > nMaxMatchScore) {");
r.push("	nMaxMatchScore = nMatchScore;");
r.push("	oFinalRet = oRet;");
r.push("}");
}else{r.push("return oRet;");
}f.push(s.join("\n"));
if(l.length){f.push("if ("+l.join(" && ")+") {");
}f.push(r.join("\n"));
if(l.length){f.push("}");
}}}v.push("	MobileCommentJindo.$Jindo._warn(nArgsLen,"+a+',"'+b+'");');
for(var C=0;
C<a;
++C){var z="aArgs["+C+"]";
v.push(["var vNativeArg_",C," = ",z," && ",z,".$value ? ",z,".$value() : ",z+";"].join(""));
}if(!D){f.push("MobileCommentJindo.$Jindo.checkVarType._throwException(aArgs, oRules, sFuncName);");
}f.push("return oFinalRet;");
h.callee["_checkVarType_"+D]=d=new Function("aArgs,oRules,sFuncName",v.join("\n")+f.join("\n"));
return d(h,q,b);
};
MobileCommentJindo.$Jindo._varTypeRetObj=function(){};
MobileCommentJindo.$Jindo._varTypeRetObj.prototype.toString=function(){return this.__type;
};
MobileCommentJindo.$Jindo.checkVarType._throwException=function(l,r,a){var d=function(w){for(var y in MobileCommentJindo){if(MobileCommentJindo.hasOwnProperty(y)){var u=MobileCommentJindo[y];
if(typeof u!=="function"){continue;
}if(w instanceof u){return y;
}}}var v=MobileCommentJindo.$Jindo;
for(var y in MobileCommentJindo.$Jindo){if(MobileCommentJindo.$Jindo.hasOwnProperty(y)){if(!/^is(.+)$/.test(y)){continue;
}var z=RegExp.$1;
var t=MobileCommentJindo.$Jindo[y];
if(t(w)){return z;
}}}return"Unknown";
};
var g=function(z,v,y){var t=["잘못된 파라미터입니다.",""];
if(z){t.push("호출한 형태 :");
t.push("\t"+z);
t.push("");
}if(v.length){t.push("사용 가능한 형태 :");
for(var u=0,w=v.length;
u<w;
u++){t.push("\t"+v[u]);
}t.push("");
}if(y){t.push("매뉴얼 페이지 :");
t.push("\t"+y);
t.push("");
}t.unshift();
return t.join("\n");
};
var f=[];
for(var h=0,b=l.length;
h<b;
++h){try{f.push(d(l[h]));
}catch(n){f.push("Unknown");
}}var c=a+"("+f.join(", ")+")";
var m=[];
for(var s in r){if(r.hasOwnProperty(s)){var q=r[s];
m.push(""+a+"("+q.join(", ").replace(/(^|,\s)[^:]+:/g,"$1")+")");
}}var o;
if(/(\$\w+)(#\w+)?/.test(a)){o="http://jindo.dev.naver.com/docs/jindo/2.0.1/@type@/@lang@/symbols/"+encodeURIComponent(RegExp.$1)+".html"+RegExp.$2;
}throw new TypeError(g(c,m,o));
};
MobileCommentJindo.$Jindo.varType=function(){var f=this.checkVarType(arguments,{s4str:["sTypeName:String+","fpFunc:Function+"],s4obj:["oTypeLists:Hash+"],g:["sTypeName:String+"]});
var c=MobileCommentJindo.$Jindo._denyTypeListComma;
switch(f+""){case"s4str":var d=","+f.sTypeName.replace(/\+$/,"")+",";
if(c.indexOf(d)>-1){throw new Error("Not allowed Variable Type");
}this._varTypeList[f.sTypeName]=f.fpFunc;
return this;
case"s4obj":var b=f.oTypeLists;
for(var a in b){if(b.hasOwnProperty(a)){fpFunc=b[a];
arguments.callee.call(this,a,fpFunc);
}}return this;
case"g":return this._varTypeList[f.sTypeName];
}};
MobileCommentJindo.$Jindo.VARTYPE_NOT_MATCHED={};
(function(){var b=MobileCommentJindo.$Jindo._varTypeList={};
var f=MobileCommentJindo.$Jindo;
var c=f.VARTYPE_NOT_MATCHED;
b.Numeric=function(g){if(f.isNumeric(g)){return g*1;
}return c;
};
b.Hash=function(h,g){if(g&&MobileCommentJindo.$H&&h instanceof MobileCommentJindo.$H){return h.$value();
}else{if(f.isHash(h)){return h;
}}return c;
};
b["$Class"]=function(h,g){if((!f.isFunction(h))||!h.extend){return c;
}return h;
};
var d=[];
for(var a in f){if(f.hasOwnProperty(a)){if(/^is(.+)$/.test(a)){d.push(RegExp.$1);
}}}f._denyTypeListComma=d.join(",");
f.varType("ArrayStyle",function(h,g){if(!h){return c;
}if(/(Arguments|NodeList|HTMLCollection|global|Window)/.test(_objToString.call(h))||/Object/.test(_objToString.call(h))&&f.isNumeric(h.length)){return _toArray(h);
}return c;
});
f.varType("Form",function(h,g){if(!h){return c;
}if(g&&h.$value){h=h.$value();
}if(h.tagName&&h.tagName.toUpperCase()=="FORM"){return h;
}return c;
});
})();
MobileCommentJindo.$=function(m){if(!arguments.length){throw new MobileCommentJindo.$Error(MobileCommentJindo.$Except.NOT_FOUND_ARGUMENT,"$");
}var l=[],q=arguments,o=q.length,h=q[o-1],n=document,c=null;
var d=/^<([a-z]+|h[1-5])>$/i;
var f=/^<([a-z]+|h[1-5])(\s+[^>]+)?>/i;
if(o>1&&typeof h!="string"&&h.body){q=Array.prototype.slice.apply(q,[0,o-1]);
n=h;
}for(var g=0;
g<o;
g++){c=q[g]&&q[g].$value?q[g].$value():q[g];
if(MobileCommentJindo.$Jindo.isString(c)||MobileCommentJindo.$Jindo.isNumeric(c)){c+="";
c=c.replace(/^\s+|\s+$/g,"");
if(c.indexOf("<")>-1){if(d.test(c)){c=n.createElement(RegExp.$1);
}else{if(f.test(c)){var b={thead:"table",tbody:"table",tr:"tbody",td:"tr",dt:"dl",dd:"dl",li:"ul",legend:"fieldset",option:"select"};
var s=RegExp.$1.toLowerCase();
var r=MobileCommentJindo._createEle(b[s],c,n);
for(var g=0,a=r.length;
g<a;
g++){l.push(r[g]);
}c=null;
}}}else{c=n.getElementById(c);
}}if(c&&c.nodeType){l[l.length]=c;
}}return l.length>1?l:(l[0]||null);
};
MobileCommentJindo._createEle=function(h,g,a,f){var c="R"+new Date().getTime()+parseInt(Math.random()*100000,10);
var d=a.createElement("div");
switch(h){case"select":case"table":case"dl":case"ul":case"fieldset":d.innerHTML="<"+h+' class="'+c+'">'+g+"</"+h+">";
break;
case"thead":case"tbody":case"col":d.innerHTML="<table><"+h+' class="'+c+'">'+g+"</"+h+"></table>";
break;
case"tr":d.innerHTML='<table><tbody><tr class="'+c+'">'+g+"</tr></tbody></table>";
break;
default:d.innerHTML='<div class="'+c+'">'+g+"</div>";
}var b;
for(b=d.firstChild;
b;
b=b.firstChild){if(b.className==c){break;
}}return f?b:b.childNodes;
};
MobileCommentJindo.$Class=function(oDef){var oArgs=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4obj":["oDef:Hash+"]},"$Class");
function typeClass(){var t=this;
var a=[];
var superFunc=function(m,superClass,func){if(m!="constructor"&&func.toString().indexOf("$super")>-1){var funcArg=func.toString().replace(/function\s*\(([^\)]*)[\w\W]*/g,"$1").split(",");
var funcStr=func.toString().replace(/function[^{]*{/,"").replace(/(\w|\.?)(this\.\$super|this)/g,function(m,m2,m3){if(!m2){return m3+".$super";
}return m;
});
funcStr=funcStr.substr(0,funcStr.length-1);
func=superClass[m]=eval("false||function("+funcArg.join(",")+"){"+funcStr+"}");
}return function(){var f=this.$this[m];
var t=this.$this;
var r=(t[m]=func).apply(t,arguments);
t[m]=f;
return r;
};
};
while(t._$superClass!==undefined){t.$super=new Object;
t.$super.$this=this;
for(var x in t._$superClass.prototype){if(t._$superClass.prototype.hasOwnProperty(x)){if(this[x]===undefined&&x!="$init"){this[x]=t._$superClass.prototype[x];
}if(x!="constructor"&&x!="_$superClass"&&typeof t._$superClass.prototype[x]=="function"){t.$super[x]=superFunc(x,t._$superClass,t._$superClass.prototype[x]);
}else{t.$super[x]=t._$superClass.prototype[x];
}}}if(typeof t.$super.$init=="function"){a[a.length]=t;
}t=t.$super;
}for(var i=a.length-1;
i>-1;
i--){a[i].$super.$init.apply(a[i].$super,arguments);
}if(typeof this.$init=="function"){this.$init.apply(this,arguments);
}}if(oDef.$static!==undefined){var i=0,x;
for(x in oDef){if(oDef.hasOwnProperty(x)){x=="$static"||i++;
}}for(x in oDef.$static){if(oDef.$static.hasOwnProperty(x)){typeClass[x]=oDef.$static[x];
}}if(!i){return oDef.$static;
}delete oDef.$static;
}typeClass.prototype=oDef;
typeClass.prototype.constructor=typeClass;
typeClass.prototype.kindOf=function(oClass){return _kindOf(this.constructor.prototype,oClass.prototype);
};
typeClass.extend=MobileCommentJindo.$Class.extend;
return typeClass;
};
function _kindOf(b,a){if(b!=a){if(b._$superClass){return _kindOf(b._$superClass.prototype,a);
}else{return false;
}}else{return true;
}}MobileCommentJindo.$Class.extend=function(b){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4obj":["oDef:$Class"]},"<static> $Class#extend");
this.prototype._$superClass=b;
for(var a in b){if(b.hasOwnProperty(a)){if(a=="prototype"){continue;
}this[a]=b[a];
}}return this;
};
MobileCommentJindo.$$=MobileCommentJindo.cssquery=(function(){var sVersion="3.0";
var debugOption={repeat:1};
var UID=1;
var cost=0;
var validUID={};
var bSupportByClassName=document.getElementsByClassName?true:false;
var safeHTML=false;
var getUID4HTML=function(oEl){var nUID=safeHTML?(oEl._cssquery_UID&&oEl._cssquery_UID[0]):oEl._cssquery_UID;
if(nUID&&validUID[nUID]==oEl){return nUID;
}nUID=UID++;
oEl._cssquery_UID=safeHTML?[nUID]:nUID;
validUID[nUID]=oEl;
return nUID;
};
function GEBID(oBase,sId,oDoc){if(oBase.nodeType===9||oBase.parentNode&&oBase.parentNode.tagName){return oDoc.getElementById(sId);
}else{var aEle=oBase.getElementsByTagName("*");
for(var i=0,l=aEle.length;
i<l;
i++){if(aEle[i].id===sId){return aEle[i];
}}}}var getUID4XML=function(oEl){var oAttr=oEl.getAttribute("_cssquery_UID");
var nUID=safeHTML?(oAttr&&oAttr[0]):oAttr;
if(!nUID){nUID=UID++;
oEl.setAttribute("_cssquery_UID",safeHTML?[nUID]:nUID);
}return nUID;
};
var getUID=getUID4HTML;
var uniqid=function(sPrefix){return(sPrefix||"")+new Date().getTime()+parseInt(Math.random()*100000000,10);
};
function getElementsByClass(searchClass,node,tag){var classElements=new Array();
if(node==null){node=document;
}if(tag==null){tag="*";
}var els=node.getElementsByTagName(tag);
var elsLen=els.length;
var pattern=new RegExp("(^|\\s)"+searchClass+"(\\s|$)");
for(i=0,j=0;
i<elsLen;
i++){if(pattern.test(els[i].className)){classElements[j]=els[i];
j++;
}}return classElements;
}var getChilds_dontShrink=function(oEl,sTagName,sClassName){if(bSupportByClassName&&sClassName){if(oEl.getElementsByClassName){return oEl.getElementsByClassName(sClassName);
}if(oEl.querySelectorAll){return oEl.querySelectorAll(sClassName);
}return getElementsByClass(sClassName,oEl,sTagName);
}else{if(sTagName=="*"){return oEl.all||oEl.getElementsByTagName(sTagName);
}}return oEl.getElementsByTagName(sTagName);
};
var clearKeys=function(){backupKeys._keys={};
};
var oDocument_dontShrink=document;
var bXMLDocument=false;
var backupKeys=function(sQuery){var oKeys=backupKeys._keys;
sQuery=sQuery.replace(/'(\\'|[^'])*'/g,function(sAll){var uid=uniqid("QUOT");
oKeys[uid]=sAll;
return uid;
});
sQuery=sQuery.replace(/"(\\"|[^"])*"/g,function(sAll){var uid=uniqid("QUOT");
oKeys[uid]=sAll;
return uid;
});
sQuery=sQuery.replace(/\[(.*?)\]/g,function(sAll,sBody){if(sBody.indexOf("ATTR")==0){return sAll;
}var uid="["+uniqid("ATTR")+"]";
oKeys[uid]=sAll;
return uid;
});
var bChanged;
do{bChanged=false;
sQuery=sQuery.replace(/\(((\\\)|[^)|^(])*)\)/g,function(sAll,sBody){if(sBody.indexOf("BRCE")==0){return sAll;
}var uid="_"+uniqid("BRCE");
oKeys[uid]=sAll;
bChanged=true;
return uid;
});
}while(bChanged);
return sQuery;
};
var restoreKeys=function(sQuery,bOnlyAttrBrace){var oKeys=backupKeys._keys;
var bChanged;
var rRegex=bOnlyAttrBrace?/(\[ATTR[0-9]+\])/g:/(QUOT[0-9]+|\[ATTR[0-9]+\])/g;
do{bChanged=false;
sQuery=sQuery.replace(rRegex,function(sKey){if(oKeys[sKey]){bChanged=true;
return oKeys[sKey];
}return sKey;
});
}while(bChanged);
sQuery=sQuery.replace(/_BRCE[0-9]+/g,function(sKey){return oKeys[sKey]?oKeys[sKey]:sKey;
});
return sQuery;
};
var restoreString=function(sKey){var oKeys=backupKeys._keys;
var sOrg=oKeys[sKey];
if(!sOrg){return sKey;
}return eval(sOrg);
};
var wrapQuot=function(sStr){return'"'+sStr.replace(/"/g,'\\"')+'"';
};
var getStyleKey=function(sKey){if(/^@/.test(sKey)){return sKey.substr(1);
}return null;
};
var getCSS=function(oEl,sKey){if(oEl.currentStyle){if(sKey=="float"){sKey="styleFloat";
}return oEl.currentStyle[sKey]||oEl.style[sKey];
}else{if(window.getComputedStyle){return oDocument_dontShrink.defaultView.getComputedStyle(oEl,null).getPropertyValue(sKey.replace(/([A-Z])/g,"-$1").toLowerCase())||oEl.style[sKey];
}}if(sKey=="float"&&_JINDO_IS_IE){sKey="styleFloat";
}return oEl.style[sKey];
};
var oCamels={accesskey:"accessKey",cellspacing:"cellSpacing",cellpadding:"cellPadding","class":"className",colspan:"colSpan","for":"htmlFor",maxlength:"maxLength",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",valign:"vAlign"};
var getDefineCode=function(sKey){var sVal;
var sStyleKey;
if(bXMLDocument){sVal='oEl.getAttribute("'+sKey+'",2)';
}else{if(sStyleKey=getStyleKey(sKey)){sKey="$$"+sStyleKey;
sVal='getCSS(oEl, "'+sStyleKey+'")';
}else{switch(sKey){case"checked":sVal='oEl.checked + ""';
break;
case"disabled":sVal='oEl.disabled + ""';
break;
case"enabled":sVal='!oEl.disabled + ""';
break;
case"readonly":sVal='oEl.readOnly + ""';
break;
case"selected":sVal='oEl.selected + ""';
break;
default:if(oCamels[sKey]){sVal="oEl."+oCamels[sKey];
}else{sVal='oEl.getAttribute("'+sKey+'",2)';
}}}}return"_"+sKey.replace(/\-/g,"_")+" = "+sVal;
};
var getReturnCode=function(oExpr){var sStyleKey=getStyleKey(oExpr.key);
var sVar="_"+(sStyleKey?"$$"+sStyleKey:oExpr.key);
sVar=sVar.replace(/\-/g,"_");
var sVal=oExpr.val?wrapQuot(oExpr.val):"";
switch(oExpr.op){case"~=":return"("+sVar+' && (" " + '+sVar+' + " ").indexOf(" " + '+sVal+' + " ") > -1)';
case"^=":return"("+sVar+" && "+sVar+".indexOf("+sVal+") == 0)";
case"$=":return"("+sVar+" && "+sVar+".substr("+sVar+".length - "+oExpr.val.length+") == "+sVal+")";
case"*=":return"("+sVar+" && "+sVar+".indexOf("+sVal+") > -1)";
case"!=":return"("+sVar+" != "+sVal+")";
case"=":return"("+sVar+" == "+sVal+")";
}return"("+sVar+")";
};
var getNodeIndex=function(oEl){var nUID=getUID(oEl);
var nIndex=oNodeIndexes[nUID]||0;
if(nIndex==0){for(var oSib=(oEl.parentNode||oEl._IE5_parentNode).firstChild;
oSib;
oSib=oSib.nextSibling){if(oSib.nodeType!=1){continue;
}nIndex++;
setNodeIndex(oSib,nIndex);
}nIndex=oNodeIndexes[nUID];
}return nIndex;
};
var oNodeIndexes={};
var setNodeIndex=function(oEl,nIndex){var nUID=getUID(oEl);
oNodeIndexes[nUID]=nIndex;
};
var unsetNodeIndexes=function(){setTimeout(function(){oNodeIndexes={};
},0);
};
var oPseudoes_dontShrink={contains:function(oEl,sOption){return(oEl.innerText||oEl.textContent||"").indexOf(sOption)>-1;
},"last-child":function(oEl,sOption){for(oEl=oEl.nextSibling;
oEl;
oEl=oEl.nextSibling){if(oEl.nodeType==1){return false;
}}return true;
},"first-child":function(oEl,sOption){for(oEl=oEl.previousSibling;
oEl;
oEl=oEl.previousSibling){if(oEl.nodeType==1){return false;
}}return true;
},"only-child":function(oEl,sOption){var nChild=0;
for(var oChild=(oEl.parentNode||oEl._IE5_parentNode).firstChild;
oChild;
oChild=oChild.nextSibling){if(oChild.nodeType==1){nChild++;
}if(nChild>1){return false;
}}return nChild?true:false;
},empty:function(oEl,_){return oEl.firstChild?false:true;
},"nth-child":function(oEl,nMul,nAdd){var nIndex=getNodeIndex(oEl);
return nIndex%nMul==nAdd;
},"nth-last-child":function(oEl,nMul,nAdd){var oLast=(oEl.parentNode||oEl._IE5_parentNode).lastChild;
for(;
oLast;
oLast=oLast.previousSibling){if(oLast.nodeType==1){break;
}}var nTotal=getNodeIndex(oLast);
var nIndex=getNodeIndex(oEl);
var nLastIndex=nTotal-nIndex+1;
return nLastIndex%nMul==nAdd;
},checked:function(oEl){return !!oEl.checked;
},selected:function(oEl){return !!oEl.selected;
},enabled:function(oEl){return !oEl.disabled;
},disabled:function(oEl){return !!oEl.disabled;
}};
var getExpression=function(sBody){var oRet={defines:"",returns:"true"};
var sBody=restoreKeys(sBody,true);
var aExprs=[];
var aDefineCode=[],aReturnCode=[];
var sId,sTagName;
var sBody=sBody.replace(/:([\w-]+)(\(([^)]*)\))?/g,function(_1,sType,_2,sOption){switch(sType){case"not":var oInner=getExpression(sOption);
var sFuncDefines=oInner.defines;
var sFuncReturns=oInner.returnsID+oInner.returnsTAG+oInner.returns;
aReturnCode.push("!(function() { "+sFuncDefines+" return "+sFuncReturns+" })()");
break;
case"nth-child":case"nth-last-child":sOption=restoreString(sOption);
if(sOption=="even"){sOption="2n";
}else{if(sOption=="odd"){sOption="2n+1";
}}var nMul,nAdd;
var matchstr=sOption.match(/([0-9]*)n([+-][0-9]+)*/);
if(matchstr){nMul=matchstr[1]||1;
nAdd=matchstr[2]||0;
}else{nMul=Infinity;
nAdd=parseInt(sOption,10);
}aReturnCode.push("oPseudoes_dontShrink["+wrapQuot(sType)+"](oEl, "+nMul+", "+nAdd+")");
break;
case"first-of-type":case"last-of-type":sType=(sType=="first-of-type"?"nth-of-type":"nth-last-of-type");
sOption=1;
case"nth-of-type":case"nth-last-of-type":sOption=restoreString(sOption);
if(sOption=="even"){sOption="2n";
}else{if(sOption=="odd"){sOption="2n+1";
}}var nMul,nAdd;
if(/([0-9]*)n([+-][0-9]+)*/.test(sOption)){nMul=parseInt(RegExp.$1,10)||1;
nAdd=parseInt(RegExp.$2,20)||0;
}else{nMul=Infinity;
nAdd=parseInt(sOption,10);
}oRet.nth=[nMul,nAdd,sType];
break;
default:sOption=sOption?restoreString(sOption):"";
aReturnCode.push("oPseudoes_dontShrink["+wrapQuot(sType)+"](oEl, "+wrapQuot(sOption)+")");
}return"";
});
var sBody=sBody.replace(/\[(@?[\w-]+)(([!^~$*]?=)([^\]]*))?\]/g,function(_1,sKey,_2,sOp,sVal){sKey=restoreString(sKey);
sVal=restoreString(sVal);
if(sKey=="checked"||sKey=="disabled"||sKey=="enabled"||sKey=="readonly"||sKey=="selected"){if(!sVal){sOp="=";
sVal="true";
}}aExprs.push({key:sKey,op:sOp,val:sVal});
return"";
});
var sClassName=null;
var sBody=sBody.replace(/\.([\w-]+)/g,function(_,sClass){aExprs.push({key:"class",op:"~=",val:sClass});
if(!sClassName){sClassName=sClass;
}return"";
});
var sBody=sBody.replace(/#([\w-]+)/g,function(_,sIdValue){if(bXMLDocument){aExprs.push({key:"id",op:"=",val:sIdValue});
}else{sId=sIdValue;
}return"";
});
sTagName=sBody=="*"?"":sBody;
var oVars={};
for(var i=0,oExpr;
oExpr=aExprs[i];
i++){var sKey=oExpr.key;
if(!oVars[sKey]){aDefineCode.push(getDefineCode(sKey));
}aReturnCode.unshift(getReturnCode(oExpr));
oVars[sKey]=true;
}if(aDefineCode.length){oRet.defines="var "+aDefineCode.join(",")+";";
}if(aReturnCode.length){oRet.returns=aReturnCode.join("&&");
}oRet.quotID=sId?wrapQuot(sId):"";
oRet.quotTAG=sTagName?wrapQuot(bXMLDocument?sTagName:sTagName.toUpperCase()):"";
if(bSupportByClassName){oRet.quotCLASS=sClassName?wrapQuot(sClassName):"";
}oRet.returnsID=sId?"oEl.id == "+oRet.quotID+" && ":"";
oRet.returnsTAG=sTagName&&sTagName!="*"?"oEl.tagName == "+oRet.quotTAG+" && ":"";
return oRet;
};
var splitToParts=function(sQuery){var aParts=[];
var sRel=" ";
var sBody=sQuery.replace(/(.*?)\s*(!?[+>~ ]|!)\s*/g,function(_,sBody,sRelative){if(sBody){aParts.push({rel:sRel,body:sBody});
}sRel=sRelative.replace(/\s+$/g,"")||" ";
return"";
});
if(sBody){aParts.push({rel:sRel,body:sBody});
}return aParts;
};
var isNth_dontShrink=function(oEl,sTagName,nMul,nAdd,sDirection){var nIndex=0;
for(var oSib=oEl;
oSib;
oSib=oSib[sDirection]){if(oSib.nodeType==1&&(!sTagName||sTagName==oSib.tagName)){nIndex++;
}}return nIndex%nMul==nAdd;
};
var compileParts=function(aParts){var aPartExprs=[];
for(var i=0,oPart;
oPart=aParts[i];
i++){aPartExprs.push(getExpression(oPart.body));
}var sFunc="";
var sPushCode="aRet.push(oEl); if (oOptions.single) { bStop = true; }";
for(var i=aParts.length-1,oPart;
oPart=aParts[i];
i--){var oExpr=aPartExprs[i];
var sPush=(debugOption.callback?"cost++;":"")+oExpr.defines;
var sReturn="if (bStop) {"+(i==0?"return aRet;":"return;")+"}";
if(oExpr.returns=="true"){sPush+=(sFunc?sFunc+"(oEl);":sPushCode)+sReturn;
}else{sPush+="if ("+oExpr.returns+") {"+(sFunc?sFunc+"(oEl);":sPushCode)+sReturn+"}";
}var sCheckTag="oEl.nodeType != 1";
if(oExpr.quotTAG){sCheckTag="oEl.tagName != "+oExpr.quotTAG;
}var sTmpFunc="(function(oBase"+(i==0?", oOptions) { var bStop = false; var aRet = [];":") {");
if(oExpr.nth){sPush="if (isNth_dontShrink(oEl, "+(oExpr.quotTAG?oExpr.quotTAG:"false")+","+oExpr.nth[0]+","+oExpr.nth[1]+',"'+(oExpr.nth[2]=="nth-of-type"?"previousSibling":"nextSibling")+'")) {'+sPush+"}";
}switch(oPart.rel){case" ":if(oExpr.quotID){sTmpFunc+="var oEl = GEBID(oBase,"+oExpr.quotID+",oDocument_dontShrink);var oCandi = oEl;for (; oCandi; oCandi = (oCandi.parentNode || oCandi._IE5_parentNode)) {if (oCandi == oBase) break;}if (!oCandi || "+sCheckTag+") return aRet;"+sPush;
}else{sTmpFunc+="var aCandi = getChilds_dontShrink(oBase, "+(oExpr.quotTAG||'"*"')+", "+(oExpr.quotCLASS||"null")+");for (var i = 0, oEl; oEl = aCandi[i]; i++) {"+(oExpr.quotCLASS?"if ("+sCheckTag+") continue;":"")+sPush+"}";
}break;
case">":if(oExpr.quotID){sTmpFunc+="var oEl = GEBID(oBase,"+oExpr.quotID+",oDocument_dontShrink);if ((oEl.parentNode || oEl._IE5_parentNode) != oBase || "+sCheckTag+") return aRet;"+sPush;
}else{sTmpFunc+="for (var oEl = oBase.firstChild; oEl; oEl = oEl.nextSibling) {if ("+sCheckTag+") { continue; }"+sPush+"}";
}break;
case"+":if(oExpr.quotID){sTmpFunc+="var oEl = GEBID(oBase,"+oExpr.quotID+",oDocument_dontShrink);var oPrev;for (oPrev = oEl.previousSibling; oPrev; oPrev = oPrev.previousSibling) { if (oPrev.nodeType == 1) break; }if (!oPrev || oPrev != oBase || "+sCheckTag+") return aRet;"+sPush;
}else{sTmpFunc+="for (var oEl = oBase.nextSibling; oEl; oEl = oEl.nextSibling) { if (oEl.nodeType == 1) break; }if (!oEl || "+sCheckTag+") { return aRet; }"+sPush;
}break;
case"~":if(oExpr.quotID){sTmpFunc+="var oEl = GEBID(oBase,"+oExpr.quotID+",oDocument_dontShrink);var oCandi = oEl;for (; oCandi; oCandi = oCandi.previousSibling) { if (oCandi == oBase) break; }if (!oCandi || "+sCheckTag+") return aRet;"+sPush;
}else{sTmpFunc+="for (var oEl = oBase.nextSibling; oEl; oEl = oEl.nextSibling) {if ("+sCheckTag+") { continue; }if (!markElement_dontShrink(oEl, "+i+")) { break; }"+sPush+"}";
}break;
case"!":if(oExpr.quotID){sTmpFunc+="var oEl = GEBID(oBase,"+oExpr.quotID+",oDocument_dontShrink);for (; oBase; oBase = (oBase.parentNode || oBase._IE5_parentNode)) { if (oBase == oEl) break; }if (!oBase || "+sCheckTag+") return aRet;"+sPush;
}else{sTmpFunc+="for (var oEl = (oBase.parentNode || oBase._IE5_parentNode); oEl; oEl = (oEl.parentNode || oEl._IE5_parentNode)) {if ("+sCheckTag+") { continue; }"+sPush+"}";
}break;
case"!>":if(oExpr.quotID){sTmpFunc+="var oEl = GEBID(oBase,"+oExpr.quotID+",oDocument_dontShrink);var oRel = (oBase.parentNode || oBase._IE5_parentNode);if (!oRel || oEl != oRel || ("+sCheckTag+")) return aRet;"+sPush;
}else{sTmpFunc+="var oEl = (oBase.parentNode || oBase._IE5_parentNode);if (!oEl || "+sCheckTag+") { return aRet; }"+sPush;
}break;
case"!+":if(oExpr.quotID){sTmpFunc+="var oEl = GEBID(oBase,"+oExpr.quotID+",oDocument_dontShrink);var oRel;for (oRel = oBase.previousSibling; oRel; oRel = oRel.previousSibling) { if (oRel.nodeType == 1) break; }if (!oRel || oEl != oRel || ("+sCheckTag+")) return aRet;"+sPush;
}else{sTmpFunc+="for (oEl = oBase.previousSibling; oEl; oEl = oEl.previousSibling) { if (oEl.nodeType == 1) break; }if (!oEl || "+sCheckTag+") { return aRet; }"+sPush;
}break;
case"!~":if(oExpr.quotID){sTmpFunc+="var oEl = GEBID(oBase,"+oExpr.quotID+",oDocument_dontShrink);var oRel;for (oRel = oBase.previousSibling; oRel; oRel = oRel.previousSibling) { if (oRel.nodeType != 1) { continue; }if (oRel == oEl) { break; }}if (!oRel || ("+sCheckTag+")) return aRet;"+sPush;
}else{sTmpFunc+="for (oEl = oBase.previousSibling; oEl; oEl = oEl.previousSibling) {if ("+sCheckTag+") { continue; }if (!markElement_dontShrink(oEl, "+i+")) { break; }"+sPush+"}";
}}sTmpFunc+=(i==0?"return aRet;":"")+"})";
sFunc=sTmpFunc;
}eval("var fpCompiled = "+sFunc+";");
return fpCompiled;
};
var parseQuery=function(sQuery){var sCacheKey=sQuery;
var fpSelf=arguments.callee;
var fpFunction=fpSelf._cache[sCacheKey];
if(!fpFunction){sQuery=backupKeys(sQuery);
var aParts=splitToParts(sQuery);
fpFunction=fpSelf._cache[sCacheKey]=compileParts(aParts);
fpFunction.depth=aParts.length;
}return fpFunction;
};
parseQuery._cache={};
var parseTestQuery=function(sQuery){var fpSelf=arguments.callee;
var aSplitQuery=backupKeys(sQuery).split(/\s*,\s*/);
var aResult=[];
var nLen=aSplitQuery.length;
var aFunc=[];
for(var i=0;
i<nLen;
i++){aFunc.push((function(sQuery){var sCacheKey=sQuery;
var fpFunction=fpSelf._cache[sCacheKey];
if(!fpFunction){sQuery=backupKeys(sQuery);
var oExpr=getExpression(sQuery);
eval("fpFunction = function(oEl) { "+oExpr.defines+"return ("+oExpr.returnsID+oExpr.returnsTAG+oExpr.returns+"); };");
}return fpFunction;
})(restoreKeys(aSplitQuery[i])));
}return aFunc;
};
parseTestQuery._cache={};
var distinct=function(aList){var aDistinct=[];
var oDummy={};
for(var i=0,oEl;
oEl=aList[i];
i++){var nUID=getUID(oEl);
if(oDummy[nUID]){continue;
}aDistinct.push(oEl);
oDummy[nUID]=true;
}return aDistinct;
};
var markElement_dontShrink=function(oEl,nDepth){var nUID=getUID(oEl);
if(cssquery._marked[nDepth][nUID]){return false;
}cssquery._marked[nDepth][nUID]=true;
return true;
};
var oResultCache=null;
var bUseResultCache=false;
var bExtremeMode=false;
var old_cssquery=function(sQuery,oParent,oOptions){var oArgs=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sQuery:String+"],"4var":["sQuery:String+","oParent:Variant"],"4var2":["sQuery:String+","oParent:Variant","oOptions:Variant"]},"cssquery");
oParent=oParent&&oParent.$value?oParent.$value():oParent;
oOptions=oOptions&&oOptions.$value?oOptions.$value():oOptions;
if(MobileCommentJindo.$Jindo.isString(oParent)){try{oParent=document.getElementById(oParent);
}catch(e){oParent=document;
}}if(!oParent){oParent=document;
}oParent=oParent||oParent.ownerDocument||oParent.document;
if(typeof sQuery=="object"){var oResult={};
for(var k in sQuery){if(sQuery.hasOwnProperty(k)){oResult[k]=arguments.callee(sQuery[k],oParent,oOptions);
}}return oResult;
}cost=0;
var executeTime=new Date().getTime();
var aRet;
for(var r=0,rp=debugOption.repeat;
r<rp;
r++){aRet=(function(sQuery,oParent,oOptions){if(oOptions){if(!oOptions.oneTimeOffCache){oOptions.oneTimeOffCache=false;
}}else{oOptions={oneTimeOffCache:false};
}cssquery.safeHTML(oOptions.oneTimeOffCache);
if(!oParent){oParent=document;
}oDocument_dontShrink=oParent.ownerDocument||oParent.document||oParent;
if(/\bMSIE\s([0-9]+(\.[0-9]+)*);/.test(_j_ag)&&parseFloat(RegExp.$1,10)<6){try{oDocument_dontShrink.location;
}catch(e){oDocument_dontShrink=document;
}oDocument_dontShrink.firstChild=oDocument_dontShrink.getElementsByTagName("html")[0];
oDocument_dontShrink.firstChild._IE5_parentNode=oDocument_dontShrink;
}bXMLDocument=(typeof XMLDocument!=="undefined")?(oDocument_dontShrink.constructor===XMLDocument):(!oDocument_dontShrink.location);
getUID=bXMLDocument?getUID4XML:getUID4HTML;
clearKeys();
var aSplitQuery=backupKeys(sQuery).split(/\s*,\s*/);
var aResult=[];
var nLen=aSplitQuery.length;
for(var i=0;
i<nLen;
i++){aSplitQuery[i]=restoreKeys(aSplitQuery[i]);
}for(var i=0;
i<nLen;
i++){var sSingleQuery=aSplitQuery[i];
var aSingleQueryResult=null;
var sResultCacheKey=sSingleQuery+(oOptions.single?"_single":"");
var aCache=bUseResultCache?oResultCache[sResultCacheKey]:null;
if(aCache){for(var j=0,oCache;
oCache=aCache[j];
j++){if(oCache.parent==oParent){aSingleQueryResult=oCache.result;
break;
}}}if(!aSingleQueryResult){var fpFunction=parseQuery(sSingleQuery);
cssquery._marked=[];
for(var j=0,nDepth=fpFunction.depth;
j<nDepth;
j++){cssquery._marked.push({});
}aSingleQueryResult=distinct(fpFunction(oParent,oOptions));
if(bUseResultCache&&!oOptions.oneTimeOffCache){if(!(oResultCache[sResultCacheKey] instanceof Array)){oResultCache[sResultCacheKey]=[];
}oResultCache[sResultCacheKey].push({parent:oParent,result:aSingleQueryResult});
}}aResult=aResult.concat(aSingleQueryResult);
}unsetNodeIndexes();
return aResult;
})(sQuery,oParent,oOptions);
}executeTime=new Date().getTime()-executeTime;
if(debugOption.callback){debugOption.callback(sQuery,cost,executeTime);
}return aRet;
};
var cssquery;
if(document.querySelectorAll){function _isNonStandardQueryButNotException(sQuery){return/\[\s*(?:checked|selected|disabled)/.test(sQuery);
}function _commaRevise(sQuery,sChange){return sQuery.replace(/\,/gi,sChange);
}function _startCombinator(sQuery){return/^[~>+]/.test(sQuery);
}var _div=document.createElement("div");
cssquery=function(sQuery,oParent,oOptions){var oArgs=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sQuery:String+"],"4var":["sQuery:String+","oParent:Variant"],"4var2":["sQuery:String+","oParent:Variant","oOptions:Variant"]},"cssquery");
oParent=oParent&&oParent.$value?oParent.$value():oParent;
oOptions=oOptions&&oOptions.$value?oOptions.$value():oOptions;
if(MobileCommentJindo.$Jindo.isString(oParent)){oParent=document.getElementById(oParent);
}var sTempId,aRet;
if(!oParent){oParent=document;
}oParent=oParent||oParent.ownerDocument||oParent.document;
var nNodeType=oParent.nodeType;
var oldID,oOldParent,id,_clone;
try{if(_isNonStandardQueryButNotException(sQuery)){return old_cssquery(sQuery,oParent,oOptions);
}if(nNodeType!==9){if(nNodeType===11){oParent=oParent.cloneNode(true);
_clone=_div.cloneNode(true);
_clone.appendChild(oParent);
oParent=_clone;
_clone=null;
}if(oParent.id){oldID=oParent.id;
}oParent.setAttribute("id",("C"+new Date().getTime()+Math.floor(Math.random()*1000000)));
if(oParent.tagName.toUpperCase()==="BODY"||MobileCommentJindo.$Element._contain((oParent.ownerDocument||oParent.document).body,oParent)){id=oParent.id;
var _parent=oParent.parentNode;
oOldParent=oParent;
oParent=_parent;
}else{_clone=_div.cloneNode(true);
id=oParent.id;
oOldParent=oParent;
_clone.appendChild(oOldParent);
oParent=_clone;
}sQuery=_commaRevise("#"+id+" "+sQuery,", #"+id);
}else{if(_startCombinator(sQuery)){return[];
}}if(oOptions&&oOptions.single){aRet=[oParent.querySelector(sQuery)];
}else{aRet=_toArray(oParent.querySelectorAll(sQuery));
}}catch(e){aRet=old_cssquery(sQuery,oParent,oOptions);
}if(oOldParent){if(oldID){oOldParent.id=oldID;
}else{oOldParent.removeAttribute("id");
}_clone=null;
}return aRet;
};
}else{cssquery=old_cssquery;
}cssquery.test=function(oEl,sQuery){clearKeys();
try{var oArgs=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4ele":["oEl:Element+","sQuery:String+"],"4doc":["oEl:Document+","sQuery:String+"]},"<static> cssquery#test");
eEl=oArgs.oEl;
sQuery=oArgs.sQuery;
}catch(e){return false;
}var aFunc=parseTestQuery(sQuery);
for(var i=0,nLen=aFunc.length;
i<nLen;
i++){if(aFunc[i](oEl)){return true;
}}return false;
};
cssquery.useCache=function(bFlag){if(bFlag!==undefined){bUseResultCache=bFlag;
cssquery.clearCache();
}return bUseResultCache;
};
cssquery.clearCache=function(){oResultCache={};
};
cssquery.getSingle=function(sQuery,oParent,oOptions){oOptions=oOptions&&oOptions.$value?oOptions.$value():oOptions;
return cssquery(sQuery,oParent,{single:true,oneTimeOffCache:oOptions?(!!oOptions.oneTimeOffCache):false})[0]||null;
};
cssquery.xpath=function(sXPath,oParent){sXPath=sXPath&&sXPath.$value?sXPath.$value():sXPath;
sXPath=sXPath.replace(/\/(\w+)(\[([0-9]+)\])?/g,function(_1,sTag,_2,sTh){sTh=sTh||"1";
return">"+sTag+":nth-of-type("+sTh+")";
});
return old_cssquery(sXPath,oParent);
};
cssquery.debug=function(fpCallback,nRepeat){var oArgs=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4fun":["fpCallback:Function+"],"4fun2":["fpCallback:Function+","nRepeat:Numeric"]},"<static> cssquery#debug");
debugOption.callback=oArgs.fpCallback;
debugOption.repeat=oArgs.nRepeat||1;
};
cssquery.safeHTML=function(bFlag){if(arguments.length>0){safeHTML=bFlag&&_JINDO_IS_IE;
}return safeHTML||!_JINDO_IS_IE;
};
cssquery.version=sVersion;
cssquery.release=function(){if(_JINDO_IS_IE){delete validUID;
validUID={};
if(bUseResultCache){cssquery.clearCache();
}}};
cssquery._getCacheInfo=function(){return{uidCache:validUID,eleCache:oResultCache};
};
cssquery._resetUID=function(){UID=0;
};
cssquery.extreme=function(bExtreme){if(arguments.length==0){bExtreme=true;
}bExtremeMode=bExtreme;
};
return cssquery;
})();
MobileCommentJindo.$Agent=function(){var a=arguments.callee;
var b=a._cached;
if(b){return b;
}if(!(this instanceof a)){return new a;
}if(!b){a._cached=this;
}this._navigator=navigator;
this._dm=document.documentMode;
};
MobileCommentJindo.$Agent.prototype.navigator=function(){var b={};
var h=-1;
var c=-1;
var n=this._navigator.userAgent;
var m=this._navigator.vendor||"";
var d=this._dm;
function g(o,f){return((f||"").indexOf(o)>-1);
}b.getName=function(){var f="";
for(x in b){if(typeof b[x]=="boolean"&&b[x]&&b.hasOwnProperty(x)){f=x;
}}return f;
};
b.webkit=g("WebKit",n);
b.opera=(window.opera!==undefined)||g("Opera",n);
b.ie=!b.opera&&g("MSIE",n);
b.chrome=b.webkit&&g("Chrome",n);
b.safari=b.webkit&&!b.chrome&&g("Apple",m);
b.firefox=g("Firefox",n);
b.mozilla=g("Gecko",n)&&!b.safari&&!b.chrome&&!b.firefox;
b.camino=g("Camino",m);
b.netscape=g("Netscape",n);
b.omniweb=g("OmniWeb",n);
b.icab=g("iCab",m);
b.konqueror=g("KDE",m);
b.mobile=(g("Mobile",n)||g("Android",n)||g("Nokia",n)||g("webOS",n)||g("Opera Mini",n)||g("BlackBerry",n)||(g("Windows",n)&&g("PPC",n))||g("Smartphone",n)||g("IEMobile",n))&&!g("iPad",n);
b.msafari=(!g("IEMobile",n)&&g("Mobile",n))||(g("iPad",n)&&g("Safari",n));
b.mopera=g("Opera Mini",n);
b.mie=g("PPC",n)||g("Smartphone",n)||g("IEMobile",n);
try{if(b.ie){if(d>0){h=d;
if(n.match(/(?:Trident)\/([0-9.]+)/)){var a=parseInt(RegExp.$1,10);
if(a>3){c=a+4;
}}else{c=h;
}}else{c=h=n.match(/(?:MSIE) ([0-9.]+)/)[1];
}}else{if(b.safari||b.msafari){h=parseFloat(n.match(/Safari\/([0-9.]+)/)[1],10);
if(h==100){h=1.1;
}else{if(n.match(/Version\/([0-9.]+)/)){h=RegExp.$1;
}else{h=[1,1.2,-1,1.3,2,3][Math.floor(h/100)];
}}}else{if(b.mopera){h=n.match(/(?:Opera\sMini)\/([0-9.]+)/)[1];
}else{if(b.firefox||b.opera||b.omniweb){h=n.match(/(?:Firefox|Opera|OmniWeb)\/([0-9.]+)/)[1];
}else{if(b.mozilla){h=n.match(/rv:([0-9.]+)/)[1];
}else{if(b.icab){h=n.match(/iCab[ \/]([0-9.]+)/)[1];
}else{if(b.chrome){h=n.match(/Chrome[ \/]([0-9.]+)/)[1];
}}}}}}}b.version=parseFloat(h,10);
b.nativeVersion=parseFloat(c,10);
if(isNaN(b.version)){b.version=-1;
}}catch(l){b.version=-1;
}this.navigator=function(){return b;
};
return b;
};
MobileCommentJindo.$Agent.prototype.os=function(){var d={};
var a=this._navigator.userAgent;
var c=this._navigator.platform;
var b=function(g,f){return(f.indexOf(g)>-1);
};
d.getName=function(){var f="";
for(x in d){if(d[x]===true&&d.hasOwnProperty(x)){f=x;
}}return f;
};
d.win=b("Win",c);
d.mac=b("Mac",c);
d.linux=b("Linux",c);
d.win2000=d.win&&(b("NT 5.0",a)||b("2000",a));
d.winxp=d.win&&b("NT 5.1",a);
d.xpsp2=d.winxp&&b("SV1",a);
d.vista=d.win&&b("NT 6.0",a);
d.win7=d.win&&b("NT 6.1",a);
d.ipad=b("iPad",a);
d.iphone=b("iPhone",a)&&!d.ipad;
d.android=b("Android",a);
d.nokia=b("Nokia",a);
d.webos=b("webOS",a);
d.blackberry=b("BlackBerry",a);
d.mwin=b("PPC",a)||b("Smartphone",a)||b("IEMobile",a);
this.os=function(){return d;
};
return d;
};
MobileCommentJindo.$Agent.prototype.flash=function(){var h={};
var g=this._navigator.plugins;
var a=this._navigator.mimeTypes;
var c=null;
h.installed=false;
h.version=-1;
if(!MobileCommentJindo.$Jindo.isUndefined(g)&&g.length){c=g["Shockwave Flash"];
if(c){h.installed=true;
if(c.description){h.version=parseFloat(c.description.match(/[0-9.]+/)[0],10);
}}if(g["Shockwave Flash 2.0"]){h.installed=true;
h.version=2;
}}else{if(!MobileCommentJindo.$Jindo.isUndefined(a)&&a.length){c=a["application/x-shockwave-flash"];
h.installed=(c&&c.enabledPlugin);
}else{for(var b=10;
b>1;
b--){try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+b);
h.installed=true;
h.version=b;
break;
}catch(d){}}}}this.flash=function(){return h;
};
this.info=this.flash;
return h;
};
MobileCommentJindo.$Agent.prototype.silverlight=function(){var d=new Object;
var c=this._navigator.plugins;
var a=null;
d.installed=false;
d.version=-1;
if(!MobileCommentJindo.$Jindo.isUndefined(c)&&c.length){a=c["Silverlight Plug-In"];
if(a){d.installed=true;
d.version=parseInt(a.description.split(".")[0],10);
if(a.description=="1.0.30226.2"){d.version=2;
}}}else{try{a=new ActiveXObject("AgControl.AgControl");
d.installed=true;
if(a.isVersionSupported("3.0")){d.version=3;
}else{if(a.isVersionSupported("2.0")){d.version=2;
}else{if(a.isVersionSupported("1.0")){d.version=1;
}}}}catch(b){}}this.silverlight=function(){return d;
};
return d;
};
MobileCommentJindo.$A=function(f){var a=arguments.callee;
if(f instanceof a){return f;
}if(!(this instanceof a)){try{MobileCommentJindo.$Jindo._warn(arguments.length,1,"$A");
return new a(f);
}catch(d){if(d instanceof TypeError){return null;
}throw d;
}}var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4arr":["aPram:Array+"],"4nul":["oNull:Null"],"4und":["oUndefined:Undefined"],arrt:["aPram:ArrayStyle"]},"$A");
if(c==null){f=[];
}switch(c+""){case"arrt":case"4arr":f=c.aPram;
break;
case"4nul":case"4und":case"4voi":f=[];
}this._array=[];
for(var b=0;
b<f.length;
b++){this._array[this._array.length]=f[b];
}};
MobileCommentJindo.$A.checkVarTypeObj={"4fun":["fCallback:Function+"],"4thi":["fCallback:Function+","oThis:Variant"]};
MobileCommentJindo.$A.prototype.toString=function(){return this._array.toString();
};
MobileCommentJindo.$A.prototype.get=function(a){MobileCommentJindo.$Jindo.checkVarType(arguments,{"4num":["nIndex:Numeric"]},"$A#get");
return this._array[a];
};
MobileCommentJindo.$A.prototype.set=function(a,b){MobileCommentJindo.$Jindo.checkVarType(arguments,{"4num":["nIndex:Numeric","vValue:Variant"]},"$A#set");
this._array[a]=b;
return this;
};
MobileCommentJindo.$A.prototype.length=function(f,b){var d=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4num":[MobileCommentJindo.$Jindo._F("nLen:Numeric")],sv:["nLen:Numeric","vValue:Variant"],"4voi":[]},"$A#length");
switch(d+""){case"4num":this._array.length=d.nLen;
return this;
case"sv":var a=this._array.length;
this._array.length=d.nLen;
for(var c=a;
c<f;
c++){this._array[c]=d.vValue;
}return this;
case"4voi":return this._array.length;
}};
MobileCommentJindo.$A.prototype.has=function(a){return(this.indexOf(a)>-1);
};
MobileCommentJindo.$A.prototype.indexOf=function(a){if(this._array.indexOf){MobileCommentJindo.$A.prototype.indexOf=function(b){return this._array.indexOf(b);
};
}else{MobileCommentJindo.$A.prototype.indexOf=function(b){for(var c=0;
c<this._array.length;
c++){if(this._array[c]==b){return c;
}}return -1;
};
}return this.indexOf(a);
};
MobileCommentJindo.$A.prototype.$value=function(){return this._array;
};
MobileCommentJindo.$A.prototype.push=function(a){return this._array.push.apply(this._array,_toArray(arguments));
};
MobileCommentJindo.$A.prototype.pop=function(){return this._array.pop();
};
MobileCommentJindo.$A.prototype.shift=function(){return this._array.shift();
};
MobileCommentJindo.$A.prototype.unshift=function(a){this._array.unshift.apply(this._array,_toArray(arguments));
return this._array.length;
};
MobileCommentJindo.$A.prototype.forEach=function(c,b){function a(d){return function(n,g){var l=MobileCommentJindo.$Jindo.checkVarType(arguments,MobileCommentJindo.$A.checkVarTypeObj,"$A#forEach");
var h=this;
function m(o,q,f){try{n.apply(g,_slice.call(arguments));
}catch(r){if(!(r instanceof h.constructor.Continue)){throw r;
}}}d(this,m);
return this;
};
}if(this._array.forEach){MobileCommentJindo.$A.prototype.forEach=a(function(f,d){try{f._array.forEach(d);
}catch(g){if(!(g instanceof f.constructor.Break)){throw g;
}}});
}else{MobileCommentJindo.$A.prototype.forEach=a(function(m,g){var d=m._array;
for(var h=0,f=d.length;
h<f;
h++){try{g(d[h],h,d);
}catch(n){if(n instanceof m.constructor.Break){break;
}throw n;
}}});
}return this.forEach.apply(this,_slice.call(arguments));
};
MobileCommentJindo.$A.prototype.slice=function(c,d){var b=this._array.slice.call(this._array,c,d);
return MobileCommentJindo.$A(b);
};
MobileCommentJindo.$A.prototype.splice=function(b,d){var c=this._array.splice.apply(this._array,_toArray(arguments));
return MobileCommentJindo.$A(c);
};
MobileCommentJindo.$A.prototype.shuffle=function(){this._array.sort(function(d,c){return Math.random()>Math.random()?1:-1;
});
return this;
};
MobileCommentJindo.$A.prototype.reverse=function(){this._array.reverse();
return this;
};
MobileCommentJindo.$A.prototype.empty=function(){this._array.length=0;
return this;
};
MobileCommentJindo.$A.Break=MobileCommentJindo.$Jindo.Break;
MobileCommentJindo.$A.Continue=MobileCommentJindo.$Jindo.Continue;
MobileCommentJindo.$A.prototype.map=function(c,b){function a(d){return function(o,g){var l=MobileCommentJindo.$Jindo.checkVarType(arguments,MobileCommentJindo.$A.checkVarTypeObj,"$A#map");
if(l==null){return this;
}var n=[];
var h=this;
function m(q,r,f){try{n.push(o.apply(g,_toArray(arguments)));
}catch(s){if(s instanceof h.constructor.Continue){n.push(q);
}else{throw s;
}}}d(this,m);
return MobileCommentJindo.$A(n);
};
}if(this._array.map){MobileCommentJindo.$A.prototype.map=a(function(f,d){f.forEach(d);
});
}else{MobileCommentJindo.$A.prototype.map=a(function(m,g){var d=m._array;
for(var h=0,f=m._array.length;
h<f;
h++){try{g(d[h],h,d);
}catch(n){if(n instanceof m.constructor.Break){break;
}else{throw n;
}}}});
}return this.map.apply(this,_toArray(arguments));
};
MobileCommentJindo.$A.prototype.filter=function(c,b){function a(d){return function(o,g){var l=MobileCommentJindo.$Jindo.checkVarType(arguments,MobileCommentJindo.$A.checkVarTypeObj,"$A#filter");
if(l==null){return this;
}var n=[];
var h=this;
function m(q,r,f){try{if(o.apply(g,_toArray(arguments))){n.push(q);
}}catch(s){if(!(s instanceof h.constructor.Continue)){throw s;
}}}d(this,m);
return MobileCommentJindo.$A(n);
};
}if(this._array.filter){MobileCommentJindo.$A.prototype.filter=a(function(f,d){try{f.forEach(d);
}catch(g){if(!(g instanceof f.constructor.Break)){throw g;
}}});
}else{MobileCommentJindo.$A.prototype.filter=a(function(m,g){var d=m._array;
for(var h=0,f=m._array.length;
h<f;
h++){try{g(d[h],h,d);
}catch(n){if(n instanceof m.constructor.Break){break;
}else{throw n;
}}}});
}return this.filter.apply(this,_toArray(arguments));
};
MobileCommentJindo.$A.prototype.every=function(d,c){var a=MobileCommentJindo.$Jindo.checkVarType;
var b=MobileCommentJindo.$A.checkVarTypeObj;
if(this._array.every){MobileCommentJindo.$A.prototype.every=function(g,f){a(arguments,b,"$A#every");
return this._array.every(g,f);
};
}else{MobileCommentJindo.$A.prototype.every=function(o,n){a(arguments,b,"$A#every");
var g=true;
var f=this._array;
for(var m=0,h=f.length;
m<h;
m++){if(o.call(n,f[m],m,f)===false){g=false;
break;
}}return g;
};
}return this.every.apply(this,_toArray(arguments));
};
MobileCommentJindo.$A.prototype.some=function(d,c){var a=MobileCommentJindo.$Jindo.checkVarType;
var b=MobileCommentJindo.$A.checkVarTypeObj;
if(this._array.some){MobileCommentJindo.$A.prototype.some=function(g,f){a(arguments,b,"$A#some");
return this._array.some(g,f);
};
}else{MobileCommentJindo.$A.prototype.some=function(o,n){a(arguments,b,"$A#some");
var g=false;
var f=this._array;
for(var m=0,h=f.length;
m<h;
m++){if(o.call(n,f[m],m,f)===true){g=true;
break;
}}return g;
};
}return this.some.apply(this,_toArray(arguments));
};
MobileCommentJindo.$A.prototype.refuse=function(c){var b=MobileCommentJindo.$A(_slice.apply(arguments));
return this.filter(function(a,d){return !(b.indexOf(a)>-1);
});
};
MobileCommentJindo.$A.prototype.unique=function(){var f=this._array,c=[],d=f.length;
var h,g;
for(h=0;
h<d;
h++){for(g=0;
g<c.length;
g++){if(f[h]==c[g]){break;
}}if(g>=c.length){c[g]=f[h];
}}this._array=c;
return this;
};
MobileCommentJindo.$Ajax=function(a,l){var q=arguments.callee;
if(!(this instanceof q)){try{MobileCommentJindo.$Jindo._warn(arguments.length,2,"$Ajax");
return new q(a,l||{});
}catch(o){if(o instanceof TypeError){return null;
}throw o;
}}var c=MobileCommentJindo.$Ajax;
var d=MobileCommentJindo.$Error;
var b=MobileCommentJindo.$Except;
var g=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sURL:String+"],"4obj":["sURL:String+","oOption:Hash+"]},"$Ajax");
if(g+""=="for_string"){g.oOption={};
}function n(){if(window.XMLHttpRequest){return new XMLHttpRequest();
}else{if(ActiveXObject){try{return new ActiveXObject("MSXML2.XMLHTTP");
}catch(s){return new ActiveXObject("Microsoft.XMLHTTP");
}return null;
}}}var m=location.toString();
var h="";
try{h=m.match(/^https?:\/\/([a-z0-9_\-\.]+)/i)[1];
}catch(o){}this._status=0;
this._url=g.sURL;
this._headers={};
this._options={type:"xhr",method:"post",proxy:"",timeout:0,onload:function(s){},onerror:null,ontimeout:function(s){},jsonp_charset:"utf-8",callbackid:"",callbackname:"",sendheader:true,async:true,decode:true,postBody:false};
this._options=c._setProperties(g.oOption,this);
c._validationOption(this._options,"$Ajax");
if(c.CONFIG){this.option(c.CONFIG);
}var f=this._options;
f.type=f.type.toLowerCase();
f.method=f.method.toLowerCase();
if(window.__jindo2_callback===undefined){window.__jindo2_callback=[];
}var r=this;
switch(f.type){case"put":case"delete":case"get":case"post":f.method=f.type;
case"xhr":this._request=n();
break;
case"flash":if(!c.SWFRequest){throw new d("MobileCommentJindo.$Ajax.SWFRequest"+b.REQUIRE_AJAX,"$Ajax");
}this._request=new c.SWFRequest(function(s,t){return r.option.apply(r,arguments);
});
break;
case"jsonp":if(!c.JSONPRequest){throw new d("MobileCommentJindo.$Ajax.JSONPRequest"+b.REQUIRE_AJAX,"$Ajax");
}this._request=new c.JSONPRequest(function(s,t){return r.option.apply(r,arguments);
});
break;
case"iframe":if(!c.FrameRequest){throw new d("MobileCommentJindo.$Ajax.FrameRequest"+b.REQUIRE_AJAX,"$Ajax");
}this._request=new c.FrameRequest(function(s,t){return r.option.apply(r,arguments);
});
}};
MobileCommentJindo.$Ajax._setProperties=function(b){b=b||{};
var a;
a=b.type=b.type||"xhr";
b.onload=b.onload||function(){};
b.method=b.method||"post";
if(a!="iframe"){b.timeout=b.timeout||0;
b.ontimeout=b.ontimeout||function(){};
b.onerror=b.onerror||function(){};
}if(a=="xhr"){b.async=b.async===undefined?true:b.async;
b.postBody=b.postBody===undefined?false:b.postBody;
b.sendheader=b.sendheader===undefined?true:b.sendheader;
}else{if(a=="jsonp"){b.method="get";
b.jsonp_charset=b.jsonp_charset||"utf-8";
b.callbackid=b.callbackid||"";
b.callbackname=b.callbackname||"";
}else{if(a=="flash"){b.sendheader=b.sendheader===undefined?true:b.sendheader;
b.decode=b.decode===undefined?true:b.decode;
}else{if(a=="iframe"){b.proxy=b.proxy||"";
}}}}return b;
};
MobileCommentJindo.$Ajax._validationOption=function(n,m){var d=MobileCommentJindo.$Error;
var c=MobileCommentJindo.$Except;
var a=n.type;
if(a==="jsonp"){if(n.method!=="get"){throw new d(c.CANNOT_USE_OPTION,m);
}}else{if(a==="flash"){if(!(n.method==="get"||n.method==="post")){throw new d(c.CANNOT_USE_OPTION,m,m);
}}}if(n.postBody){if(!(a==="xhr"&&(n.method!=="get"))){throw new d(c.CANNOT_USE_OPTION,m);
}}var b={xhr:"onload|timeout|ontimeout|onerror|async|method|postBody|sendheader|type",jsonp:"onload|timeout|ontimeout|onerror|jsonp_charset|callbackid|callbackname|method|type",flash:"onload|timeout|ontimeout|onerror|sendheader|decode|method|type",iframe:"onload|proxy|method|type"};
var o=[];
var h=0;
for(o[h++] in n){}var g=b[a];
for(var h=0,f=o.length;
h<f;
h++){if(g.indexOf(o[h])==-1){throw new d(c.CANNOT_USE_OPTION,m);
}}};
MobileCommentJindo.$Ajax.prototype._onload=(function(b){var a=MobileCommentJindo.$Ajax;
var c=MobileCommentJindo.$Jindo;
if(b){return function(){var d=this._request.readyState==4&&this._request.status==200;
var f;
if(this._request.readyState==4){try{if(this._request.status!=200&&c.isFunction(this._options.onerror)){if(!this._request.status==0){this._options.onerror(new a.Response(this._request));
}}else{if(!this._is_abort){f=this._options.onload(new a.Response(this._request));
}}}finally{if(c.isFunction(this._oncompleted)){this._oncompleted(d,f);
}if(this._options.type=="xhr"){this.abort();
try{delete this._request.onload;
}catch(g){this._request.onload=undefined;
}}delete this._request.onreadystatechange;
}}};
}else{return function(){var d=this._request.readyState==4&&this._request.status==200;
var f;
if(this._request.readyState==4){try{if(this._request.status!=200&&c.isFunction(this._options.onerror)){this._options.onerror(new a.Response(this._request));
}else{f=this._options.onload(new a.Response(this._request));
}}finally{this._status--;
if(c.isFunction(this._oncompleted)){this._oncompleted(d,f);
}}}};
}})(_JINDO_IS_IE);
MobileCommentJindo.$Ajax.prototype.request=function(c){var f=MobileCommentJindo.$Jindo;
var l=f.checkVarType(arguments,{"4voi":[],"4obj":[f._F("oData:Hash+")],"4str":["sData:String+"]},"$Ajax#request");
this._status++;
var z=this;
var r=this._request;
var d=this._options;
var o,y,u=[],o="";
var g=null;
var b=this._url;
this._is_abort=false;
var q=d.type.toUpperCase();
var n=d.method.toUpperCase();
if(d.postBody&&q=="XHR"&&n!="GET"){if(l+""=="4str"){o=l.sData;
}else{if(l+""=="4obj"){o=MobileCommentJindo.$Json(l.oData).toString();
}else{o=null;
}}}else{switch(l+""){case"4voi":o=null;
break;
case"4obj":var c=l.oData;
for(var h in c){if(c.hasOwnProperty(h)){y=c[h];
if(f.isFunction(y)){y=y();
}if(f.isArray(y)||(MobileCommentJindo.$A&&y instanceof MobileCommentJindo.$A)){if(y instanceof MobileCommentJindo.$A){y=y._array;
}for(var m=0;
m<y.length;
m++){u[u.length]=h+"="+encodeURIComponent(y[m]);
}}else{u[u.length]=h+"="+encodeURIComponent(y);
}}}o=u.join("&");
}}if(o&&q=="XHR"&&n=="GET"){if(b.indexOf("?")==-1){b+="?";
}else{b+="&";
}b+=o;
o=null;
}if(q=="XHR"&&d.async){r.open(n,b,d.async);
}else{if(q=="XHR"){r.open(n,b,false);
}else{r.open(n,b);
}}if(q=="XHR"&&n=="GET"&&_JINDO_IS_IE){r.setRequestHeader("If-Modified-Since","Thu, 1 Jan 1970 00:00:00 GMT");
}if(d.sendheader){if(!this._headers["Content-Type"]){r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8");
}r.setRequestHeader("charset","utf-8");
for(var s in this._headers){if(this._headers.hasOwnProperty(s)){if(typeof this._headers[s]=="function"){continue;
}r.setRequestHeader(s,String(this._headers[s]));
}}}if(r.addEventListener&&!_JINDO_IS_OP&&!_JINDO_IS_IE){if(this._loadFunc){r.removeEventListener("load",this._loadFunc,false);
}this._loadFunc=function(a){clearTimeout(g);
g=undefined;
z._onload(a);
};
r.addEventListener("load",this._loadFunc,false);
}else{if(r.onload!==undefined){r.onload=function(a){if(r.readyState==4&&!z._is_abort){clearTimeout(g);
g=undefined;
z._onload(a);
}};
}else{if(_j_ag.match(/(?:MSIE) ([0-9.]+)/)[1]==6&&d.async){var w=function(a){if(r.readyState==4&&!z._is_abort){if(g){clearTimeout(g);
g=undefined;
}z._onload(a);
clearInterval(z._interval);
z._interval=undefined;
}};
this._interval=setInterval(w,300);
}else{r.onreadystatechange=function(a){if(r.readyState==4){clearTimeout(g);
g=undefined;
z._onload(a);
}};
}}}if(d.timeout>0){if(this._timer){clearTimeout(this._timer);
}g=setTimeout(function(){z._is_abort=true;
if(z._interval){clearInterval(z._interval);
z._interval=undefined;
}try{r.abort();
}catch(a){}d.ontimeout(r);
if(f.isFunction(z._oncompleted)){z._oncompleted(false);
}},d.timeout*1000);
this._timer=g;
}this._test_url=b;
r.send(o);
return this;
};
MobileCommentJindo.$Ajax.prototype.isIdle=function(){return this._status==0;
};
MobileCommentJindo.$Ajax.prototype.abort=function(){try{if(this._interval){clearInterval(this._interval);
}if(this._timer){clearTimeout(this._timer);
}this._interval=undefined;
this._timer=undefined;
this._is_abort=true;
this._request.abort();
}finally{this._status--;
}return this;
};
MobileCommentJindo.$Ajax.prototype.url=function(b){var a=MobileCommentJindo.$Jindo.checkVarType(arguments,{g:[],s:["sURL:String+"]},"$Ajax#url");
switch(a+""){case"g":return this._url;
case"s":this._url=a.sURL;
return this;
}};
MobileCommentJindo.$Ajax.prototype.option=function(b,d){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{s4var:["sKey:String+","vValue:Variant"],s4obj:["oOption:Hash+"],g:["sKey:String+"]},"$Ajax#option");
switch(c+""){case"s4var":this._options[c.sKey]=c.vValue;
break;
case"s4obj":var g=c.oOption;
try{for(var a in g){if(g.hasOwnProperty(a)){this._options[a]=g[a];
}}}catch(f){}break;
case"g":return this._options[c.sKey];
}MobileCommentJindo.$Ajax._validationOption(this._options,"$Ajax#option");
return this;
};
MobileCommentJindo.$Ajax.prototype.header=function(b,d){if(this._options.type==="jsonp"){throw new MobileCommentJindo.$Error(MobileCommentJindo.$Except.CANNOT_USE_OPTION,"$Ajax#header");
}var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{s4str:["sKey:String+","sValue:String+"],s4obj:["oOption:Hash+"],g:["sKey:String+"]},"$Ajax#option");
switch(c+""){case"s4str":this._headers[c.sKey]=c.sValue;
break;
case"s4obj":var g=c.oOption;
try{for(var a in g){if(g.hasOwnProperty(a)){this._headers[a]=g[a];
}}}catch(f){}break;
case"g":return this._headers[c.sKey];
}return this;
};
MobileCommentJindo.$Ajax.Response=function(a){this._response=a;
this._regSheild=/^for\(;;\);/;
};
MobileCommentJindo.$Ajax.Response.prototype.xml=function(){return this._response.responseXML;
};
MobileCommentJindo.$Ajax.Response.prototype.text=function(){return this._response.responseText.replace(this._regSheild,"");
};
MobileCommentJindo.$Ajax.Response.prototype.status=function(){return this._response.status;
};
MobileCommentJindo.$Ajax.Response.prototype.readyState=function(){return this._response.readyState;
};
MobileCommentJindo.$Ajax.Response.prototype.json=function(){if(this._response.responseJSON){return this._response.responseJSON;
}else{if(this._response.responseText){try{return eval("("+this.text()+")");
}catch(e){throw new MobileCommentJindo.$Error(MobileCommentJindo.$Except.PARSE_ERROR,"$Ajax#json");
}}}return{};
};
MobileCommentJindo.$Ajax.Response.prototype.header=function(a){var b=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["name:String+"],"4voi":[]},"$Ajax.Response#header");
switch(b+""){case"4str":return this._response.getResponseHeader(a);
case"4voi":return this._response.getAllResponseHeaders();
}};
MobileCommentJindo.$Ajax.RequestBase=MobileCommentJindo.$Class({_respHeaderString:"",callbackid:"",callbackname:"",responseXML:null,responseJSON:null,responseText:"",status:404,readyState:0,$init:function(a){},onload:function(){},abort:function(){},open:function(){},send:function(){},setRequestHeader:function(a,b){MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sName:String+","sValue:String+"]},"$Ajax.RequestBase#setRequestHeader");
this._headers[a]=b;
},getResponseHeader:function(a){MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sName:String+"]},"$Ajax.RequestBase#getResponseHeader");
return this._respHeaders[a]||"";
},getAllResponseHeaders:function(){return this._respHeaderString;
},_getCallbackInfo:function(){var b="";
if(this.option("callbackid")!=""){var a=0;
do{b="_"+this.option("callbackid")+"_"+a;
a++;
}while(window.__jindo2_callback[b]);
}else{do{b="_"+Math.floor(Math.random()*10000);
}while(window.__jindo2_callback[b]);
}if(this.option("callbackname")==""){this.option("callbackname","_callback");
}return{callbackname:this.option("callbackname"),id:b,name:"window.__jindo2_callback."+b};
}});
MobileCommentJindo.$Ajax.JSONPRequest=MobileCommentJindo.$Class({_headers:{},_respHeaders:{},_script:null,_onerror:null,$init:function(a){this.option=a;
},_callback:function(b){if(this._onerror){clearTimeout(this._onerror);
this._onerror=null;
}var a=this;
this.responseJSON=b;
this.onload(this);
setTimeout(function(){a.abort();
},10);
},abort:function(){if(this._script){try{this._script.parentNode.removeChild(this._script);
}catch(a){}}},open:function(b,a){MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["method:String+","url:String+"]},"$Ajax.JSONPRequest#open");
this.responseJSON=null;
this._url=a;
},send:function(h){var g=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4nul":["data:Null"],"4str":["data:String+"]},"$Ajax.JSONPRequest#send");
var d=this;
var l=this._getCallbackInfo();
var c=document.getElementsByTagName("head")[0];
this._script=document.createElement("script");
this._script.type="text/javascript";
this._script.charset=this.option("jsonp_charset");
if(c){c.appendChild(this._script);
}else{if(document.body){document.body.appendChild(this._script);
}}window.__jindo2_callback[l.id]=function(m){try{d.readyState=4;
d.status=200;
d._callback(m);
}finally{delete window.__jindo2_callback[l.id];
}};
var f=MobileCommentJindo.$Agent(navigator);
var b=function(){if(!d.responseJSON){d.readyState=4;
d.status=404;
d._onerror=setTimeout(function(){d._callback(null);
},200);
}};
if(f.navigator().ie||f.navigator().opera){this._script.onreadystatechange=function(){if(this.readyState=="loaded"){b();
this.onreadystatechange=null;
}};
}else{this._script.onload=this._script.onerror=function(){b();
this.onerror=null;
this.onload=null;
};
}var a="&";
if(this._url.indexOf("?")==-1){a="?";
}switch(g+""){case"4voi":case"4nul":h="";
break;
case"4str":h="&"+h;
}this._test_url=this._script.src=this._url+a+l.callbackname+"="+l.name+h;
}}).extend(MobileCommentJindo.$Ajax.RequestBase);
MobileCommentJindo.$Ajax.SWFRequest=MobileCommentJindo.$Class({$init:function(a){this.option=a;
},_headers:{},_respHeaders:{},_getFlashObj:function(){var a=MobileCommentJindo.$Ajax.SWFRequest._tmpId;
var b=MobileCommentJindo.$Agent(window.navigator).navigator();
var c;
if(b.ie&&b.version==9){c=document.getElementById(a);
}else{c=window.document[a];
}return(this._getFlashObj=function(){return c;
})();
},_callback:function(a,b,d){this.readyState=4;
if(MobileCommentJindo.$Jindo.isNumeric(a)){this.status=a;
}else{if(a==true){this.status=200;
}}if(this.status==200){if(MobileCommentJindo.$Jindo.isString(b)){try{this.responseText=this.option("decode")?decodeURIComponent(b):b;
if(!this.responseText||this.responseText==""){this.responseText=b;
}}catch(c){if(c.name=="URIError"){this.responseText=b;
if(!this.responseText||this.responseText==""){this.responseText=b;
}}}}if(MobileCommentJindo.$Jindo.isHash(d)){this._respHeaders=d;
}}this.onload(this);
},open:function(c,a){MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["method:String+","url:String+"]},"$Ajax.SWFRequest#open");
var b=/https?:\/\/([a-z0-9_\-\.]+)/i;
this._url=a;
this._method=c;
},send:function(h){var n=MobileCommentJindo.$Jindo;
var d=n.checkVarType(arguments,{"4voi":[],"4nul":["data:Null"],"4str":["data:String+"]},"$Ajax.SWFRequest#send");
this.responseXML=false;
this.responseText="";
var q=this;
var o={};
var c=this._getCallbackInfo();
var b=this._getFlashObj();
function m(s){switch(typeof s){case"string":return'"'+s.replace(/\"/g,'\\"')+'"';
case"number":return s;
case"object":var t="",r=[];
if(n.isArray(s)){for(var u=0;
u<s.length;
u++){r[u]=m(s[u]);
}t="["+r.join(",")+"]";
}else{for(var f in s){if(s.hasOwnProperty(f)){r[r.length]=m(f)+":"+m(s[f]);
}}t="{"+r.join(",")+"}";
}return t;
default:return'""';
}}h=(h||"").split("&");
var l;
for(var g=0;
g<h.length;
g++){l=h[g];
pos=l.indexOf("=");
key=l.substring(0,pos);
val=l.substring(pos+1);
o[key]=decodeURIComponent(val);
}this._current_callback_id=c.id;
window.__jindo2_callback[c.id]=function(r,f){try{q._callback(r,f);
}finally{delete window.__jindo2_callback[c.id];
}};
var a={url:this._url,type:this._method,data:o,charset:"UTF-8",callback:c.name,header_json:this._headers};
b.requestViaFlash(m(a));
},abort:function(){if(this._current_callback_id){window.__jindo2_callback[this._current_callback_id]=function(){delete window.__jindo2_callback[info.id];
};
}}}).extend(MobileCommentJindo.$Ajax.RequestBase);
MobileCommentJindo.$Ajax.SWFRequest.write=function(a){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4str":["data:String+"]},"<static> $Ajax.SWFRequest#write");
switch(c+""){case"4voi":a="./ajax.swf";
}var d=MobileCommentJindo.$Ajax;
d.SWFRequest._tmpId="tmpSwf"+(new Date()).getMilliseconds()+Math.floor(Math.random()*100000);
var b="MobileCommentJindo.$Ajax.SWFRequest.loaded";
var f=(location.protocol=="https:")?"https:":"http:";
d._checkFlashLoad();
document.write('<div style="position:absolute;top:-1000px;left:-1000px"><object id="'+d.SWFRequest._tmpId+'" width="1" height="1" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+f+'//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"><param name="movie" value="'+a+'"><param name = "FlashVars" value = "activeCallback='+b+'" /><param name = "allowScriptAccess" value = "always" /><embed name="'+d.SWFRequest._tmpId+'" src="'+a+'" type="application/x-shockwave-flash" pluginspage="'+f+'://www.macromedia.com/go/getflashplayer" width="1" height="1" allowScriptAccess="always" swLiveConnect="true" FlashVars="activeCallback='+b+'"></embed></object></div>');
};
MobileCommentJindo.$Ajax._checkFlashLoad=function(){MobileCommentJindo.$Ajax._checkFlashKey=setTimeout(function(){MobileCommentJindo.$Ajax.SWFRequest.onerror();
},5000);
MobileCommentJindo.$Ajax._checkFlashLoad=function(){};
};
MobileCommentJindo.$Ajax.SWFRequest.activeFlash=false;
MobileCommentJindo.$Ajax.SWFRequest.onload=function(){};
MobileCommentJindo.$Ajax.SWFRequest.onerror=function(){};
MobileCommentJindo.$Ajax.SWFRequest.loaded=function(){clearTimeout(MobileCommentJindo.$Ajax._checkFlashKey);
MobileCommentJindo.$Ajax.SWFRequest.activeFlash=true;
MobileCommentJindo.$Ajax.SWFRequest.onload();
};
MobileCommentJindo.$Ajax.FrameRequest=MobileCommentJindo.$Class({_headers:{},_respHeaders:{},_frame:null,_domain:"",$init:function(a){this.option=a;
},_callback:function(d,b,c){var a=this;
this.readyState=4;
this.status=200;
this.responseText=b;
this._respHeaderString=c;
c.replace(/^([\w\-]+)\s*:\s*(.+)$/m,function(g,f,h){a._respHeaders[f]=h;
});
this.onload(this);
setTimeout(function(){a.abort();
},10);
},abort:function(){if(this._frame){try{this._frame.parentNode.removeChild(this._frame);
}catch(a){}}},open:function(d,a){MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["method:String+","url:String+"]},"$Ajax.FrameRequest#open");
var b=/https?:\/\/([a-z0-9_\-\.]+)/i;
var c=document.location.toString().match(b);
this._method=d;
this._url=a;
this._remote=String(a).match(/(https?:\/\/[a-z0-9_\-\.]+)(:[0-9]+)?/i)[0];
this._frame=null;
this._domain=(c[1]!=document.domain)?document.domain:"";
},send:function(g){var f=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4nul":["data:Null"],"4str":["data:String+"]},"$Ajax.FrameRequest#send");
this.responseXML="";
this.responseText="";
var q=this;
var o=/https?:\/\/([a-z0-9_\-\.]+)/i;
var d=this._getCallbackInfo();
var b;
var c=[];
c.push(this._remote+"/ajax_remote_callback.html?method="+this._method);
var h=[];
window.__jindo2_callback[d.id]=function(t,r,s){try{q._callback(t,r,s);
}finally{delete window.__jindo2_callback[d.id];
}};
for(var n in this._headers){if(this._headers.hasOwnProperty(n)){h[h.length]="'"+n+"':'"+this._headers[n]+"'";
}}h="{"+h.join(",")+"}";
c.push("&id="+d.id);
c.push("&header="+encodeURIComponent(h));
c.push("&proxy="+encodeURIComponent(this.option("proxy")));
c.push("&domain="+this._domain);
c.push("&url="+encodeURIComponent(this._url.replace(o,"")));
c.push("#"+encodeURIComponent(g));
var m=this._frame=document.createElement("iframe");
var a=m.style;
a.position="absolute";
a.visibility="hidden";
a.width="1px";
a.height="1px";
var l=document.body||document.documentElement;
if(l.firstChild){l.insertBefore(m,l.firstChild);
}else{l.appendChild(m);
}m.src=c.join("");
}}).extend(MobileCommentJindo.$Ajax.RequestBase);
MobileCommentJindo.$Ajax.Queue=function(b){var a=arguments.callee;
if(!(this instanceof a)){return new a(b||{});
}var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4obj":["option:Hash+"]},"$Ajax.Queue");
b=c.option;
this._options={async:false,useResultAsParam:false,stopOnFailure:false};
this.option(b);
this._queue=[];
};
MobileCommentJindo.$Ajax.Queue.prototype.option=function(b,d){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{s4str:["sKey:String+","sValue:Variant"],s4obj:["oOption:Hash+"],g:["sKey:String+"]},"$Ajax.Queue#option");
switch(c+""){case"s4str":this._options[c.sKey]=c.sValue;
break;
case"s4obj":var g=c.oOption;
try{for(var a in g){if(g.hasOwnProperty(a)){this._options[a]=g[a];
}}}catch(f){}break;
case"g":return this._options[c.sKey];
}return this;
};
MobileCommentJindo.$Ajax.Queue.prototype.add=function(c,a){var b=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4obj":["oAjax:Hash+"],"4obj2":["oAjax:Hash+","oPram:Hash+"]},"$Ajax.Queue");
switch(b+""){case"4obj2":a=b.oPram;
}this._queue.push({obj:c,param:a});
return this;
};
MobileCommentJindo.$Ajax.Queue.prototype.request=function(){this._requestAsync.apply(this,this.option("async")?[]:[0]);
return this;
};
MobileCommentJindo.$Ajax.Queue.prototype._requestSync=function(f,d){var c=this;
var b=this._queue;
if(b.length>f+1){b[f].obj._oncompleted=function(l,m){if(!c.option("stopOnFailure")||l){c._requestSync(f+1,m);
}};
}var h=b[f].param||{};
if(this.option("useResultAsParam")&&d){try{for(var a in d){if(h[a]===undefined&&d.hasOwnProperty(a)){h[a]=d[a];
}}}catch(g){}}b[f].obj.request(h);
};
MobileCommentJindo.$Ajax.Queue.prototype._requestAsync=function(){for(var a=0;
a<this._queue.length;
a++){this._queue[a].obj.request(this._queue[a].param||{});
}};
MobileCommentJindo.$H=function(d){var a=arguments.callee;
if(d instanceof a){return d;
}if(!(this instanceof a)){try{MobileCommentJindo.$Jindo._warn(arguments.length,1,"$H");
return new a(d||{});
}catch(f){if(f instanceof TypeError){return null;
}throw f;
}}var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4obj":["oObj:Hash+"],"4vod":[]},"$H");
this._table={};
for(var b in d){if(d.hasOwnProperty(b)){this._table[b]=d[b];
}}};
MobileCommentJindo.$H.prototype.$value=function(){return this._table;
};
MobileCommentJindo.$H.prototype.$=function(b,d){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{s4var:[MobileCommentJindo.$Jindo._F("key:String+"),"value:Variant"],s4var2:["key:Numeric","value:Variant"],g4str:["key:String+"],s4obj:["oObj:Hash+"],g4num:["key:Numeric"]},"$H#$");
switch(c+""){case"s4var":case"s4var2":this._table[b]=d;
return this;
case"s4obj":var f=c.oObj;
for(var a in f){this._table[a]=f[a];
}return this;
default:return this._table[b];
}};
MobileCommentJindo.$H.prototype.length=function(){var b=0;
for(var a in this._table){if(this._table.hasOwnProperty(a)){if(Object.prototype[a]!==undefined&&Object.prototype[a]===this._table[a]){continue;
}b++;
}}return b;
};
MobileCommentJindo.$H.prototype.forEach=function(l,b){var f=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4fun":["callback:Function+"],"4obj":["callback:Function+","thisObject:Variant"]},"$H#forEach");
var c=this._table;
var d=this.constructor;
for(var a in c){if(c.hasOwnProperty(a)){if(!c.propertyIsEnumerable(a)){continue;
}try{l.call(b,c[a],a,c);
}catch(g){if(g instanceof d.Break){break;
}if(g instanceof d.Continue){continue;
}throw g;
}}}return this;
};
MobileCommentJindo.$H.prototype.filter=function(m,b){var g=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4fun":["callback:Function+"],"4obj":["callback:Function+","thisObject:Variant"]},"$H#filter");
var f=MobileCommentJindo.$H();
var d=this._table;
var c=this.constructor;
for(var a in d){if(d.hasOwnProperty(a)){if(!d.propertyIsEnumerable(a)){continue;
}try{if(m.call(b,d[a],a,d)){f.add(a,d[a]);
}}catch(l){if(l instanceof c.Break){break;
}if(l instanceof c.Continue){continue;
}throw l;
}}}return f;
};
MobileCommentJindo.$H.prototype.map=function(m,b){var g=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4fun":["callback:Function+"],"4obj":["callback:Function+","thisObject:Variant"]},"$H#map");
var f=MobileCommentJindo.$H();
var d=this._table;
var c=this.constructor;
for(var a in d){if(d.hasOwnProperty(a)){if(!d.propertyIsEnumerable(a)){continue;
}try{f.add(a,m.call(b,d[a],a,d));
}catch(l){if(l instanceof c.Break){break;
}if(l instanceof c.Continue){f.add(a,d[a]);
}else{throw l;
}}}}return f;
};
MobileCommentJindo.$H.prototype.add=function(a,c){var b=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["key:String+","value:Variant"],"4num":["key:Numeric","value:Variant"]},"$H#add");
this._table[a]=c;
return this;
};
MobileCommentJindo.$H.prototype.remove=function(a){var b=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["key:String+"],"4num":["key:Numeric"]},"$H#remove");
if(this._table[a]===undefined){return null;
}var c=this._table[a];
delete this._table[a];
return c;
};
MobileCommentJindo.$H.prototype.search=function(g){var f=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["value:Variant"]},"$H#search");
var a=false;
var d=this._table;
for(var c in d){if(d.hasOwnProperty(c)){if(!d.propertyIsEnumerable(c)){continue;
}var b=d[c];
if(b===g){a=c;
break;
}}}return a;
};
MobileCommentJindo.$H.prototype.hasKey=function(a){var b=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["key:String+"],"4num":["key:Numeric"]},"$H#hasKey");
return this._table[a]!==undefined;
};
MobileCommentJindo.$H.prototype.hasValue=function(b){var a=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["value:Variant"]},"$H#hasValue");
return(this.search(b)!==false);
};
MobileCommentJindo.$H.prototype.sort=function(){var f=new Object;
var b=[];
for(var c in this._table){if(this._table.hasOwnProperty(c)){b[b.length]=this._table[c];
}}var c=false;
b.sort();
for(var d=0;
d<b.length;
d++){c=this.search(b[d]);
f[c]=b[d];
delete this._table[c];
}this._table=f;
return this;
};
MobileCommentJindo.$H.prototype.ksort=function(){var d=new Object;
var b=this.keys();
b.sort();
for(var c=0;
c<b.length;
c++){d[b[c]]=this._table[b[c]];
}this._table=d;
return this;
};
MobileCommentJindo.$H.prototype.keys=function(){var b=new Array;
for(var a in this._table){if(this._table.hasOwnProperty(a)){b.push(a);
}}return b;
};
MobileCommentJindo.$H.prototype.values=function(){var b=[];
for(var a in this._table){if(this._table.hasOwnProperty(a)){b[b.length]=this._table[a];
}}return b;
};
MobileCommentJindo.$H.prototype.toQueryString=function(){var c=[],d=null,a=0;
for(var b in this._table){if(this._table.hasOwnProperty(b)){d=this._table[b];
if(MobileCommentJindo.$Jindo.isArray(d)){for(i=0;
i<d.length;
i++){c[c.length]=encodeURIComponent(b)+"[]="+encodeURIComponent(d[i]+"");
}}else{c[c.length]=encodeURIComponent(b)+"="+encodeURIComponent(this._table[b]+"");
}}}return c.join("&");
};
MobileCommentJindo.$H.prototype.empty=function(){this._table={};
return this;
};
MobileCommentJindo.$H.Break=MobileCommentJindo.$Jindo.Break;
MobileCommentJindo.$H.Continue=MobileCommentJindo.$Jindo.Continue;
MobileCommentJindo.$Json=function(b){var a=arguments.callee;
if(b instanceof a){return b;
}if(!(this instanceof a)){try{MobileCommentJindo.$Jindo._warn(arguments.length,1,"$Json");
return new a(arguments.length?b:{});
}catch(c){if(c instanceof TypeError){return null;
}throw c;
}}MobileCommentJindo.$Jindo.checkVarType(arguments,{"4var":["oObject:Variant"]},"$Json");
this._object=b;
};
MobileCommentJindo.$Json._oldMakeJSON=function(sObject,sType){try{if(MobileCommentJindo.$Jindo.isString(sObject)&&/^(?:\s*)[\{\[]/.test(sObject)){sObject=eval("("+sObject+")");
}else{return sObject;
}}catch(e){throw new MobileCommentJindo.$Error(MobileCommentJindo.$Except.PARSE_ERROR,sType);
}return sObject;
};
MobileCommentJindo.$Json.fromXML=function(a){var g=MobileCommentJindo.$Jindo;
var l=g.checkVarType(arguments,{"4str":["sXML:String+"]},"<static> $Json#fromXML");
var d={};
var r=/\s*<(\/?[\w:\-]+)((?:\s+[\w:\-]+\s*=\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'))*)\s*((?:\/>)|(?:><\/\1>|\s*))|\s*<!\[CDATA\[([\w\W]*?)\]\]>\s*|\s*>?([^<]*)/ig;
var m=/^[0-9]+(?:\.[0-9]+)?$/;
var n={"&amp;":"&","&nbsp;":" ","&quot;":'"',"&lt;":"<","&gt;":">"};
var b={tags:["/"],stack:[d]};
var q=function(o){if(g.isUndefined(o)){return"";
}return o.replace(/&[a-z]+;/g,function(s){return(g.isString(n[s]))?n[s]:s;
});
};
var f=function(o,t){o.replace(/([\w\:\-]+)\s*=\s*(?:"((?:\\"|[^"])*)"|'((?:\\'|[^'])*)')/g,function(u,s,w,v){t[s]=q((w?w.replace(/\\"/g,'"'):undefined)||(v?v.replace(/\\'/g,"'"):undefined));
});
};
var c=function(t){for(var s in t){if(t.hasOwnProperty(s)){if(Object.prototype[s]){continue;
}return false;
}}return true;
};
var h=function(A,z,w,v,u,t){var H,G="";
var F=b.stack.length-1;
if(g.isString(z)&&z){if(z.substr(0,1)!="/"){var E=(typeof w=="string"&&w);
var C=(typeof v=="string"&&v);
var y=(!E&&C)?"":{};
H=b.stack[F];
if(g.isUndefined(H[z])){H[z]=y;
H=b.stack[F+1]=H[z];
}else{if(H[z] instanceof Array){var B=H[z].length;
H[z][B]=y;
H=b.stack[F+1]=H[z][B];
}else{H[z]=[H[z],y];
H=b.stack[F+1]=H[z][1];
}}if(E){f(w,H);
}b.tags[F+1]=z;
if(C){b.tags.length--;
b.stack.length--;
}}else{b.tags.length--;
b.stack.length--;
}}else{if(g.isString(u)&&u){G=u;
}else{if(g.isString(t)&&t){G=q(t);
}}}if(G.replace(/^\s+/g,"").length>0){var D=b.stack[F-1];
var I=b.tags[F];
if(m.test(G)){G=parseFloat(G,10);
}else{if(G=="true"){G=true;
}else{if(G=="false"){G=false;
}}}if(g.isUndefined(D)){return;
}if(D[I] instanceof Array){var s=D[I];
if(g.isHash(s[s.length-1])&&!c(s[s.length-1])){s[s.length-1].$cdata=G;
s[s.length-1].toString=function(){return G;
};
}else{s[s.length-1]=G;
}}else{if(g.isHash(D[I])&&!c(D[I])){D[I].$cdata=G;
D[I].toString=function(){return G;
};
}else{D[I]=G;
}}}};
a=a.replace(/<(\?|\!-)[^>]*>/g,"");
a.replace(r,h);
return MobileCommentJindo.$Json(d);
};
MobileCommentJindo.$Json.prototype.get=function(h){var f=MobileCommentJindo.$Jindo;
var g=f.checkVarType(arguments,{"4str":["sPath:String+"]},"$Json#get");
var d=MobileCommentJindo.$Json._oldMakeJSON(this._object,"$Json#get");
if(!(f.isHash(d)||f.isArray(d))){throw new MobileCommentJindo.$Error(MobileCommentJindo.$Except.JSON_MUST_HAVE_ARRAY_HASH,"$Json#get");
}var a=h.split("/");
var u=/^([\w:\-]+)\[([0-9]+)\]$/;
var r=[[d]],t=r[0];
var n=a.length,c,s,b,l,q;
for(var m=0;
m<n;
m++){if(a[m]=="."||a[m]==""){continue;
}if(a[m]==".."){r.length--;
}else{b=[];
s=-1;
c=t.length;
if(c==0){return[];
}if(u.test(a[m])){s=+RegExp.$2;
}for(l=0;
l<c;
l++){q=t[l][a[m]];
if(f.isUndefined(q)){continue;
}if(f.isArray(q)){if(s>-1){if(s<q.length){b[b.length]=q[s];
}}else{b=b.concat(q);
}}else{if(s==-1){b[b.length]=q;
}}}r[r.length]=b;
}t=r[r.length-1];
}return t;
};
MobileCommentJindo.$Json.prototype.toString=function(){MobileCommentJindo.$Json.prototype.toString=function(){return MobileCommentJindo.$Json._oldToString(this._object);
};
return this.toString();
};
MobileCommentJindo.$Json._oldToString=function(a){var c=MobileCommentJindo.$Jindo;
var b={$:function(d){if(c.isNull(d)||d==Infinity){return"null";
}if(c.isFunction(d)){return undefined;
}if(c.isUndefined(d)){return undefined;
}if(c.isBoolean(d)){return d?"true":"false";
}if(c.isString(d)){return this.s(d);
}if(c.isNumeric(d)){return d;
}if(c.isArray(d)){return this.a(d);
}if(c.isHash(d)){return this.o(d);
}if(typeof d=="object"||c.isRegExp(d)){return"{}";
}if(isNaN(d)){return"null";
}},s:function(d){var f={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r","\t":"\\t"};
var g=function(h){return(f[h]!==undefined)?f[h]:h;
};
return'"'+d.replace(/[\\"'\n\r\t]/g,g)+'"';
},a:function(d){var g="[",l="",h=d.length;
for(var f=0;
f<h;
f++){if(c.isFunction(d[f])){continue;
}g+=l+this.$(d[f]);
if(!l){l=",";
}}return g+"]";
},o:function(g){g=MobileCommentJindo.$H(g).ksort().$value();
var f="{",h="";
for(var d in g){if(g.hasOwnProperty(d)){if(c.isUndefined(g[d])||c.isFunction(g[d])){continue;
}f+=h+this.s(d)+":"+this.$(g[d]);
if(!h){h=",";
}}}return f+"}";
}};
return b.$(a);
};
MobileCommentJindo.$Json.prototype.toXML=function(){var a=function(m,f){var l=function(o,n){return"<"+f+(n||"")+">"+o+"</"+f+">";
};
switch(typeof m){case"undefined":case"null":return l("");
case"number":return l(m);
case"string":if(m.indexOf("<")<0){return l(m.replace(/&/g,"&amp;"));
}else{return l("<![CDATA["+m+"]]>");
}case"boolean":return l(String(m));
case"object":var g="";
if(m instanceof Array){var d=m.length;
for(var h=0;
h<d;
h++){g+=a(m[h],f);
}}else{var c="";
for(var b in m){if(m.hasOwnProperty(b)){if(b=="$cdata"||typeof m[b]=="function"){continue;
}g+=a(m[b],b);
}}if(f){g=l(g,c);
}}return g;
}};
return a(MobileCommentJindo.$Json._oldMakeJSON(this._object,"$Json#toXML"),"");
};
MobileCommentJindo.$Json.prototype.toObject=function(){return MobileCommentJindo.$Json._oldMakeJSON(this._object,"$Json#toObject");
};
MobileCommentJindo.$Json.prototype.compare=function(a){var f=MobileCommentJindo.$Jindo;
var b=f.checkVarType(arguments,{"4obj":["oData:Hash+"],"4arr":["oData:Array+"]},"$Json#compare");
function c(h,m){if(f.isArray(h)){if(h.length!==m.length){return false;
}for(var l=0,n=h.length;
l<n;
l++){if(!arguments.callee(h[l],m[l])){return false;
}}return true;
}else{if(f.isRegExp(h)||f.isFunction(h)||f.isDate(h)){return String(h)===String(m);
}else{if(typeof h==="number"&&isNaN(h)){return isNaN(m);
}else{if(f.isHash(h)){var n=0;
for(var g in h){n++;
}for(var g in m){n--;
}if(n!==0){return false;
}for(var g in h){if(g in m===false||!arguments.callee(h[g],m[g])){return false;
}}return true;
}}}}return h===m;
}try{return c(MobileCommentJindo.$Json._oldMakeJSON(this._object,"$Json#compare"),a);
}catch(d){return false;
}};
MobileCommentJindo.$Json.prototype.$value=MobileCommentJindo.$Json.prototype.toObject;
MobileCommentJindo.$Cookie=function(){var a=arguments.callee;
var b=a._cached;
if(a._cached){return a._cached;
}if(!(this instanceof a)){return new a;
}if(typeof MobileCommentJindo.$Jindo.isUndefined(a._cached)){a._cached=this;
}};
MobileCommentJindo.$Cookie.prototype.keys=function(){var c=document.cookie.split(";");
var f=/^\s+|\s+$/g;
var b=new Array;
for(var d=0;
d<c.length;
d++){b[b.length]=c[d].substr(0,c[d].indexOf("=")).replace(f,"");
}return b;
};
MobileCommentJindo.$Cookie.prototype.get=function(f){var d=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sName:String+"]},"$Cookie#get");
var a=document.cookie.split(/\s*;\s*/);
var c=new RegExp("^(\\s*"+f+"\\s*=)");
for(var b=0;
b<a.length;
b++){if(c.test(a[b])){return unescape(a[b].substr(RegExp.$1.length));
}}return null;
};
MobileCommentJindo.$Cookie.prototype.set=function(g,l,f,a,b){var h=MobileCommentJindo.$Jindo;
var d=h.checkVarType(arguments,{"4str":["sName:String+","sValue:String+"],day_for_string:["sName:String+","sValue:String+","nDays:Numeric"],domain_for_string:["sName:String+","sValue:String+","nDays:Numeric","sDomain:String+"],path_for_string:["sName:String+","sValue:String+","nDays:Numeric","sDomain:String+","sPath:String+"]},"$Cookie#set");
var c="";
f=parseInt(f,10);
if(!isNaN(f)&&h.isNumeric(f)){c=";expires="+(new Date((new Date()).getTime()+f*1000*60*60*24)).toGMTString();
}if(h.isUndefined(a)){a="";
}if(h.isUndefined(b)){b="/";
}document.cookie=g+"="+escape(l)+c+"; path="+b+(a?"; domain="+a:"");
return this;
};
MobileCommentJindo.$Cookie.prototype.remove=function(f,m,d){var a=MobileCommentJindo.$Jindo;
var c=a.checkVarType(arguments,{"4str":["sName:String+"],domain_for_string:["sName:String+","sDomain:String+"],path_for_string:["sName:String+","sDomain:String+","sPath:String+"]},"$Cookie#remove");
var h=_toArray(arguments);
var n=[];
for(var g=0,b=h.length;
g<b;
g++){n.push(h[g]);
if(g==0){n.push("");
n.push(-1);
}}if(!a.isNull(this.get(f))){this.set.apply(this,n);
}return this;
};
MobileCommentJindo.$Element=function(c){var b=arguments.callee;
if(c&&c instanceof b){return c;
}if(!(this instanceof b)){try{MobileCommentJindo.$Jindo._warn(arguments.length,1,"$Element");
return new b(c);
}catch(f){if(f instanceof TypeError){return null;
}throw f;
}}var g=MobileCommentJindo.$Jindo;
var d=g.checkVarType(arguments,{"4str":["sID:String+"],"4nod":["oEle:Node"],"4doc":["oEle:Document+"],"4win":["oEle:Window+"]},"$Element");
switch(d+""){case"4str":c=MobileCommentJindo.$(c);
break;
default:c=d.oEle;
}this._element=c;
if(this._element!=null){if(this._element.__jindo__id){this._key=this._element.__jindo__id;
}else{this._element.__jindo__id=this._key=_makeRandom();
}var a=this._element.tagName;
this.tag=a!==undefined?a.toLowerCase():"";
}else{throw new TypeError("{not_found_element}");
}};
function _makeRandom(){return"e"+new Date().getTime()+parseInt(Math.random()*100000000,10);
}MobileCommentJindo.$Element._eventBind=function(a,d,c,b){if(a.addEventListener){if(document.documentMode==9){MobileCommentJindo.$Element._eventBind=function(f,h,g){if(/resize/.test(h)){f.attachEvent("on"+h,g);
}else{f.addEventListener(h,g,!!b);
}};
}else{MobileCommentJindo.$Element._eventBind=function(f,l,h,g){f.addEventListener(l,h,!!g);
};
}}else{MobileCommentJindo.$Element._eventBind=function(f,h,g){f.attachEvent("on"+h,g);
};
}MobileCommentJindo.$Element._eventBind(a,d,c,b);
};
MobileCommentJindo.$Element._unEventBind=function(a,c,b){if(a.removeEventListener){if(document.documentMode==9){MobileCommentJindo.$Element._unEventBind=function(d,g,f){if(/resize/.test(g)){d.detachEvent("on"+g,f);
}else{d.removeEventListener(g,f,false);
}};
}else{MobileCommentJindo.$Element._unEventBind=function(d,g,f){d.removeEventListener(g,f,false);
};
}}else{MobileCommentJindo.$Element._unEventBind=function(d,g,f){d.detachEvent("on"+g,f);
};
}MobileCommentJindo.$Element._unEventBind(a,c,b);
};
MobileCommentJindo.$Element.prototype.$value=function(){return this._element;
};
MobileCommentJindo.$Element.prototype.visible=function(a,c){var b=MobileCommentJindo.$Jindo.checkVarType(arguments,{g:[],s4bln:[MobileCommentJindo.$Jindo._F("bVisible:Boolean")],s4str:["bVisible:Boolean","sDisplay:String+"]},"$Element#visible");
switch(b+""){case"g":return(this._getCss(this._element,"display")!="none");
case"s4bln":this[a?"show":"hide"]();
return this;
case"s4str":this[a?"show":"hide"](c);
return this;
}};
MobileCommentJindo.$Element.prototype.show=function(h){var g=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4str":["sDisplay:String+"]},"$Element#show");
var f=this._element.style;
var a="block";
var m={p:a,div:a,form:a,h1:a,h2:a,h3:a,h4:a,ol:a,ul:a,fieldset:a,td:"table-cell",th:"table-cell",li:"list-item",table:"table",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",col:"table-column",colgroup:"table-column-group",caption:"table-caption",dl:a,dt:a,dd:a};
try{switch(g+""){case"4voi":var d=m[this.tag];
f.display=d||"inline";
break;
case"4str":f.display=h;
}}catch(l){f.display="block";
}return this;
};
MobileCommentJindo.$Element.prototype.hide=function(){this._element.style.display="none";
return this;
};
MobileCommentJindo.$Element.prototype.toggle=function(b){var a=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4str":["sDisplay:String+"]},"$Element#toggle");
this[this._getCss(this._element,"display")=="none"?"show":"hide"].apply(this,arguments);
return this;
};
MobileCommentJindo.$Element.prototype.opacity=function(f){var d=MobileCommentJindo.$Jindo.checkVarType(arguments,{g:[],s:["nOpacity:Numeric"]},"$Element#opacity");
var c,g=this._element,a;
switch(d+""){case"g":a=(this._getCss(g,"display")!="none");
if(typeof g.filters!="undefined"){c=typeof g.filters.alpha=="undefined"?(a?100:0):g.filters.alpha.opacity;
c=c/100;
}else{c=parseFloat(g.style.opacity,10);
if(isNaN(c)){c=a?1:0;
}}return c;
case"s":a=(this._getCss(g,"display")!="none");
f=d.nOpacity;
g.style.zoom=1;
f=Math.max(Math.min(f,1),0);
if(typeof g.filters!="undefined"){f=Math.ceil(f*100);
if(typeof g.filters!="unknown"&&typeof g.filters.alpha!="undefined"){g.filters.alpha.opacity=f;
}else{g.style.filter=(g.style.filter+" alpha(opacity="+f+")");
}}else{g.style.opacity=f;
}return this;
}};
MobileCommentJindo.$Element.prototype.css=function(g,s){var f=MobileCommentJindo.$Jindo.checkVarType(arguments,{g:["sName:String+"],s4str:[MobileCommentJindo.$Jindo._F("sName:String+"),MobileCommentJindo.$Jindo._F("vValue:String+")],s4num:["sName:String+","vValue:Numeric"],s4obj:["oObj:Hash+"]},"$Element#css");
var l=this._element;
switch(f+""){case"s4str":case"s4num":var h={};
h[g]=s;
g=h;
break;
case"s4obj":g=f.oObj;
break;
case"g":var m=this._getCss;
if(g=="opacity"){return this.opacity();
}if((_JINDO_IS_FF||_JINDO_IS_OP)&&(g=="backgroundPositionX"||g=="backgroundPositionY")){var b=m(l,"backgroundPosition").split(/\s+/);
return(g=="backgroundPositionX")?b[0]:b[1];
}if(_JINDO_IS_IE&&g=="backgroundPosition"){return m(l,"backgroundPositionX")+" "+m(l,"backgroundPositionY");
}if((_JINDO_IS_FF||_JINDO_IS_SF||_JINDO_IS_CH)&&(g=="padding"||g=="margin")){var o=m(l,g+"Top");
var r=m(l,g+"Right");
var a=m(l,g+"Bottom");
var c=m(l,g+"Left");
if((o==r)&&(a==c)){return o;
}else{if(o==a){if(r==c){return o+" "+r;
}else{return o+" "+r+" "+a+" "+c;
}}else{return o+" "+r+" "+a+" "+c;
}}}return m(l,g);
}var q,n;
for(var d in g){if(g.hasOwnProperty(d)){q=g[d];
if(!(MobileCommentJindo.$Jindo.isString(q)||MobileCommentJindo.$Jindo.isNumeric(q))){continue;
}if(d=="opacity"){this.opacity(q);
continue;
}if(d=="cssFloat"&&_JINDO_IS_IE){d="styleFloat";
}if((_JINDO_IS_FF||_JINDO_IS_OP)&&(d=="backgroundPositionX"||d=="backgroundPositionY")){var b=this.css("backgroundPosition").split(/\s+/);
q=d=="backgroundPositionX"?q+" "+b[1]:b[0]+" "+q;
this._setCss(l,"backgroundPosition",q);
}else{this._setCss(l,d,q);
}}}return this;
};
MobileCommentJindo.$Element.prototype._getCss=function(c,b){var a;
if(c.currentStyle){a=function(l,h){try{if(h=="cssFloat"){h="styleFloat";
}var g=l.style[h];
if(g){return g;
}else{var d=l.currentStyle;
if(d){return d[h];
}}return g;
}catch(f){throw new MobileCommentJindo.$Error((l.tagName||"document")+MobileCommentJindo.$Except.NOT_USE_CSS,"$Element#css");
}};
}else{if(window.getComputedStyle){a=function(l,h){try{if(h=="cssFloat"){h="float";
}var m=l.ownerDocument||l.document||document;
var f=(l.style[h]||m.defaultView.getComputedStyle(l,null).getPropertyValue(h.replace(/([A-Z])/g,"-$1").toLowerCase()));
if(h=="textDecoration"){f=f.replace(",","");
}return f;
}catch(g){throw new MobileCommentJindo.$Error((l.tagName||"document")+MobileCommentJindo.$Except.NOT_USE_CSS,"$Element#css");
}};
}else{a=function(g,f){try{if(f=="cssFloat"&&_JINDO_IS_IE){f="styleFloat";
}return g.style[f];
}catch(d){throw new MobileCommentJindo.$Error((g.tagName||"document")+MobileCommentJindo.$Except.NOT_USE_CSS,"$Element#css");
}};
}}MobileCommentJindo.$Element.prototype._getCss=a;
return a(c,b);
};
MobileCommentJindo.$Element.prototype._setCss=function(c,b,a){if(("#top#left#right#bottom#").indexOf(b+"#")>0&&(typeof a=="number"||(/\d$/.test(a)))){c.style[b]=parseInt(a,10)+"px";
}else{c.style[b]=a;
}};
MobileCommentJindo.$Element.prototype.attr=function(g,l){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{g:["sName:String+"],s4str:["sName:String+","vValue:String+"],s4num:["sName:String+","vValue:Numeric"],s4nul:["sName:String+","vValue:Null"],s4bln:["sName:String+","vValue:Boolean"],s4obj:[MobileCommentJindo.$Jindo._F("oObj:Hash+")]},"$Element#attr");
var f=this._element;
switch(c+""){case"s4str":case"s4nul":case"s4num":case"s4bln":var d={};
d[g]=l;
g=d;
break;
case"s4obj":g=c.oObj;
break;
case"g":if(g=="class"||g=="className"){return f.className;
}else{if(g=="style"){return f.style.cssText;
}else{if(g=="checked"||g=="disabled"){return !!f[g];
}else{if(g=="value"){var h=f.getAttributeNode("value");
if(h==null){return f.value;
}else{return h.value;
}}else{if(g=="href"){return f.getAttribute(g,2);
}}}}}return f.getAttribute(g);
}for(var b in g){if(g.hasOwnProperty(b)){var a=g[b];
if(MobileCommentJindo.$Jindo.isNull(a)){f.removeAttribute(b);
}else{if(b=="class"||b=="className"){f.className=a;
}else{if(b=="style"){f.style.cssText=a;
}else{if(b=="checked"||b=="disabled"){f[b]=a;
}else{if(b=="value"){f.value=a;
}else{f.setAttribute(b,a);
}}}}}}}return this;
};
MobileCommentJindo.$Element.prototype.width=function(b){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{g:[],s:["nWidth:Numeric"]},"$Element#width");
switch(c+""){case"g":return this._element.offsetWidth;
case"s":b=c.nWidth;
var d=this._element;
d.style.width=b+"px";
var f=d.offsetWidth;
if(f!=b&&f!==0){var a=(b*2-f);
if(a>0){d.style.width=a+"px";
}}return this;
}};
MobileCommentJindo.$Element.prototype.height=function(a){var b=MobileCommentJindo.$Jindo.checkVarType(arguments,{g:[],s:["nHeight:Numeric"]},"$Element#height");
switch(b+""){case"g":return this._element.offsetHeight;
case"s":a=b.nHeight;
var c=this._element;
c.style.height=a+"px";
var d=c.offsetHeight;
if(d!=a&&d!==0){var a=(a*2-d);
if(a>0){c.style.height=a+"px";
}}return this;
}};
MobileCommentJindo.$Element.prototype.className=function(c){var a=MobileCommentJindo.$Jindo.checkVarType(arguments,{g:[],s:[MobileCommentJindo.$Jindo._F("sClass:String+")]},"$Element#className");
var b=this._element;
switch(a+""){case"g":return b.className;
case"s":b.className=c;
return this;
}};
MobileCommentJindo.$Element.prototype.hasClass=function(b){var a=MobileCommentJindo.$Jindo.checkVarType;
if(this._element.classList){MobileCommentJindo.$Element.prototype.hasClass=function(d){var c=a(arguments,{"4str":["sClass:String+"]},"$Element#hasClass");
return this._element.classList.contains(d);
};
}else{MobileCommentJindo.$Element.prototype.hasClass=function(d){var c=a(arguments,{"4str":["sClass:String+"]},"$Element#hasClass");
return(" "+this._element.className+" ").indexOf(" "+d+" ")>-1;
};
}return this.hasClass.apply(this,arguments);
};
MobileCommentJindo.$Element.prototype.addClass=function(h){var f=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sClass:String+"]},"$Element#addClass");
var g=this._element;
var a=g.className;
var d=(h+"").split(" ");
var b;
for(var c=d.length-1;
c>=0;
c--){b=d[c];
if((" "+a+" ").indexOf(" "+b+" ")==-1){a=a+" "+b;
}}g.className=a.replace(/\s+$/,"").replace(/^\s+/,"");
return this;
};
MobileCommentJindo.$Element.prototype.removeClass=function(h){var f=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sClass:String+"]},"$Element#removeClass");
var g=this._element;
var a=g.className;
var d=(h+"").split(" ");
var b;
for(var c=d.length-1;
c>=0;
c--){a=(" "+a+" ").replace(new RegExp("\\b"+d[c]+"\\s+","g")," ");
}g.className=a.replace(/\s+$/,"").replace(/^\s+/,"");
return this;
};
MobileCommentJindo.$Element.prototype.toggleClass=function(c,b){var a=MobileCommentJindo.$Jindo.checkVarType;
if(this._element.classList){MobileCommentJindo.$Element.prototype.toggleClass=function(g,d){var f=a(arguments,{"4str":["sClass:String+"],"4str2":["sClass:String+","sClass2:String+"]},"$Element#toggleClass");
switch(f+""){case"4str":this._element.classList.toggle(g+"");
break;
case"4str2":g=g+"";
d=d+"";
if(this.hasClass(g)){this.removeClass(g);
this.addClass(d);
}else{this.addClass(g);
this.removeClass(d);
}}return this;
};
}else{MobileCommentJindo.$Element.prototype.toggleClass=function(g,d){var f=a(arguments,{"4str":["sClass:String+"],"4str2":["sClass:String+","sClass2:String+"]},"$Element#toggleClass");
d=d||"";
if(this.hasClass(g)){this.removeClass(g);
if(d){this.addClass(d);
}}else{this.addClass(g);
if(d){this.removeClass(d);
}}return this;
};
}return this.toggleClass.apply(this,arguments);
};
MobileCommentJindo.$Element.prototype.cssClass=function(f,b){var d=MobileCommentJindo.$Jindo.checkVarType(arguments,{g:["sClass:String+"],s4bln:["sClass:String+","bCondition:Boolean"],s4obj:["oObj:Hash+"]},"$Element#cssClass");
switch(d+""){case"g":return this.hasClass(d.sClass);
case"s4bln":if(d.bCondition){this.addClass(d.sClass);
}else{this.removeClass(d.sClass);
}return this;
case"s4obj":var g=this._element;
f=d.oObj;
var a=g.className;
for(var c in f){if(f.hasOwnProperty(c)){if(f[c]){if((" "+a+" ").indexOf(" "+c+" ")==-1){a=(a+" "+c).replace(/^\s+/,"");
}}else{if((" "+a+" ").indexOf(" "+c+" ")>-1){a=(" "+a+" ").replace(" "+c+" "," ").replace(/\s+$/,"").replace(/^\s+/,"");
}}}}g.className=a;
return this;
}};
MobileCommentJindo.$Element.prototype.text=function(b){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{g:[],s4str:["sText:String+"],s4num:[MobileCommentJindo.$Jindo._F("sText:Numeric")],s4bln:["sText:Boolean"]},"$Element#text");
var d=this._element;
var a=this.tag;
switch(c+""){case"g":var g=(d.innerText!==undefined)?"innerText":"textContent";
if(a=="textarea"||a=="input"){g="value";
}return d[g];
case"s4str":case"s4num":case"s4bln":var g=(d.innerText!==undefined)?"innerText":"textContent";
if(a=="textarea"||a=="input"){g="value";
}b+="";
try{if(g!="value"){g=(d.textContent!==undefined)?"textContent":"innerText";
}d[g]=b+"";
}catch(f){return d.innerHTML=(b+"").replace(/&/g,"&amp;").replace(/</g,"&lt;");
}return this;
}};
MobileCommentJindo.$Element.prototype.html=function(d){var c=_JINDO_IS_IE;
var f=_JINDO_IS_FF;
var b={g:[],s4str:[MobileCommentJindo.$Jindo._F("sText:String+")],s4num:["sText:Numeric"],s4bln:["sText:Boolean"]};
var a=MobileCommentJindo.$Jindo.checkVarType;
if(c){MobileCommentJindo.$Element.prototype.html=function(o){var n=a(arguments,b,"$Element#html");
switch(n+""){case"g":return this._element.innerHTML;
case"s4str":case"s4num":case"s4bln":o+="";
if(MobileCommentJindo.cssquery){MobileCommentJindo.cssquery.release();
}var q=this._element;
while(q.firstChild){q.removeChild(q.firstChild);
}var m="R"+new Date().getTime()+parseInt(Math.random()*100000,10);
var t=q.ownerDocument||q.document||document;
var h;
var g=q.tagName.toLowerCase();
switch(g){case"select":case"table":h=t.createElement("div");
h.innerHTML="<"+g+' class="'+m+'">'+o+"</"+g+">";
break;
case"tr":case"thead":case"tbody":case"colgroup":h=t.createElement("div");
h.innerHTML="<table><"+g+' class="'+m+'">'+o+"</"+g+"></table>";
break;
default:q.innerHTML=o;
}if(h){var s;
for(s=h.firstChild;
s;
s=s.firstChild){if(s.className==m){break;
}}if(s){var r=true;
for(var u;
u=q.firstChild;
){u.removeNode(true);
}for(var u=s.firstChild;
u;
u=s.firstChild){if(g=="select"){var l=u.cloneNode(true);
if(u.selected&&r){r=false;
l.selected=true;
}q.appendChild(l);
u.removeNode(true);
}else{q.appendChild(u);
}}h.removeNode&&h.removeNode(true);
}h=null;
}return this;
}};
}else{if(f){MobileCommentJindo.$Element.prototype.html=function(n){var m=a(arguments,b,"$Element#html");
switch(m+""){case"g":return this._element.innerHTML;
case"s4str":case"s4num":case"s4bln":n+="";
var o=this._element;
if(!o.parentNode){var l="R"+new Date().getTime()+parseInt(Math.random()*100000,10);
var r=o.ownerDocument||o.document||document;
var h;
var g=o.tagName.toLowerCase();
switch(g){case"select":case"table":h=r.createElement("div");
h.innerHTML="<"+g+' class="'+l+'">'+n+"</"+g+">";
break;
case"tr":case"thead":case"tbody":case"colgroup":h=r.createElement("div");
h.innerHTML="<table><"+g+' class="'+l+'">'+n+"</"+g+"></table>";
break;
default:o.innerHTML=n;
}if(h){var q;
for(q=h.firstChild;
q;
q=q.firstChild){if(q.className==l){break;
}}if(q){for(var s;
s=o.firstChild;
){s.removeNode(true);
}for(var s=q.firstChild;
s;
s=q.firstChild){o.appendChild(s);
}h.removeNode&&h.removeNode(true);
}h=null;
}}else{o.innerHTML=n;
}return this;
}};
}else{MobileCommentJindo.$Element.prototype.html=function(l){var h=a(arguments,b,"$Element#html");
switch(h+""){case"g":return this._element.innerHTML;
case"s4str":case"s4num":case"s4bln":l+="";
var g=this._element;
g.innerHTML=l;
return this;
}};
}}return this.html.apply(this,arguments);
};
MobileCommentJindo.$Element.prototype.outerHTML=function(){var d=this._element;
if(d.outerHTML!==undefined){return d.outerHTML;
}var a=d.ownerDocument||d.document||document;
var f=a.createElement("div");
var c=d.parentNode;
if(!c){return d.innerHTML;
}c.insertBefore(f,d);
f.style.display="none";
f.appendChild(d);
var b=f.innerHTML;
c.insertBefore(d,f);
c.removeChild(f);
return b;
};
MobileCommentJindo.$Element.prototype.toString=MobileCommentJindo.$Element.prototype.outerHTML;
MobileCommentJindo.$Element.prototype.attach=function(c,b){var a=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sEvent:String+","fpCallback:Function+"]},"$Element#attach");
return this._add("normal",c.toLowerCase(),null,b);
};
MobileCommentJindo.$Element.prototype.detach=function(c,b){var a=MobileCommentJindo.$Jindo.checkVarType(arguments,{group_for_string:["sEvent:String+"],"4fun":["sEvent:String+","fpCallback:Function+"]},"$Element#detach");
return this._del("normal",c.toLowerCase(),null,b);
};
MobileCommentJindo.$Element.prototype.delegate=function(d,b,c){var a=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sEvent:String+","vFilter:String+","fpCallback:Function+"],"4fun":["sEvent:String+","vFilter:Function+","fpCallback:Function+"]},"$Element#delegate");
return this._add("delegate",d.toLowerCase(),b,c);
};
MobileCommentJindo.$Element.prototype.undelegate=function(d,b,c){var a=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sEvent:String+","vFilter:String+","fpCallback:Function+"],"4fun":["sEvent:String+","vFilter:Function+","fpCallback:Function+"],group_for_string:["sEvent:String+","vFilter:String+"],group_for_function:["sEvent:String+","vFilter:Function+"]},"$Element#undelegate");
return this._del("delegate",d.toLowerCase(),b,c);
};
MobileCommentJindo.$Element.prototype._add=function(h,g,d,f){var c=MobileCommentJindo.$Element.eventManager;
var b=c.splitGroup(g);
g=b.event;
var a=b.group;
if((!document.addEventListener)&&("domready"==g)){if(window.top!=window){throw MobileCommentJindo.$Error(MobileCommentJindo.$Except.NOT_WORK_DOMREADY,"$Element#attach");
}MobileCommentJindo.$Element._domready(this._element,f);
return this;
}f=c.revisionCallback(h,g,f);
g=c.revisionEvent(h,g);
if(!c.isInit(this._key)){c.init(this._key,this._element);
}if(!c.hasEvent(this._key,g)){c.initEvent(this,g,a);
}if(!c.hasGroup(this._key,g,a)){c.initGroup(this._key,g,a);
}c.addEventListener(this._key,g,a,h,d,f);
return this;
};
MobileCommentJindo.$Element.prototype._del=function(a,c,f,d){var b=MobileCommentJindo.$Element.eventManager;
var q=b.splitGroup(c);
c=q.event;
var r=q.group;
c=b.revisionEvent(a,c);
if((!document.addEventListener)&&("domready"==c)){var m=[];
var o=MobileCommentJindo.$Element._domready.list;
for(var n=0,g=o.length;
n<g;
n++){if(o[n]!=d){m.push(o[n]);
}}MobileCommentJindo.$Element._domready.list=m;
return this;
}var h="_jindo_event_none";
if(r===h&&!MobileCommentJindo.$Jindo.isFunction(d)){throw new MobileCommentJindo.$Error(MobileCommentJindo.$Except.HAS_FUNCTION_FOR_GROUP,"$Element#"+(a=="normal"?"detach":"delegate"));
}b.removeEventListener(this._key,c,r,a,f,d);
return this;
};
MobileCommentJindo.$Element.eventManager=(function(){var b={};
var a="_jindo_event_none";
function d(h,f,g){return function(){var l=_slice.call(arguments,0);
if(g.length){l=g.concat(l);
}return h.apply(f,l);
};
}var c;
if(_JINDO_IS_MO){c={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"};
}else{c={mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup"};
}return{revisionCallback:function(l,h,g){if((document.addEventListener!==undefined&&(h=="mouseenter"||h=="mouseleave"))||(_JINDO_IS_IE&&(l=="delegate")&&(h=="mouseenter"||h=="mouseleave"))){var f=MobileCommentJindo.$Element.eventManager._fireWhenElementBoundary(l,g);
f._origin_=g;
g=f;
}return g;
},_fireWhenElementBoundary:function(g,f){return function(h){var m=h.relatedElement?MobileCommentJindo.$Element(h.relatedElement):null;
var l=h.currentElement;
if(g=="delegate"){l=h.element;
}if(m&&(m.isEqual(l)||m.isChildOf(l))){return;
}f(h);
};
},revisionEvent:function(g,f){if(document.addEventListener!==undefined){this.revisionEvent=function(n,m){m=m.toLowerCase();
if(m=="domready"){m="DOMContentLoaded";
}else{if(m=="mousewheel"&&!_JINDO_IS_WK&&!_JINDO_IS_OP&&!_JINDO_IS_IE){m="DOMMouseScroll";
}else{if(m=="mouseenter"&&!_JINDO_IS_IE){m="mouseover";
}else{if(m=="mouseleave"&&!_JINDO_IS_IE){m="mouseout";
}else{if(m=="transitionend"||m=="transitionstart"){var h,l=m.replace("transition","");
l=l.substr(0,1).toUpperCase()+l.substr(1);
if(document.body.style.WebkitTransition!==undefined){h="webkit";
}else{if(document.body.style.OTransition!==undefined){h="o";
}else{if(document.body.style.MsTransition!==undefined){h="ms";
}}}m=(h?h+"Transition":"transition")+l;
}else{if(m=="animationstart"||m=="animationend"||m=="animationiteration"){var h,l=m.replace("animation","");
l=l.substr(0,1).toUpperCase()+l.substr(1);
if(document.body.style.WebkitAnimationName!==undefined){h="webkit";
}else{if(document.body.style.OAnimationName!==undefined){h="o";
}else{if(document.body.style.MsTransitionName!==undefined){h="ms";
}}}m=(h?h+"Animation":"animation")+l;
}else{if("mousedown|mousemove|mouseup".indexOf(m)>-1){m=c[m];
}}}}}}}return m;
};
}else{this.revisionEvent=function(l,h){if(l=="delegate"&&h=="mouseenter"){h="mouseover";
}else{if(l=="delegate"&&h=="mouseleave"){h="mouseout";
}else{if("mousedown|mousemove|mouseup".indexOf(h)>-1){h=c[h];
}}}return h;
};
}return this.revisionEvent(g,f);
},test:function(){return b;
},isInit:function(f){return !!b[f];
},init:function(f,g){b[f]={ele:g,event:{}};
},getEventConfig:function(f){return b[f];
},hasEvent:function(f,h){try{return !!b[f]["event"][h];
}catch(g){return false;
}},hasGroup:function(g,h,f){return !!b[g]["event"][h]["type"][f];
},initEvent:function(h,n,f){var l=h._key;
var g=b[l]["event"];
var m=d(function(s,y){y=y||window.event;
if(y.currentTarget===undefined){y.currentTarget=this._element;
}var C=MobileCommentJindo.$Event(y);
if(!C.currentElement){C.currentElement=this._element;
}var r=C.element;
var q=MobileCommentJindo.$Element.eventManager;
var F=q.getEventConfig(C.currentElement.__jindo__id);
var B=F.event[s].type;
for(var D in B){if(B.hasOwnProperty(D)){var E=B[D].normal;
for(var A=0,v=E.length;
A<v;
A++){E[A](C);
}var u=B[D].delegate;
var G;
var z;
for(var w in u){if(u.hasOwnProperty(w)){G=u[w].checker(r);
if(G[0]){z=u[w].callback;
C.element=G[1];
for(var t=0,o=z.length;
t<o;
t++){z[t](C);
}}}}}}},h,[n]);
g[n]={listener:m,type:{}};
MobileCommentJindo.$Element._eventBind(h._element,n,m,false);
},initGroup:function(g,l,f){var h=b[g]["event"][l]["type"];
h[f]={normal:[],delegate:{}};
},addEventListener:function(h,n,f,o,g,m){var l=b[h]["event"][n]["type"][f];
if(o==="normal"){l.normal.push(m);
}else{if(o==="delegate"){if(!this.hasDelegate(l,g)){this.initDelegate(b[h].ele,l,g);
}this.addDelegate(l,g,m);
}}},hasDelegate:function(g,f){return !!g.delegate[f];
},initDelegate:function(f,h,g){var l;
if(MobileCommentJindo.$Jindo.isString(g)){l=d(function(v,n,o){var u=o;
var r=MobileCommentJindo.cssquery;
var q=r.test(o,n);
if(!q){var t=this._getParent(v,o);
for(var s=0,m=t.length;
s<m;
s++){u=t[s];
if(r.test(u,n)){q=true;
break;
}}}return[q,u];
},this,[f,g]);
}else{l=d(function(n,t,m){var q=m;
var u=t(n,m);
if(!u){var o=this._getParent(n,m);
for(var s=0,r=o.length;
s<r;
s++){q=o[s];
if(t(n,q)){u=true;
break;
}}}return[u,q];
},this,[f,g]);
}h.delegate[g]={checker:l,callback:[]};
},addDelegate:function(h,f,g){h.delegate[f].callback.push(g);
},removeEventListener:function(u,g,v,f,n,h){var m;
try{m=b[u]["event"][g]["type"][v];
}catch(t){return;
}var q=[];
var s;
if(f==="normal"){s=m.normal;
}else{s=m.delegate[n].callback;
}if(g==a||MobileCommentJindo.$Jindo.isFunction(h)){for(var r=0,o=s.length;
r<o;
r++){if((s[r]._origin_||s[r])!=h){q.push(s[r]);
}}}if(f==="normal"){delete m.normal;
m.normal=q;
}else{if(f==="delegate"){delete m.delegate[n].callback;
m.delegate[n].callback=q;
}}this.cleanUp(u,g);
},cleanUpAll:function(){var f;
for(var g in b){if(b.hasOwnProperty(g)){this.cleanUpUsingKey(g,true);
}}},cleanUpUsingKey:function(h,g){var f;
try{f=b[h].event;
}catch(l){return;
}for(var m in f){if(f.hasOwnProperty(m)){this.cleanUp(h,m,g);
}}},cleanUp:function(u,f,v){var s;
try{s=b[u]["event"][f]["type"];
}catch(r){return;
}var g;
var h=false;
if(!v){for(var n in s){if(s.hasOwnProperty(n)){g=s[n];
if(g.normal.length){h=true;
break;
}var q=g.delegate;
for(var m in q){if(q.hasOwnProperty(m)){if(q[m].callback.length){h=true;
break;
}}}if(h){break;
}}}}if(!h){MobileCommentJindo.$Element._unEventBind(b[u].ele,f,b[u]["event"][f]["listener"]);
delete b[u]["event"][f];
var o=true;
var t=b[u]["event"];
for(var l in t){if(t.hasOwnProperty(l)){o=false;
break;
}}if(o){delete b[u];
}}},splitGroup:function(g){var f=/\s*(.+?)\s*\(\s*(.*?)\s*\)/.exec(g);
if(f){return{event:f[1].toLowerCase(),group:f[2].toLowerCase()};
}else{return{event:g.toLowerCase(),group:a};
}},_getParent:function(l,f){var n=l;
var h=[],m=null;
var g=f.ownerDocument||f.document||document;
while(f.parentNode&&m!=n){m=f.parentNode;
if(m==g.documentElement){break;
}h[h.length]=m;
f=m;
}return h;
}};
})();
MobileCommentJindo.$Element._domready=function(h,d){if(MobileCommentJindo.$Element._domready.list===undefined){var g=null,b=MobileCommentJindo.$Element._domready.list=[d];
var a=false,c=function(){if(!a){a=true;
var f={type:"domready",target:h,currentTarget:h};
while(g=b.shift()){g(f);
}}};
(function(){try{h.documentElement.doScroll("left");
}catch(f){setTimeout(arguments.callee,50);
return;
}c();
})();
h.onreadystatechange=function(){if(h.readyState=="complete"){h.onreadystatechange=null;
c();
}};
}else{MobileCommentJindo.$Element._domready.list.push(d);
}};
if(!MobileCommentJindo.$Jindo.isUndefined(window)&&!(_j_ag.indexOf("IEMobile")==-1&&_j_ag.indexOf("Mobile")>-1&&_JINDO_IS_SP)){(new MobileCommentJindo.$Element(window)).attach("unload",function(a){MobileCommentJindo.$Element.eventManager.cleanUpAll();
});
}MobileCommentJindo.$Element._getTransition=function(){var a=false,b="";
if(document.body.style.trasition){a=true;
b="trasition";
}else{if(document.body.style.webkitTransition!==undefined){a=true;
b="webkitTransition";
}else{if(document.body.style.OTransition!==undefined){a=true;
b="OTransition";
}}}return(MobileCommentJindo.$Element._getTransition=function(){return{hasTransition:a,name:b};
})();
};
MobileCommentJindo.$Element.prototype.appear=function(c,d){var a=MobileCommentJindo.$Element._getTransition();
function b(){var f=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4num":["nDuration:Numeric"],"4fun":["nDuration:Numeric","fpCallback:Function+"]},"$Element#appear");
switch(f+""){case"4voi":c=0.3;
d=function(){};
break;
case"4num":c=f.nDuration;
d=function(){};
break;
case"4fun":c=f.nDuration;
}return[c,d];
}if(a.hasTransition){MobileCommentJindo.$Element.prototype.appear=function(n,o){var h=b.apply(this,_toArray(arguments));
n=h[0];
o=h[1];
var f=this;
var m=this._element;
var g=a.name;
var l=function(){f.show();
m.style[g+"Property"]="";
m.style[g+"Duration"]="";
m.style[g+"TimingFunction"]="";
m.style.opacity="";
o(f);
m.removeEventListener(g+"End",arguments.callee,false);
};
if(!this.visible()){m.style.opacity=m.style.opacity||0;
f.show();
}m.addEventListener(g+"End",l,false);
m.style[g+"Property"]="opacity";
m.style[g+"Duration"]=n+"s";
m.style[g+"TimingFunction"]="linear";
setTimeout(function(){m.style.opacity="1";
},1);
return this;
};
}else{MobileCommentJindo.$Element.prototype.appear=function(n,q){var g=b.apply(this,_toArray(arguments));
n=g[0];
q=g[1];
var f=this;
var o=this.opacity();
if(this._getCss(this._element,"display")=="none"){o=0;
}if(o==1){return this;
}try{clearTimeout(this._fade_timer);
}catch(m){}var l=(1-o)/((n||0.3)*100);
var h=function(){o+=l;
f.opacity(o);
if(o>=1){q(f);
}else{f._fade_timer=setTimeout(h,10);
}};
this.show();
h();
return this;
};
}return this.appear.apply(this,arguments);
};
MobileCommentJindo.$Element.prototype.disappear=function(c,d){var b=MobileCommentJindo.$Element._getTransition();
function a(){var f=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4num":["nDuration:Numeric"],"4fun":["nDuration:Numeric","fpCallback:Function+"]},"$Element#disappear");
switch(f+""){case"4voi":c=0.3;
d=function(){};
break;
case"4num":c=f.nDuration;
d=function(){};
break;
case"4fun":c=f.nDuration;
}return[c,d];
}if(b.hasTransition){MobileCommentJindo.$Element.prototype.disappear=function(n,o){var h=a.apply(this,_toArray(arguments));
n=h[0];
o=h[1];
var f=this;
var g=b.name;
var m=function(){f.hide();
l.style[g+"Property"]="";
l.style[g+"Duration"]="";
l.style[g+"TimingFunction"]="";
l.style.opacity="";
o(f);
this.removeEventListener(g+"End",arguments.callee,false);
};
var l=this._element;
l.addEventListener(g+"End",m,false);
l.style[g+"Property"]="opacity";
l.style[g+"Duration"]=n+"s";
l.style[g+"TimingFunction"]="linear";
setTimeout(function(){l.style.opacity="0";
},1);
return this;
};
}else{MobileCommentJindo.$Element.prototype.disappear=function(n,q){var g=a.apply(this,_toArray(arguments));
n=g[0];
q=g[1];
var f=this;
var o=this.opacity();
if(o==0){return this;
}try{clearTimeout(this._fade_timer);
}catch(m){}var l=o/((n||0.3)*100);
var h=function(){o-=l;
f.opacity(o);
if(o<=0){f._element.style.display="none";
f.opacity(1);
q(f);
}else{f._fade_timer=setTimeout(h,10);
}};
h();
return this;
};
}return this.disappear.apply(this,arguments);
};
MobileCommentJindo.$Element.prototype.offset=function(a,b){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{g:[],s:["nTop:Numeric","nLeft:Numeric"]},"$Element#offset");
switch(c+""){case"g":return this.offset_get();
case"s":return this.offset_set(c.nTop,c.nLeft);
}};
MobileCommentJindo.$Element.prototype.offset_set=function(f,g){var c=this._element;
var d=null;
if(isNaN(parseFloat(this._getCss(c,"top"),10))){c.style.top="0px";
}if(isNaN(parseFloat(this._getCss(c,"left"),10))){c.style.left="0px";
}var b=this.offset_get();
var a={top:f-b.top,left:g-b.left};
c.style.top=parseFloat(this._getCss(c,"top"),10)+a.top+"px";
c.style.left=parseFloat(this._getCss(c,"left"),10)+a.left+"px";
return this;
};
MobileCommentJindo.$Element.prototype.offset_get=function(b,a){var f=this._element;
var c=null;
var d=_JINDO_IS_SP;
var m=_JINDO_IS_IE;
var l=0;
if(m){if(document.documentMode){l=document.documentMode;
}else{l=navigator.userAgent.match(/(?:MSIE) ([0-9.]+)/)[1];
}}var g=function(o){var n={left:0,top:0};
for(var r=o,q=r.offsetParent;
r=r.parentNode;
){if(r.offsetParent){n.left-=r.scrollLeft;
n.top-=r.scrollTop;
}if(r==q){n.left+=o.offsetLeft+r.clientLeft;
n.top+=o.offsetTop+r.clientTop;
if(!r.offsetParent){n.left+=r.offsetLeft;
n.top+=r.offsetTop;
}q=r.offsetParent;
o=r;
}}return n;
};
var h=function(t){var y={left:0,top:0};
var z=t.ownerDocument||t.document||document;
var r=z.documentElement;
var s=z.body;
if(t.getBoundingClientRect){if(!c){var w=(window==top);
if(!w){try{w=(window.frameElement&&window.frameElement.frameBorder==1);
}catch(v){}}if((m&&l<8&&window.external)&&w){c={left:2,top:2};
oBase=null;
}else{c={left:0,top:0};
}}var u=t.getBoundingClientRect();
if(t!==r&&t!==s){y.left=u.left-c.left;
y.top=u.top-c.top;
y.left+=r.scrollLeft||s.scrollLeft;
y.top+=r.scrollTop||s.scrollTop;
}}else{if(z.getBoxObjectFor){var u=z.getBoxObjectFor(t);
var n=z.getBoxObjectFor(r||s);
y.left=u.screenX-n.screenX;
y.top=u.screenY-n.screenY;
}else{for(var q=t;
q;
q=q.offsetParent){y.left+=q.offsetLeft;
y.top+=q.offsetTop;
}for(var q=t.parentNode;
q;
q=q.parentNode){if(q.tagName=="BODY"){break;
}if(q.tagName=="TR"){y.top+=2;
}y.left-=q.scrollLeft;
y.top-=q.scrollTop;
}}}return y;
};
return(d?g:h)(f);
};
MobileCommentJindo.$Element.prototype.evalScripts=function(sHTML){var oArgs=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sHTML:String+"]},"$Element#evalScripts");
var aJS=[];
sHTML=sHTML.replace(new RegExp("<script(\\s[^>]+)*>(.*?)<\/script>","gi"),function(_1,_2,sPart){aJS.push(sPart);
return"";
});
eval(aJS.join("\n"));
return this;
};
MobileCommentJindo.$Element._common=function(b,a){try{return MobileCommentJindo.$Element(b)._element;
}catch(c){throw TypeError(c.message.replace(/\$Element/g,"$Element#"+a).replace(/Element\.html/g,"Element.html#"+a));
}};
MobileCommentJindo.$Element._prepend=function(c,b){var a=c.childNodes;
if(a.length>0){c.insertBefore(b,a[0]);
}else{c.appendChild(b);
}};
MobileCommentJindo.$Element.prototype.append=function(a){this._element.appendChild(MobileCommentJindo.$Element._common(a,"append"));
return this;
};
MobileCommentJindo.$Element.prototype.prepend=function(a){MobileCommentJindo.$Element._prepend(this._element,MobileCommentJindo.$Element._common(a,"prepend"));
return this;
};
MobileCommentJindo.$Element.prototype.replace=function(c){c=MobileCommentJindo.$Element._common(c,"replace");
if(MobileCommentJindo.cssquery){MobileCommentJindo.cssquery.release();
}var d=this._element;
var b=d.parentNode;
if(b&&b.replaceChild){b.replaceChild(c,d);
return this;
}var a=c;
b.insertBefore(a,d);
b.removeChild(d);
return this;
};
MobileCommentJindo.$Element.prototype.appendTo=function(a){MobileCommentJindo.$Element._common(a,"appendTo").appendChild(this._element);
return this;
};
MobileCommentJindo.$Element.prototype.prependTo=function(a){MobileCommentJindo.$Element._prepend(MobileCommentJindo.$Element._common(a,"prependTo"),this._element);
return this;
};
MobileCommentJindo.$Element.prototype.before=function(a){var b=MobileCommentJindo.$Element._common(a,"before");
this._element.parentNode.insertBefore(b,this._element);
return this;
};
MobileCommentJindo.$Element.prototype.after=function(a){a=MobileCommentJindo.$Element._common(a,"after");
this.before(a);
MobileCommentJindo.$Element(a).before(this);
return this;
};
MobileCommentJindo.$Element.prototype.parent=function(d,c){var f=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4fun":["fpFunc:Function+"],"4nul":["fpFunc:Null"],for_function_number:["fpFunc:Function+","nLimit:Numeric"],for_null_number:["fpFunc:Null","nLimit:Numeric"]},"$Element#parent");
var h=this._element;
switch(f+""){case"4voi":return h.parentNode?MobileCommentJindo.$Element(h.parentNode):null;
case"4fun":case"4nul":c=-1;
break;
case"for_function_number":case"for_null_number":if(f.nLimit==0){c=-1;
}}var b=[],g=null;
while(h.parentNode&&c--!=0){try{g=MobileCommentJindo.$Element(h.parentNode);
}catch(h){g=null;
}if(h.parentNode==document.documentElement){break;
}if(!d||(d&&d(g))){b[b.length]=g;
}h=h.parentNode;
}return b;
};
MobileCommentJindo.$Element.prototype.child=function(t,h){var g=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4fun":["fpFunc:Function+"],"4nul":["fpFunc:Null"],for_function_number:["fpFunc:Function+","nLimit:Numeric"],for_null_number:["fpFunc:Null","nLimit:Numeric"]},"$Element#child");
var q=this._element;
var s=[],r=null,n=null;
switch(g+""){case"4voi":var b=q.childNodes;
var o=[];
for(var m=0,d=b.length;
m<d;
m++){if(b[m].nodeType==1){try{o.push(MobileCommentJindo.$Element(b[m]));
}catch(q){o.push(null);
}}}return o;
case"4fun":case"4nul":h=-1;
break;
case"for_function_number":case"for_null_number":if(g.nLimit==0){h=-1;
}}(n=function(f,v){var c=null,u=null;
for(var a=0;
a<f.childNodes.length;
a++){c=f.childNodes[a];
if(c.nodeType!=1){continue;
}try{u=MobileCommentJindo.$Element(f.childNodes[a]);
}catch(l){u=null;
}if(!t||(t&&t(u))){s[s.length]=u;
}if(v!=0){n(f.childNodes[a],v-1);
}}})(q,h-1);
return s;
};
MobileCommentJindo.$Element.prototype.prev=function(c){var d=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4fun":["fpFunc:Function+"],"4nul":["fpFunc:Null"]},"$Element#prev");
var f=this._element;
var b=[];
switch(d+""){case"4voi":if(!f){return null;
}do{f=f.previousSibling;
if(!f||f.nodeType!=1){continue;
}try{if(f==null){return null;
}return MobileCommentJindo.$Element(f);
}catch(f){return null;
}}while(f);
try{if(f==null){return null;
}return MobileCommentJindo.$Element(f);
}catch(f){return null;
}case"4fun":case"4nul":if(!f){return b;
}do{f=f.previousSibling;
if(!f||f.nodeType!=1){continue;
}if(!c||c(f)){try{if(f==null){b[b.length]=null;
}else{b[b.length]=MobileCommentJindo.$Element(f);
}}catch(f){b[b.length]=null;
}}}while(f);
try{return b;
}catch(f){return null;
}}};
MobileCommentJindo.$Element.prototype.next=function(c){var d=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4fun":["fpFunc:Function+"],"4nul":["fpFunc:Null"]},"$Element#next");
var f=this._element;
var b=[];
switch(d+""){case"4voi":if(!f){return null;
}do{f=f.nextSibling;
if(!f||f.nodeType!=1){continue;
}try{if(f==null){return null;
}return MobileCommentJindo.$Element(f);
}catch(f){return null;
}}while(f);
try{if(f==null){return null;
}return MobileCommentJindo.$Element(f);
}catch(f){return null;
}case"4fun":case"4nul":if(!f){return b;
}do{f=f.nextSibling;
if(!f||f.nodeType!=1){continue;
}if(!c||c(f)){try{if(f==null){b[b.length]=null;
}else{b[b.length]=MobileCommentJindo.$Element(f);
}}catch(f){b[b.length]=null;
}}}while(f);
try{return b;
}catch(f){return null;
}}};
MobileCommentJindo.$Element.prototype.first=function(){var a=this._element.firstElementChild||this._element.firstChild;
if(!a){return null;
}while(a&&a.nodeType!=1){a=a.nextSibling;
}try{return a?MobileCommentJindo.$Element(a):null;
}catch(b){return null;
}};
MobileCommentJindo.$Element.prototype.last=function(){var a=this._element.lastElementChild||this._element.lastChild;
if(!a){return null;
}while(a&&a.nodeType!=1){a=a.previousSibling;
}try{return a?MobileCommentJindo.$Element(a):null;
}catch(b){return null;
}};
MobileCommentJindo.$Element._contain=function(a,c){if(document.compareDocumentPosition){return !!(a.compareDocumentPosition(c)&16);
}else{if(a.contains){return(a!==c)&&(a.contains?a.contains(c):true);
}else{if(document.body.contains){if(a===(c.ownerDocument||c.document)&&c.tagName&&c.tagName.toUpperCase()==="BODY"){return true;
}if(a.nodeType===9&&a!==c){a=a.body;
}try{return(a!==c)&&(a.contains?a.contains(c):true);
}catch(d){return false;
}}else{var d=a;
var b=c;
while(d&&d.parentNode){d=d.parentNode;
if(d==b){return true;
}}return false;
}}}};
MobileCommentJindo.$Element.prototype.isChildOf=function(a){try{return MobileCommentJindo.$Element._contain(MobileCommentJindo.$Element(a)._element,this._element);
}catch(b){return false;
}};
MobileCommentJindo.$Element.prototype.isParentOf=function(a){try{return MobileCommentJindo.$Element._contain(this._element,MobileCommentJindo.$Element(a)._element);
}catch(b){return false;
}};
MobileCommentJindo.$Element.prototype.isEqual=function(a){try{return(this._element===MobileCommentJindo.$Element(a)._element);
}catch(b){return false;
}};
MobileCommentJindo.$Element.prototype.fireEvent=function(d,b){var c={"4str":[MobileCommentJindo.$Jindo._F("sEvent:String+")],"4obj":["sEvent:String+","oProps:Hash+"]};
function f(n,g){var l=MobileCommentJindo.$Jindo.checkVarType(arguments,c,"$Element#fireEvent");
n=(n+"").toLowerCase();
var h=document.createEventObject();
switch(l+""){case"4obj":g=l.oProps;
for(k in g){if(g.hasOwnProperty(k)){h[k]=g[k];
}}h.button=(g.left?1:0)+(g.middle?4:0)+(g.right?2:0);
h.relatedTarget=g.relatedElement||null;
}var m=this._element;
if(this.tag=="input"&&n=="click"){if(m.type=="checkbox"){m.checked=(!m.checked);
}else{if(m.type=="radio"){m.checked=true;
}}}this._element.fireEvent("on"+n,h);
return this;
}function a(n,h){var l=MobileCommentJindo.$Jindo.checkVarType(arguments,c,"$Element#fireEvent");
var o="HTMLEvents";
n=(n+"").toLowerCase();
if(n=="click"||n.indexOf("mouse")==0){o="MouseEvent";
if(n=="mousewheel"){n="dommousescroll";
}}else{if(n.indexOf("key")==0){o="KeyboardEvent";
}}var g;
switch(l+""){case"4obj":h=l.oProps;
h.button=0+(h.middle?1:0)+(h.right?2:0);
h.ctrl=h.ctrl||false;
h.alt=h.alt||false;
h.shift=h.shift||false;
h.meta=h.meta||false;
switch(o){case"MouseEvent":g=document.createEvent(o);
g.initMouseEvent(n,true,true,null,h.detail||0,h.screenX||0,h.screenY||0,h.clientX||0,h.clientY||0,h.ctrl,h.alt,h.shift,h.meta,h.button,h.relatedElement||null);
break;
case"KeyboardEvent":if(window.KeyEvent){g=document.createEvent("KeyEvents");
g.initKeyEvent(n,true,true,window,h.ctrl,h.alt,h.shift,h.meta,h.keyCode,h.keyCode);
}else{try{g=document.createEvent("Events");
}catch(m){g=document.createEvent("UIEvents");
}finally{g.initEvent(n,true,true);
g.ctrlKey=h.ctrl;
g.altKey=h.alt;
g.shiftKey=h.shift;
g.metaKey=h.meta;
g.keyCode=h.keyCode;
g.which=h.keyCode;
}}break;
default:g=document.createEvent(o);
g.initEvent(n,true,true);
}break;
case"4str":g=document.createEvent(o);
g.initEvent(n,true,true);
}this._element.dispatchEvent(g);
return this;
}MobileCommentJindo.$Element.prototype.fireEvent=(document.dispatchEvent!==undefined)?a:f;
return this.fireEvent.apply(this,_toArray(arguments));
};
MobileCommentJindo.$Element.prototype.empty=function(){if(MobileCommentJindo.cssquery){MobileCommentJindo.cssquery.release();
}this.html("");
return this;
};
MobileCommentJindo.$Element.prototype.remove=function(b){if(MobileCommentJindo.cssquery){MobileCommentJindo.cssquery.release();
}var a=MobileCommentJindo.$Element;
a(a._common(b,"remove")).leave();
return this;
};
MobileCommentJindo.$Element.prototype.leave=function(){var a=this._element;
if(a.parentNode){if(MobileCommentJindo.cssquery){MobileCommentJindo.cssquery.release();
}a.parentNode.removeChild(a);
}if(this._element.__jindo__id){MobileCommentJindo.$Element.eventManager.cleanUpUsingKey(this._element.__jindo__id,true);
}return this;
};
MobileCommentJindo.$Element.prototype.wrap=function(b){var a=this._element;
b=MobileCommentJindo.$Element._common(b,"wrap");
if(a.parentNode){a.parentNode.insertBefore(b,a);
}b.appendChild(a);
return this;
};
MobileCommentJindo.$Element.prototype.ellipsis=function(m){var g=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4str":["stringTail:String+"]},"$Element#ellipsis");
m=m||"...";
var b=this.text();
var a=b.length;
var l=parseInt(this._getCss(this._element,"paddingTop"),10)+parseInt(this._getCss(this._element,"paddingBottom"),10);
var d=this._element.offsetHeight-l;
var c=0;
var f=this.text("A")._element.offsetHeight-l;
if(d<f*1.5){this.text(b);
return this;
}d=f;
while(d<f*1.5){c+=Math.max(Math.ceil((a-c)/2),1);
d=this.text(b.substring(0,c)+m)._element.offsetHeight-l;
}while(d>f*1.5){c--;
d=this.text(b.substring(0,c)+m)._element.offsetHeight-l;
}return this;
};
MobileCommentJindo.$Element.prototype.indexOf=function(d){try{var f=MobileCommentJindo.$Element(d)._element;
var h=this._element.childNodes;
var g=0;
var a=h.length;
for(var b=0;
b<a;
b++){if(h[b].nodeType!=1){continue;
}if(h[b]===f){return g;
}g++;
}}catch(f){}return -1;
};
MobileCommentJindo.$Element.prototype.queryAll=function(g){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sSelector:String+"]},"$Element#queryAll");
var f=MobileCommentJindo.cssquery(g,this._element);
var d=[];
for(var b=0,a=f.length;
b<a;
b++){d.push(MobileCommentJindo.$Element(f[b]));
}return d;
};
MobileCommentJindo.$Element.prototype.query=function(c){var a=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sSelector:String+"]},"$Element#query");
var b=MobileCommentJindo.cssquery.getSingle(c,this._element);
return b===null?b:MobileCommentJindo.$Element(b);
};
MobileCommentJindo.$Element.prototype.test=function(b){var a=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sSelector:String+"]},"$Element#test");
return MobileCommentJindo.cssquery.test(this._element,b);
};
MobileCommentJindo.$Element.prototype.xpathAll=function(b){var d=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sXPath:String+"]},"$Element#xpathAll");
var g=MobileCommentJindo.cssquery.xpath(b,this._element);
var f=[];
for(var c=0,a=g.length;
c<a;
c++){f.push(MobileCommentJindo.$Element(g[c]));
}return f;
};
MobileCommentJindo.$Element.insertAdjacentHTML=function(c,r,w,f,h,m){var a=[r];
a.callee=arguments.callee;
var A=MobileCommentJindo.$Jindo.checkVarType(a,{"4str":["sHTML:String+"]},"$Element#"+m);
var s=c._element;
r=r+"";
if(s.insertAdjacentHTML&&!(/^<(option|tr|td|th|col)(?:.*?)>/.test(r.replace(/^(\s|　)+|(\s|　)+$/g,"").toLowerCase()))){s.insertAdjacentHTML(w,r);
}else{var z=s.ownerDocument||s.document||document;
var b=z.createDocumentFragment();
var y;
var n=r.replace(/^(\s|　)+|(\s|　)+$/g,"");
var g={option:"select",tr:"tbody",thead:"table",tbody:"table",col:"table",td:"tr",th:"tr",div:"div"};
var q=/^\<(option|tr|thead|tbody|td|th|col)(?:.*?)\>/i.exec(n);
var t=q===null?"div":q[1].toLowerCase();
var o=g[t];
y=MobileCommentJindo._createEle(o,n,z,true);
var d=y.getElementsByTagName("script");
for(var v=0,u=d.length;
v<u;
v++){d[v].parentNode.removeChild(d[v]);
}while(y[f]){b.appendChild(y[f]);
}h(b.cloneNode(true));
}return c;
};
MobileCommentJindo.$Element.prototype.appendHTML=function(a){return MobileCommentJindo.$Element.insertAdjacentHTML(this,a,"beforeEnd","firstChild",MobileCommentJindo.$Fn(function(b){var g=this._element;
if(g.tagName.toLowerCase()==="table"){var d=g.childNodes;
for(var f=0,c=d.length;
f<c;
f++){if(d[f].nodeType==1){g=d[f];
break;
}}}g.appendChild(b);
},this).bind(),"appendHTML");
};
MobileCommentJindo.$Element.prototype.prependHTML=function(b){var a=MobileCommentJindo.$Element;
return a.insertAdjacentHTML(this,b,"afterBegin","firstChild",MobileCommentJindo.$Fn(function(c){var h=this._element;
if(h.tagName.toLowerCase()==="table"){var f=h.childNodes;
for(var g=0,d=f.length;
g<d;
g++){if(f[g].nodeType==1){h=f[g];
break;
}}}a._prepend(h,c);
},this).bind(),"prependHTML");
};
MobileCommentJindo.$Element.prototype.beforeHTML=function(a){return MobileCommentJindo.$Element.insertAdjacentHTML(this,a,"beforeBegin","firstChild",MobileCommentJindo.$Fn(function(b){this._element.parentNode.insertBefore(b,this._element);
},this).bind(),"beforeHTML");
};
MobileCommentJindo.$Element.prototype.afterHTML=function(a){return MobileCommentJindo.$Element.insertAdjacentHTML(this,a,"afterEnd","firstChild",MobileCommentJindo.$Fn(function(b){this._element.parentNode.insertBefore(b,this._element.nextSibling);
},this).bind(),"afterHTML");
};
MobileCommentJindo.$Element.prototype.hasEventListener=function(b){var a=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sEvent:String+"]},"$Element#hasEventListener");
if(this._key){return !!MobileCommentJindo.$Element.eventManager.hasEvent(this._key,a.sEvent);
}return false;
};
MobileCommentJindo.$Element.prototype.preventTapHighlight=function(c){if(_JINDO_IS_MO){var b="no_tap_highlight"+new Date().getTime();
var f=document.createElement("style");
var d=document.getElementsByTagName("html")[0];
f.type="text/css";
d.insertBefore(f,d.firstChild);
var a=f.sheet||f.styleSheet;
a.insertRule("."+b+" { -webkit-tap-highlight-color: rgba(0,0,0,0); }",0);
a.insertRule("."+b+" * { -webkit-tap-highlight-color: rgba(0,0,0,.25); }",0);
MobileCommentJindo.$Element.prototype.preventTapHighlight=function(g){return this[g?"addClass":"removeClass"](b);
};
}else{MobileCommentJindo.$Element.prototype.preventTapHighlight=function(g){return this;
};
}return this.preventTapHighlight.apply(this,_toArray(arguments));
};
MobileCommentJindo.$Fn=function(func,thisObject){var cl=arguments.callee;
if(func instanceof cl){return func;
}if(!(this instanceof cl)){try{MobileCommentJindo.$Jindo._warn(arguments.length,2,"$Fn");
return new cl(func,thisObject);
}catch(e){if(e instanceof TypeError){return null;
}throw e;
}}var oArgs=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4fun":["func:Function+"],"4fun2":["func:Function+","thisObject:Variant"],"4str":["func:String+","thisObject:String+"]},"$Fn");
this._tmpElm=null;
this._key=null;
switch(oArgs+""){case"4str":this._func=eval("false||function("+func+"){"+thisObject+"}");
break;
case"4fun":case"4fun2":this._func=func;
this._this=thisObject;
}};
MobileCommentJindo.$Fn._commonPram=function(b,a){return MobileCommentJindo.$Jindo.checkVarType(b,{"4ele":["eElement:Element+","sEvent:String+"],"4ele2":["eElement:Element+","sEvent:String+","bUseCapture:Boolean"],"4str":["eElement:String+","sEvent:String+"],"4str2":["eElement:String+","sEvent:String+","bUseCapture:Boolean"],"4arr":["aElement:Array+","sEvent:String+"],"4arr2":["aElement:Array+","sEvent:String+","bUseCapture:Boolean"],"4doc":["eElement:Document+","sEvent:String+"],"4win":["eElement:Window+","sEvent:String+"],"4doc2":["eElement:Document+","sEvent:String+","bUseCapture:Boolean"],"4win2":["eElement:Window+","sEvent:String+","bUseCapture:Boolean"]},a);
};
MobileCommentJindo.$Fn.prototype.$value=function(){return this._func;
};
MobileCommentJindo.$Fn.prototype.bind=function(){var d=_slice.call(arguments,0);
var h=this._func;
var g=this._this;
var c=function(){var a=_slice.call(arguments,0);
if(d.length){a=d.concat(a);
}return h.apply(g,a);
};
return c;
};
MobileCommentJindo.$Fn.prototype.attach=function(d,b,h){var g=MobileCommentJindo.$Fn._commonPram(arguments,"$Fn#attach");
var o=null,f,n=b,c=d,a=_j_ag;
if(h!==true){h=false;
}this._bUseCapture=h;
switch(g+""){case"4arr":case"4arr2":var c=g.aElement;
var n=g.sEvent;
for(var m=0,f=c.length;
m<f;
m++){this.attach(c[m],n,!!h);
}return this;
}o=this._bind=this._bind?this._bind:this.bind();
MobileCommentJindo.$Element(c).attach(n,o);
return this;
};
MobileCommentJindo.$Fn.prototype.detach=function(d,b,h){var g=MobileCommentJindo.$Fn._commonPram(arguments,"$Fn#detach");
var o=null,f,c=d,n=b,a=_j_ag;
switch(g+""){case"4arr":case"4arr2":var c=g.aElement;
var n=g.sEvent;
for(var m=0,f=c.length;
m<f;
m++){this.detach(c[m],n,!!h);
}return this;
}o=this._bind=this._bind?this._bind:this.bind();
MobileCommentJindo.$Element(g.eElement).detach(g.sEvent,o);
return this;
};
MobileCommentJindo.$Fn.prototype.delay=function(a,b){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4num":["nSec:Numeric"],"4arr":["nSec:Numeric","args:Array+"]},"$Fn#delay");
switch(c+""){case"4num":b=b||[];
break;
case"4arr":b=c.args;
}this._delayKey=setTimeout(this.bind.apply(this,b),a*1000);
return this;
};
MobileCommentJindo.$Fn.prototype.setInterval=function(a,b){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4num":["nSec:Numeric"],"4arr":["nSec:Numeric","args:Array+"]},"$Fn#setInterval");
switch(c+""){case"4num":b=b||[];
break;
case"4arr":b=c.args;
}this._repeatKey=setInterval(this.bind.apply(this,b),a*1000);
return this;
};
MobileCommentJindo.$Fn.prototype.repeat=MobileCommentJindo.$Fn.prototype.setInterval;
MobileCommentJindo.$Fn.prototype.stopDelay=function(){if(this._delayKey!==undefined){window.clearTimeout(this._delayKey);
delete this._delayKey;
}return this;
};
MobileCommentJindo.$Fn.prototype.stopRepeat=function(){if(this._repeatKey!==undefined){window.clearInterval(this._repeatKey);
delete this._repeatKey;
}return this;
};
MobileCommentJindo.$Event=(function(a){if(a){return function(c){var b=arguments.callee;
if(c instanceof b){return c;
}if(!(this instanceof b)){return new b(c);
}this._event=this._posEvent=c;
this._globalEvent=window.event;
this.type=c.type.toLowerCase();
if(this.type=="dommousescroll"){this.type="mousewheel";
}else{if(this.type=="domcontentloaded"){this.type="domready";
}}this.isTouch=false;
if(this.type.indexOf("touch")>-1){this._posEvent=c.changedTouches[0];
this.isTouch=true;
}this.canceled=false;
this.element=c.target||c.srcElement;
this.currentElement=c.currentTarget;
this.relatedElement=null;
if(!MobileCommentJindo.$Jindo.isUndefined(c.relatedTarget)){this.relatedElement=c.relatedTarget;
}else{if(c.fromElement&&c.toElement){this.relatedElement=c[(this.type=="mouseout")?"toElement":"fromElement"];
}}};
}else{return function(c){var b=arguments.callee;
if(c instanceof b){return c;
}if(!(this instanceof b)){return new b(c);
}if(c===undefined){c=window.event;
}if(c===window.event&&document.createEventObject){c=document.createEventObject(c);
}this.isTouch=false;
this._event=this._posEvent=c;
this._globalEvent=window.event;
this.type=c.type.toLowerCase();
if(this.type=="dommousescroll"){this.type="mousewheel";
}else{if(this.type=="domcontentloaded"){this.type="domready";
}}this.canceled=false;
this.element=c.target||c.srcElement;
this.currentElement=c.currentTarget;
this.relatedElement=null;
if(c.relatedTarget!==undefined){this.relatedElement=c.relatedTarget;
}else{if(c.fromElement&&c.toElement){this.relatedElement=c[(this.type=="mouseout")?"toElement":"fromElement"];
}}};
}})(_JINDO_IS_MO);
MobileCommentJindo.$Event.prototype.mouse=function(m){MobileCommentJindo.$Jindo.checkVarType(arguments,{voi:[],bol:["bIsScrollbar:Boolean"]});
var b=this._event;
var l=this.element;
var f=0;
var a=false,d=false,g=false;
var a=b.which?b.button==0:!!(b.button&1);
var d=b.which?b.button==1:!!(b.button&4);
var g=b.which?b.button==2:!!(b.button&2);
var c={};
if(b.wheelDelta){f=b.wheelDelta/120;
}else{if(b.detail){f=-b.detail/3;
}}var h;
if(m){h=_event_isScroll(l,b);
}c={delta:f,left:a,middle:d,right:g,scrollbar:h};
this.mouse=function(n){if(n){c.scrollbar=_event_isScroll(this.element,this._event);
this.mouse=function(){return c;
};
}return c;
};
return c;
};
function _event_getScrollbarSize(){var a={x:0,y:0};
var b=MobileCommentJindo.$(['<div style="',["overflow:scroll","width:100px","height:100px","position:absolute","left:-1000px","border:0","margin:0","padding:0"].join(" !important;"),' !important;">'].join(""));
document.body.insertBefore(b,document.body.firstChild);
a={x:b.offsetWidth-b.scrollWidth,y:b.offsetHeight-b.scrollHeight};
document.body.removeChild(b);
b=null;
_event_getScrollbarSize=function(){return a;
};
return a;
}function _event_isScroll(h,l){if(h.componentFromPoint){return/(scrollbar|outside)/.test(h.componentFromPoint(l.clientX,l.clientY));
}if(_JINDO_IS_FF){try{var d=l.originalTarget.localName;
return(d==="thumb"||d==="slider"||d==="scrollcorner"||d==="scrollbarbutton");
}catch(f){return true;
}}var g=MobileCommentJindo.$Element(h).css("display");
if(g==="inline"){return false;
}var c={x:l.offsetX||l.layerX||0,y:l.offsetY||l.layerY||0};
if(_JINDO_IS_WK){c.x-=h.clientLeft;
c.y-=h.clientTop;
}var b=_event_getScrollbarSize();
var a={x:[h.clientWidth,h.clientWidth+b.x],y:[h.clientHeight,h.clientHeight+b.y]};
return((a.x[0]<=c.x&&c.x<=a.x[1])||(a.y[0]<=c.y&&c.y<=a.y[1]));
}MobileCommentJindo.$Event.prototype.key=function(){var c=this._event;
var a=c.keyCode||c.charCode;
var b={keyCode:a,alt:c.altKey,ctrl:c.ctrlKey,meta:c.metaKey,shift:c.shiftKey,up:(a==38),down:(a==40),left:(a==37),right:(a==39),enter:(a==13),esc:(a==27)};
this.key=function(){return b;
};
return b;
};
MobileCommentJindo.$Event.prototype.pos=function(m){MobileCommentJindo.$Jindo.checkVarType(arguments,{voi:[],bol:["bGetOffset:Boolean"]});
var f=this._posEvent;
var d=(this.element.ownerDocument||document);
var a=d.body;
var l=d.documentElement;
var h=[a.scrollLeft||l.scrollLeft,a.scrollTop||l.scrollTop];
var c={clientX:f.clientX,clientY:f.clientY,pageX:"pageX" in f?f.pageX:f.clientX+h[0]-a.clientLeft,pageY:"pageY" in f?f.pageY:f.clientY+h[1]-a.clientTop,layerX:"offsetX" in f?f.offsetX:f.layerX-1,layerY:"offsetY" in f?f.offsetY:f.layerY-1};
if(m&&MobileCommentJindo.$Element){var g=MobileCommentJindo.$Element(this.element).offset();
c.offsetX=c.pageX-g.left;
c.offsetY=c.pageY-g.top;
}return c;
};
MobileCommentJindo.$Event.prototype.stop=function(c){MobileCommentJindo.$Jindo.checkVarType(arguments,{voi:[],num:["nCancel:Numeric"]});
c=c||MobileCommentJindo.$Event.CANCEL_ALL;
var f=(window.event&&window.event==this._globalEvent)?this._globalEvent:this._event;
var a=!!(c&MobileCommentJindo.$Event.CANCEL_BUBBLE);
var g=!!(c&MobileCommentJindo.$Event.CANCEL_DEFAULT);
this.canceled=true;
if(f.preventDefault!==undefined&&g){f.preventDefault();
}if(f.stopPropagation!==undefined&&a){f.stopPropagation();
}if(g){f.returnValue=false;
}if(a){f.cancelBubble=true;
}return this;
};
MobileCommentJindo.$Event.prototype.stopDefault=function(){return this.stop(MobileCommentJindo.$Event.CANCEL_DEFAULT);
};
MobileCommentJindo.$Event.prototype.stopBubble=function(){return this.stop(MobileCommentJindo.$Event.CANCEL_BUBBLE);
};
MobileCommentJindo.$Event.CANCEL_BUBBLE=1;
MobileCommentJindo.$Event.CANCEL_DEFAULT=2;
MobileCommentJindo.$Event.CANCEL_ALL=3;
MobileCommentJindo.$Event.prototype.$value=function(){return this._event;
};
(function(b){var d="Touch";
for(var c=0,a=b.length;
c<a;
c++){MobileCommentJindo.$Event.prototype[b[c]+d]=(function(f){return function(g){if(this.isTouch){var o=[];
var n=this._event[f+"es"];
var h=n.length;
var q;
for(var m=0;
m<h;
m++){q=n[m];
o.push({id:q.identifier,event:this,element:q.target,_posEvent:q,pos:MobileCommentJindo.$Event.prototype.pos});
}this[f]=function(l){var r=MobileCommentJindo.$Jindo.checkVarType(arguments,{"void":[],"4num":["nIndex:Numeric"]},"$Event#"+f);
if(r+""=="void"){return o;
}return o[l];
};
}else{this[f]=function(l){throw new MobileCommentJindo.$Error(MobileCommentJindo.$Except.NOT_SUPPORT_METHOD,"$Event#"+f);
};
}return this[f].apply(this,_toArray(arguments));
};
})(b[0]+d);
}})(["changed","target"]);
MobileCommentJindo.$ElementList=function(d){var b=arguments.callee;
if(d instanceof b){return d;
}if(!(this instanceof b)){try{return new b(d);
}catch(g){if(g instanceof TypeError){return null;
}throw g;
}}var f=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4arr":["aEle:Array+"],"4str":["sCssQuery:String+"],"4nul":["oEle:Null"],"4und":["oEle:Undefined"]},"$ElementList");
switch(f+""){case"4arr":d=f.aEle;
break;
case"4str":d=MobileCommentJindo.cssquery(f.sCssQuery);
break;
case"4nul":case"4und":d=[];
}this._elements=[];
for(var c=0,a=d.length;
c<a;
c++){this._elements.push(MobileCommentJindo.$Element(d[c]));
}};
(function(g){var f=["show","hide","toggle","addClass","removeClass","toggleClass","fireEvent","leave","empty","className","width","height","text","html","css","attr"];
for(var d=0,a=f.length;
d<a;
d++){var c=f[d];
if(MobileCommentJindo.$Element.prototype[c]){g[f[d]]=(function(h){return function(){try{var r=[];
for(var q=0,l=arguments.length;
q<l;
q++){r.push(arguments[q]);
}for(var o=0,t=this._elements.length;
o<t;
o++){this._elements[o][h].apply(this._elements[o],r);
}return this;
}catch(s){throw TypeError(s.message.replace(/\$Element/g,"$Elementlist#"+h).replace(/Element\.html/g,"Elementlist.html#"+h));
}};
})(f[d]);
}}var b=["appear","disappear"];
for(var d=0,a=b.length;
d<a;
d++){if(MobileCommentJindo.$Element.prototype[c]){g[b[d]]=(function(h){return function(r,s){try{var n=this;
for(var o=0,l=this._elements.length;
o<l;
o++){if(o==l-1){this._elements[o][h](r,function(){s(n);
});
}else{this._elements[o][h](r);
}}return this;
}catch(q){throw TypeError(q.message.replace(/\$Element/g,"$Elementlist#"+h).replace(/Element\.html/g,"Elementlist.html#"+h));
}};
})(b[d]);
}}})(MobileCommentJindo.$ElementList.prototype);
MobileCommentJindo.$ElementList.prototype.get=function(a){var b=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4num":["nIdx:Numeric"]},"$ElementList#get");
return this._elements[a];
};
MobileCommentJindo.$ElementList.prototype.getFirst=function(){return this._elements[0];
};
MobileCommentJindo.$ElementList.prototype.getLast=function(){return this._elements[Math.max(this._elements.length-1,0)];
};
MobileCommentJindo.$ElementList.prototype.length=function(c,a){var b=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4num":[MobileCommentJindo.$Jindo._F("nLen:Numeric")],"4var":["nLen:Numeric","oValue:Variant"]},"$ElementList#length");
var f=MobileCommentJindo.$A(this._elements);
try{return f.length.apply(f,_toArray(arguments));
}catch(d){throw TypeError(d.message.replace(/\$A/g,"$Elementlist#length").replace(/A\.html/g,"Elementlist.html#length"));
}};
MobileCommentJindo.$ElementList.prototype.$value=function(){return this._elements;
};
MobileCommentJindo.$S=function(d){var a=arguments.callee;
if(d instanceof a){return d;
}if(!(this instanceof a)){try{MobileCommentJindo.$Jindo._warn(arguments.length,1,"$Json");
return new a(d||"");
}catch(c){if(c instanceof TypeError){return null;
}throw c;
}}var b=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["str:String+"]},"$S");
this._str=d+"";
};
MobileCommentJindo.$S.prototype.$value=function(){return this._str;
};
MobileCommentJindo.$S.prototype.toString=MobileCommentJindo.$S.prototype.$value;
MobileCommentJindo.$S.prototype.trim=function(){if("".trim){MobileCommentJindo.$S.prototype.trim=function(){return MobileCommentJindo.$S(this._str.trim());
};
}else{MobileCommentJindo.$S.prototype.trim=function(){return MobileCommentJindo.$S(this._str.replace(/^(\s|　)+/g,"").replace(/(\s|　)+$/g,""));
};
}return MobileCommentJindo.$S(this.trim());
};
MobileCommentJindo.$S.prototype.escapeHTML=function(){var b={'"':"quot","&":"amp","<":"lt",">":"gt","'":"#39"};
var a=this._str.replace(/[<>&"']/g,function(c){return b[c]?"&"+b[c]+";":c;
});
return MobileCommentJindo.$S(a);
};
MobileCommentJindo.$S.prototype.stripTags=function(){return MobileCommentJindo.$S(this._str.replace(/<\/?(?:h[1-5]|[a-z]+(?:\:[a-z]+)?)[^>]*>/ig,""));
};
MobileCommentJindo.$S.prototype.times=function(b){var a=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["nTimes:Numeric"]},"$S#times");
if(!a){return this;
}return MobileCommentJindo.$S(Array(a.nTimes+1).join(this._str));
};
MobileCommentJindo.$S.prototype.unescapeHTML=function(){var b={quot:'"',amp:"&",lt:"<",gt:">","#39":"'"};
var a=this._str.replace(/&([a-z]+|#[0-9]+);/g,function(d,c){return b[c]?b[c]:d;
});
return MobileCommentJindo.$S(a);
};
MobileCommentJindo.$S.prototype.escape=function(){var a=this._str.replace(/([\u0080-\uFFFF]+)|[\n\r\t"'\\]/g,function(d,c,b){if(c){return escape(c).replace(/%/g,"\\");
}return(b={"\n":"\\n","\r":"\\r","\t":"\\t"})[d]?b[d]:"\\"+d;
});
return MobileCommentJindo.$S(a);
};
MobileCommentJindo.$S.prototype.bytes=function(c){var d=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4num":["nConfig:Numeric"],"4obj":["nConfig:Hash+"]},"$S#bytes");
var a=0,m=0,f=0,h=this._str.length;
var b=((document.charset||document.characterSet||document.defaultCharset)+"");
var l,g;
switch(d+""){case"4voi":l=false;
break;
case"4num":l=true;
g=c;
break;
case"4obj":b=c.charset||b;
g=c.size||false;
l=!!g;
break;
}if(b.toLowerCase()=="utf-8"){for(f=0;
f<h;
f++){a=this._str.charCodeAt(f);
if(a<128){m+=1;
}else{if(a<2048){m+=2;
}else{if(a<65536){m+=3;
}else{m+=4;
}}}if(l&&m>g){this._str=this._str.substr(0,f);
break;
}}}else{for(f=0;
f<h;
f++){m+=(this._str.charCodeAt(f)>128)?2:1;
if(l&&m>g){this._str=this._str.substr(0,f);
break;
}}}return l?this:m;
};
MobileCommentJindo.$S.prototype.parseString=function(){if(this._str==""){return{};
}var h=this._str.split(/&/g),l,c,g,a={},d=false;
for(var b=0;
b<h.length;
b++){c=h[b].substring(0,l=h[b].indexOf("=")),d=false;
try{g=decodeURIComponent(h[b].substring(l+1));
}catch(f){d=true;
g=decodeURIComponent(unescape(h[b].substring(l+1)));
}if(c.substr(c.length-2,2)=="[]"){c=c.substring(0,c.length-2);
if(MobileCommentJindo.$Jindo.isUndefined(a[c])){a[c]=[];
}a[c][a[c].length]=d?escape(g):g;
}else{a[c]=d?escape(g):g;
}}return a;
};
MobileCommentJindo.$S.prototype.escapeRegex=function(){var a=this._str;
var b=/([\?\.\*\+\-\/\(\)\{\}\[\]\:\!\^\$\\\|])/g;
return MobileCommentJindo.$S(a.replace(b,"\\$1"));
};
MobileCommentJindo.$S.prototype.format=function(){var b=arguments;
var a=0;
var c=this._str.replace(/%([ 0])?(-)?([1-9][0-9]*)?([bcdsoxX])/g,function(n,m,h,g,d){var f=b[a++];
var l="",o="";
g=g?+g:0;
if(d=="s"){l=f+"";
}else{if(" bcdoxX".indexOf(d)>0){if(!MobileCommentJindo.$Jindo.isNumeric(f)){return"";
}l=(d=="c")?String.fromCharCode(f):f.toString(({b:2,d:10,o:8,x:16,X:16})[d]);
if(" X".indexOf(d)>0){l=l.toUpperCase();
}}}if(l.length<g){o=MobileCommentJindo.$S(m||" ").times(g-l.length)._str;
}(h=="-")?(l+=o):(l=o+l);
return l;
});
return MobileCommentJindo.$S(c);
};
MobileCommentJindo.$Document=function(b){var a=arguments.callee;
if(b instanceof a){return b;
}if(!(this instanceof a)){try{MobileCommentJindo.$Jindo._warn(arguments.length,1,"$Document");
return new a(b||document);
}catch(d){if(d instanceof TypeError){return null;
}throw d;
}}var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4doc":["oDocument:Document+"]},"$Document");
if(c==null){this._doc=document;
}else{this._doc=b;
}this._docKey=this.renderingMode()=="Standards"?"documentElement":"body";
};
(function(){var c=MobileCommentJindo.cssquery;
var b={query:c.getSingle,queryAll:c,xpathAll:c.xpath};
for(var a in b){MobileCommentJindo.$Document.prototype[a]=(function(f,d){return function(h){var g=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sQuery:String+"]},"$Document#"+f);
return d(h,this._doc);
};
})(a,b[a]);
}})();
MobileCommentJindo.$Document.prototype.$value=function(){return this._doc;
};
MobileCommentJindo.$Document.prototype.scrollSize=function(){var a=this._doc[_JINDO_IS_WK?"body":this._docKey];
return{width:Math.max(a.scrollWidth,a.clientWidth),height:Math.max(a.scrollHeight,a.clientHeight)};
};
MobileCommentJindo.$Document.prototype.scrollPosition=function(){var a=this._doc[_JINDO_IS_WK?"body":this._docKey];
return{left:a.scrollLeft||window.pageXOffset||window.scrollX||0,top:a.scrollTop||window.pageYOffset||window.scrollY||0};
};
MobileCommentJindo.$Document.prototype.clientSize=function(){var a=this._doc[this._docKey];
var b=_JINDO_IS_SP&&!_JINDO_IS_CH;
return(b)?{width:window.innerWidth,height:window.innerHeight}:{width:a.clientWidth,height:a.clientHeight};
};
MobileCommentJindo.$Document.prototype.renderingMode=function(){var b=navigator.userAgent;
var d=_JINDO_IS_IE;
var a=(_JINDO_IS_WK&&!_JINDO_IS_CH&&navigator.vendor.indexOf("Apple")>-1);
var c;
if("compatMode" in this._doc){c=this._doc.compatMode=="CSS1Compat"?"Standards":(d?"Quirks":"Almost");
}else{c=a?"Standards":"Quirks";
}return c;
};
MobileCommentJindo.$Form=function(b){var a=arguments.callee;
if(b instanceof a){return b;
}if(!(this instanceof a)){try{MobileCommentJindo.$Jindo._warn(arguments.length,1,"$Form");
return new a(b);
}catch(d){if(d instanceof TypeError){return null;
}throw d;
}}var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["oForm:String+"],"4ele":["oForm:Element+"]},"$Form");
switch(c+""){case"4str":b=MobileCommentJindo.$(b);
break;
}if(!(b.tagName&&b.tagName.toUpperCase()=="FORM")){throw TypeError("only form");
}this._form=b;
};
MobileCommentJindo.$Form.prototype.$value=function(){return this._form;
};
MobileCommentJindo.$Form.prototype.serialize=function(){var b=this;
var f={};
var d=arguments.length;
var h=function(n,m){if(!n.disabled){var l=b.value(m);
if(l!==undefined){f[m]=l;
}}};
if(d==0){var a=this._form.elements.length;
for(var c=0;
c<a;
c++){var g=this._form.elements[c];
if(g.name){h(g,g.name);
}}}else{for(var c=0;
c<d;
c++){h(this.element(arguments[c]),arguments[c]);
}}return MobileCommentJindo.$H(f).toQueryString();
};
MobileCommentJindo.$Form.prototype.element=function(b){var a=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4str":[MobileCommentJindo.$Jindo._F("sKey:String+")]},"$Form#element");
switch(a+""){case"4voi":return _toArray(this._form.elements);
case"4str":return this._form.elements[b+""];
}};
MobileCommentJindo.$Form.prototype.enable=function(l){var g=MobileCommentJindo.$Jindo.checkVarType(arguments,{s4bln:["sName:String+","bEnable:Boolean"],s4obj:["oObj:Hash+"],g:[MobileCommentJindo.$Jindo._F("sName:String+")]},"$Form#enable");
switch(g+""){case"s4bln":var f=this._form[l];
if(!f){return this;
}f=f.nodeType==1?[f]:f;
var d=g.bEnable;
for(var c=0;
c<f.length;
c++){f[c].disabled=!d;
}return this;
case"s4obj":l=g.oObj;
var b=this;
for(var a in l){if(l.hasOwnProperty(a)){b.enable(a,l[a]);
}}return this;
case"g":var f=this._form[l];
if(!f){return this;
}f=f.nodeType==1?[f]:f;
var h=true;
for(var c=0;
c<f.length;
c++){if(f[c].disabled){h=false;
break;
}}return h;
}};
MobileCommentJindo.$Form.prototype.value=function(q){var g=MobileCommentJindo.$Jindo.checkVarType(arguments,{s4str:["sKey:String+","vValue:Variant"],s4obj:[MobileCommentJindo.$Jindo._F("oObj:Hash+")],g:["sKey:String+"]},"$Form#value");
if(g+""=="s4obj"){var s=this;
q=g.oObj;
for(var h in q){if(q.hasOwnProperty(h)){s.value(h,q[h]);
}}return this;
}var b=this._form[q];
if(!b){throw new MobileCommentJindo.$Error(q+MobileCommentJindo.$Except.NONE_ELEMENT,"$Form#value");
}b=b.nodeType==1?[b]:b;
switch(g+""){case"s4str":var d=g.vValue;
var r=b.length;
for(var l=0;
l<r;
l++){var c=b[l];
switch(c.type){case"radio":c.checked=(c.value==d);
break;
case"checkbox":if(d.constructor==Array){c.checked=MobileCommentJindo.$A(d).has(c.value);
}else{c.checked=(c.value==d);
}break;
case"select-one":var a=-1;
for(var l=0,m=c.options.length;
l<m;
l++){if(c.options[l].value==d){a=l;
}}c.selectedIndex=a;
break;
case"select-multiple":var a=-1;
if(d.constructor==Array){var n=MobileCommentJindo.$A(d);
for(var l=0,m=c.options.length;
l<m;
l++){c.options[l].selected=n.has(c.options[l].value);
}}else{for(var l=0,m=c.options.length;
l<m;
l++){if(c.options[l].value==d){a=l;
}}c.selectedIndex=a;
}break;
default:c.value=d;
}}return this;
case"g":var f=[];
var r=b.length;
for(var l=0;
l<r;
l++){var c=b[l];
switch(c.type){case"radio":case"checkbox":if(c.checked){f.push(c.value);
}break;
case"select-one":if(c.selectedIndex!=-1){f.push(c.options[c.selectedIndex].value);
}break;
case"select-multiple":if(c.selectedIndex!=-1){for(var l=0,m=c.options.length;
l<m;
l++){if(c.options[l].selected){f.push(c.options[l].value);
}}}break;
default:f.push(c.value);
}}return f.length>1?f:f[0];
}};
MobileCommentJindo.$Form.prototype.submit=function(c,b){var a=MobileCommentJindo.$Jindo.checkVarType(arguments,{voi:[],"4str":["sTargetName:String+"],"4fun":["fValidation:Function+"],"4fun2":["sTargetName:String+","fValidation:Function+"]},"$Form#submit");
var d=null;
switch(a+""){case"4str":d=this._form.target;
this._form.target=a.sTargetName;
break;
case"4fun":case"4fun2":if(!a.fValidation(this._form)){return this;
}if(a+""=="4fun2"){d=this._form.target;
this._form.target=a.sTargetName;
}}this._form.submit();
if(!MobileCommentJindo.$Jindo.isNull(d)){this._form.target=d;
}return this;
};
MobileCommentJindo.$Form.prototype.reset=function(b){var a=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4fun":["fValidation:Function+"]},"$Form#reset");
if(a+""=="4fun"){if(!b(this._form)){return this;
}}this._form.reset();
return this;
};
MobileCommentJindo.$Template=function(f){var d=null,a="";
var b=arguments.callee;
if(f instanceof b){return f;
}if(!(this instanceof b)){try{MobileCommentJindo.$Jindo._warn(arguments.length,1,"$Template");
return new b(f||"");
}catch(c){if(c instanceof TypeError){return null;
}throw c;
}}MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["str:String+"],"4ele":["ele:Element+"]},"$Template");
if((d=document.getElementById(f)||f)&&d.tagName&&(a=d.tagName.toUpperCase())&&(a=="TEXTAREA"||(a=="SCRIPT"&&d.getAttribute("type")=="text/template"))){f=(d.value||d.innerHTML).replace(/^\s+|\s+$/g,"");
}this._str=f+"";
};
MobileCommentJindo.$Template.splitter=/(?!\\)[\{\}]/g;
MobileCommentJindo.$Template.pattern=/^(?:if (.+)|elseif (.+)|for (?:(.+)\:)?(.+) in (.+)|(else)|\/(if|for)|=(.+)|js (.+)|set (.+)|gset (.+))$/;
MobileCommentJindo.$Template.prototype.process=function(l){var h=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4obj":["data:Hash+"],"4voi":[]},"$Template#process");
var r="\x01";
var f="\x02";
var o="\x03";
var n=(" "+this._str+" ").replace(/\\{/g,f).replace(/\\}/g,o).replace(/(?!\\)\}\{/g,"}"+r+"{").split(MobileCommentJindo.$Template.splitter),m=n.length;
var a={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r","\t":"\\t","\f":"\\f"};
var c=[/(["'](?:(?:\\.)+|[^\\["']+)*["']|[a-zA-Z_](?:[\w\.]|\[(?:.*?)\])*)/g,/[\n\r\t\f"\\]/g,/^\s+/,/\s+$/,/#/g];
var g=[function(t){return(t.substring(0,1)=='"'||t.substring(0,1)=="'"||t=="null"||t=="false"||t=="true")?t:"d."+t;
},function(t){return a[t]||t;
},"",""];
var s=[];
var d=0;
n[0]=n[0].substr(1);
n[m-1]=n[m-1].substr(0,n[m-1].length-1);
if(m<2){return n[0];
}n=n.reverse();
var q;
while(m--){if(m%2){n[m]=n[m].replace(MobileCommentJindo.$Template.pattern,function(){var t=arguments;
if(t[11]){return t[11].replace(/(\w+)(?:\s*)=(?:\s*)(?:([a-zA-Z0-9_]+)|(.+))$/g,function(){var y=arguments;
var w="var "+y[1]+"=";
if(y[2]){w+=y[2];
}else{w+=y[3].replace(/(=(?:[a-zA-Z_][\w\.]*)+)/g,function(z){return(z.substring(0,1)=="=")?"d."+z.replace("=",""):z;
});
}return w;
})+";";
}if(t[10]){var u=t[10].replace(/(\w+)(?:\s*)=(?:\s*)(?:([a-zA-Z0-9_]+)|(.+))$/g,function(){var y=arguments;
var w="d."+y[1]+"=";
if(y[2]){w+="d."+y[2];
}else{w+=y[3].replace(/((?:[a-zA-Z_](?:[\w\.]|\[(?:.*?)\])*)+)/g,function(z){return"d."+z;
});
}return w;
})+";";
return u;
}if(t[9]){return"s[i++]="+t[9].replace(/(=(?:[a-zA-Z_][\w\.]*)+)/g,function(w){return(w.substring(0,1)=="=")?"d."+w.replace("=",""):w;
})+";";
}if(t[8]){return"s[i++]= d."+t[8]+";";
}if(t[1]){return"if("+t[1].replace(c[0],g[0]).replace(/d\.(typeof) /,"$1 ").replace(/ d\.(instanceof) d\./," $1 ")+"){";
}if(t[2]){return"}else if("+t[2].replace(c[0],g[0]).replace(/d\.(typeof) /,"$1 ").replace(/ d\.(instanceof) d\./," $1 ")+"){";
}if(t[5]){q=t[4];
var v=[];
v.push("var t#=d."+t[5]+"||{},p#=MobileCommentJindo.$Jindo.isArray(t#),i#=0;");
v.push("for(var x# in t#){");
v.push("if(!t#.hasOwnProperty(x#)){continue;}");
v.push("	if( (p# && isNaN(i#=parseInt(x#,10))) || (!p# && !t#.propertyIsEnumerable(x#)) ) continue;");
v.push("	d."+t[4]+"=t#[x#];");
v.push(t[3]?"d."+t[3]+"=p#?i#:x#;":"");
return v.join("").replace(c[4],d++);
}if(t[6]){return"}else{";
}if(t[7]){if(t[7]=="for"){return"delete d."+q+"; };";
}else{return"};";
}}return t[0];
});
}else{if(n[m]==r){n[m]="";
}else{if(n[m]){n[m]='s[i++]="'+n[m].replace(c[1],g[1])+'";';
}}}}n=n.reverse().join("").replace(new RegExp(f,"g"),"{").replace(new RegExp(o,"g"),"}");
var b=[];
b.push("d = d||{};");
b.push("var s=[],i=0;");
b.push(n);
b.push('return s.join("");');
n=new Function("d",""+b.join(""));
n=n(h+""=="for_void"?"":h.data);
return n;
};
MobileCommentJindo.$Date=function(b){var m=arguments,q="";
var n=arguments.callee;
if(b&&b instanceof n){return b;
}if(!(this instanceof n)){var h="";
for(var f=0,c=m.length;
f<c;
f++){h+="a["+f+"],";
}var o=new Function("cl","a","return new cl("+h.replace(/,$/,"")+");");
try{MobileCommentJindo.$Jindo._warn(arguments.length,7,"$Date");
return o(n,m);
}catch(g){if(g instanceof TypeError){return null;
}throw g;
}}var d=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4voi":[],"4str":["src:String+"],"4num":["src:Numeric"],"4dat":["src:Date+"],"4num2":["src:Numeric","src:Numeric"],"4num3":["src:Numeric","src:Numeric","src:Numeric"],"4num4":["src:Numeric","src:Numeric","src:Numeric","src:Numeric"],"4num5":["src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric"],"4num6":["src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric"],"4num7":["src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric"]},"$Date");
switch(d+""){case"4voi":this._date=new Date;
break;
case"4num":this._date=new Date(b*1);
break;
case"4str":if(/(\d\d\d\d)(?:-?(\d\d)(?:-?(\d\d)))/.test(b)){this._date=MobileCommentJindo.$Date._makeISO(b);
}else{this._date=n.parse(b);
}break;
case"4dat":(this._date=new Date).setTime(b.getTime());
this._date.setMilliseconds(b.getMilliseconds());
break;
case"4num2":case"4num3":case"4num4":case"4num5":case"4num6":case"4num7":for(var f=0;
f<7;
f++){if(!MobileCommentJindo.$Jindo.isNumeric(m[f])){m[f]=1;
}}this._date=new Date(m[0],m[1],m[2],m[3],m[4],m[5],m[6]);
}this._names={};
for(var f in MobileCommentJindo.$Date.names){if(MobileCommentJindo.$Date.names.hasOwnProperty(f)){this._names[f]=MobileCommentJindo.$Date.names[f];
}}};
MobileCommentJindo.$Date._makeISO=function(d){var b=d.match(/(\d\d\d\d)(?:-?(\d\d)(?:-?(\d\d)(?:[T ](\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|(?:([-+])(\d\d)(?::?(\d\d))?)?)?)?)?)?/);
var a=parseInt(b[4]||0,10);
var c=parseInt(b[5]||0,10);
if(b[8]=="Z"){a+=MobileCommentJindo.$Date.utc;
}else{if(b[9]=="+"||b[9]=="-"){a+=(MobileCommentJindo.$Date.utc-parseInt(b[9]+b[10],10));
c+=parseInt(b[9]+b[11],10);
}}return new Date(b[1]||0,parseInt(b[2]||0,10)-1,b[3]||0,a,c,b[6]||0,b[7]||0);
};
MobileCommentJindo.$Date._paramCheck=function(a,b){return MobileCommentJindo.$Jindo.checkVarType(a,{s:["nParm:Numeric"],g:[]},"$Date#"+b);
};
MobileCommentJindo.$Date.names={month:["January","Febrary","March","April","May","June","July","August","September","October","Novermber","December"],s_month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s_day:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ampm:["AM","PM"]};
MobileCommentJindo.$Date.utc=9;
MobileCommentJindo.$Date.now=function(){if(Date.now){this.now=function(){return Date.now();
};
}else{this.now=function(){return +new Date();
};
}return this.now();
};
MobileCommentJindo.$Date.prototype.name=function(b,d){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{s4str:["sKey:String+","aValue:Array+"],s4obj:["oObject:Hash+"],g:["sKey:String+"]},"$Date#name");
switch(c+""){case"s4str":this._names[b]=d;
break;
case"s4obj":b=c.oObject;
for(var a in b){if(b.hasOwnProperty(a)){this._names[a]=b[a];
}}break;
case"g":return this._names[b];
}return this;
};
MobileCommentJindo.$Date.parse=function(b){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sKey:String+"]},"$Date#parse");
var a=new Date(Date.parse(b));
if(isNaN(a)||a=="Invalid Date"){throw new MobileCommentJindo.$Error(MobileCommentJindo.$Except.INVALID_DATE,"$Date#parse");
}return a;
};
MobileCommentJindo.$Date.prototype.$value=function(){return this._date;
};
MobileCommentJindo.$Date.prototype.format=function(f){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4str":["sFormat:String+"]},"$Date#format");
f=c.sFormat;
var h={};
var g=this._date;
var b=this._names;
var a=this;
return(f||"").replace(/[a-z]/ig,function l(d){if(h[d]!==undefined){return h[d];
}switch(d){case"d":case"j":h.j=g.getDate();
h.d=(h.j>9?"":"0")+h.j;
return h[d];
case"l":case"D":case"w":case"N":h.w=g.getDay();
h.N=h.w?h.w:7;
h.D=b.s_day[h.w];
h.l=b.day[h.w];
return h[d];
case"S":return(!!(h.S=["st","nd","rd"][g.getDate()]))?h.S:(h.S="th");
case"z":h.z=Math.floor((g.getTime()-(new Date(g.getFullYear(),0,1)).getTime())/(3600*24*1000));
return h.z;
case"m":case"n":h.n=g.getMonth()+1;
h.m=(h.n>9?"":"0")+h.n;
return h[d];
case"L":h.L=a.isLeapYear();
return h.L;
case"o":case"Y":case"y":h.o=h.Y=g.getFullYear();
h.y=(h.o+"").substr(2);
return h[d];
case"a":case"A":case"g":case"G":case"h":case"H":h.G=g.getHours();
h.g=(h.g=h.G%12)?h.g:12;
h.A=h.G<12?b.ampm[0]:b.ampm[1];
h.a=h.A.toLowerCase();
h.H=(h.G>9?"":"0")+h.G;
h.h=(h.g>9?"":"0")+h.g;
return h[d];
case"i":h.i=(((h.i=g.getMinutes())>9)?"":"0")+h.i;
return h.i;
case"s":h.s=(((h.s=g.getSeconds())>9)?"":"0")+h.s;
return h.s;
case"u":h.u=g.getMilliseconds();
return h.u;
case"U":h.U=a.time();
return h.U;
default:return d;
}});
};
MobileCommentJindo.$Date.prototype.time=function(a){var b=MobileCommentJindo.$Date._paramCheck(arguments,"time");
a=b.nParm;
switch(b+""){case"s":this._date.setTime(a);
return this;
case"g":return this._date.getTime();
}};
MobileCommentJindo.$Date.prototype.year=function(a){var b=MobileCommentJindo.$Date._paramCheck(arguments,"year");
a=b.nParm;
switch(b+""){case"s":this._date.setFullYear(a);
return this;
case"g":return this._date.getFullYear();
}};
MobileCommentJindo.$Date.prototype.month=function(a){var b=MobileCommentJindo.$Date._paramCheck(arguments,"month");
a=b.nParm;
switch(b+""){case"s":this._date.setMonth(a);
return this;
case"g":return this._date.getMonth();
}};
MobileCommentJindo.$Date.prototype.date=function(a){var b=MobileCommentJindo.$Date._paramCheck(arguments,"date");
a=b.nParm;
switch(b+""){case"s":this._date.setDate(a);
return this;
case"g":return this._date.getDate();
}};
MobileCommentJindo.$Date.prototype.day=function(){return this._date.getDay();
};
MobileCommentJindo.$Date.prototype.hours=function(b){var a=MobileCommentJindo.$Date._paramCheck(arguments,"hours");
b=a.nParm;
switch(a+""){case"s":this._date.setHours(b);
return this;
case"g":return this._date.getHours();
}};
MobileCommentJindo.$Date.prototype.minutes=function(a){var b=MobileCommentJindo.$Date._paramCheck(arguments,"minutes");
a=b.nParm;
switch(b+""){case"s":this._date.setMinutes(a);
return this;
case"g":return this._date.getMinutes();
}};
MobileCommentJindo.$Date.prototype.seconds=function(a){var b=MobileCommentJindo.$Date._paramCheck(arguments,"seconds");
a=b.nParm;
switch(b+""){case"s":this._date.setSeconds(a);
return this;
case"g":return this._date.getSeconds();
}};
MobileCommentJindo.$Date.prototype.isLeapYear=function(){var a=this._date.getFullYear();
return !(a%4)&&!!(a%100)||!(a%400);
};
MobileCommentJindo.$Date.prototype.compare=function(b,c){var a=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4dat":["oDate:Date+"],"4str":["oDate:Date+","sType:String+"]},"$Date#compare");
b=a.oDate;
c=a.sType;
if(!c){return b-this._date;
}else{if(c==="s"){return Math.floor(b/1000)-Math.floor(this._date/1000);
}else{if(c==="i"){return Math.floor(Math.floor(b/1000)/60)-Math.floor(Math.floor(this._date/1000)/60);
}else{if(c==="h"){return Math.floor(Math.floor(Math.floor(b/1000)/60)/60)-Math.floor(Math.floor(Math.floor(this._date/1000)/60)/60);
}else{if(c==="d"){return Math.floor(Math.floor(Math.floor(Math.floor(b/1000)/60)/60)/24)-Math.floor(Math.floor(Math.floor(Math.floor(this._date/1000)/60)/60)/24);
}else{if(c==="m"){return b.getMonth()-this._date.getMonth();
}else{if(c==="y"){return b.getFullYear()-this._date.getFullYear();
}}}}}}}};
MobileCommentJindo.$Window=function(b){var a=arguments.callee;
if(b instanceof a){return b;
}if(!(this instanceof a)){try{MobileCommentJindo.$Jindo._warn(arguments.length,1,"$Window");
return new a(b||window);
}catch(d){if(d instanceof TypeError){return null;
}throw d;
}}var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4win":["el:Window+"]},"$Window");
this._win=b;
};
MobileCommentJindo.$Window.prototype.$value=function(){return this._win;
};
MobileCommentJindo.$Window.prototype.resizeTo=function(b,a){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4num":["nWidth:Numeric","nHeight:Numeric"]},"$Window#resizeTo");
this._win.resizeTo(b,a);
return this;
};
MobileCommentJindo.$Window.prototype.resizeBy=function(b,a){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4num":["nWidth:Numeric","nHeight:Numeric"]},"$Window#resizeBy");
this._win.resizeBy(b,a);
return this;
};
MobileCommentJindo.$Window.prototype.moveTo=function(b,a){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4num":["nLeft:Numeric","nTop:Numeric"]},"$Window#moveTo");
this._win.moveTo(b,a);
return this;
};
MobileCommentJindo.$Window.prototype.moveBy=function(b,a){var c=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4num":["nLeft:Numeric","nTop:Numeric"]},"$Window#moveBy");
this._win.moveBy(b,a);
return this;
};
MobileCommentJindo.$Window.prototype.sizeToContent=function(l,m){var d=MobileCommentJindo.$Jindo.checkVarType(arguments,{"4num":["nWidth:Numeric","nHeight:Numeric"]},"$Window#sizeToContent");
if(this._win.sizeToContent){this._win.sizeToContent();
}else{if(arguments.length!=2){var h,f;
var o=this._win;
var n=this._win.document;
if(o.innerHeight){h=o.innerWidth;
f=o.innerHeight;
}else{if(n.documentElement&&n.documentElement.clientHeight){h=n.documentElement.clientWidth;
f=n.documentElement.clientHeight;
}else{if(n.body){h=n.body.clientWidth;
f=n.body.clientHeight;
}}}var g,c;
var b=n.body.scrollHeight;
var a=n.body.offsetHeight;
if(b>a){g=n.body.scrollWidth;
c=n.body.scrollHeight;
}else{g=n.body.offsetWidth;
c=n.body.offsetHeight;
}l=g-h;
m=c-f;
}this._win.resizeBy(l,m);
}return this;
};
if(typeof window!="undefined"){for(prop in MobileCommentJindo){if(MobileCommentJindo.hasOwnProperty(prop)){window[prop]=MobileCommentJindo[prop];
}}}MobileCommentJindo.Component=MobileCommentJindo.$Class({_htEventHandler:null,_htOption:null,$init:function(){var a=this.constructor.getInstance();
a.push(this);
this._htEventHandler={};
this._htOption={};
this._htOption._htSetter={};
},option:function(c,b){switch(typeof c){case"undefined":return this._htOption;
case"string":if(typeof b!="undefined"){if(c=="htCustomEventHandler"){if(typeof this._htOption[c]=="undefined"){this.attach(b);
}else{return this;
}}this._htOption[c]=b;
if(typeof this._htOption._htSetter[c]=="function"){this._htOption._htSetter[c](b);
}}else{return this._htOption[c];
}break;
case"object":for(var a in c){if(a=="htCustomEventHandler"){if(typeof this._htOption[a]=="undefined"){this.attach(c[a]);
}else{continue;
}}this._htOption[a]=c[a];
if(typeof this._htOption._htSetter[a]=="function"){this._htOption._htSetter[a](c[a]);
}}break;
}return this;
},optionSetter:function(c,a){switch(typeof c){case"undefined":return this._htOption._htSetter;
case"string":if(typeof a!="undefined"){this._htOption._htSetter[c]=MobileCommentJindo.$Fn(a,this).bind();
}else{return this._htOption._htSetter[c];
}break;
case"object":for(var b in c){this._htOption._htSetter[b]=MobileCommentJindo.$Fn(c[b],this).bind();
}break;
}return this;
},fireEvent:function(b,n){n=n||{};
var d=this["on"+b],c=this._htEventHandler[b]||[],l=typeof d=="function",h=c.length>0;
if(!l&&!h){return true;
}c=c.concat();
n.sType=b;
if(typeof n._aExtend=="undefined"){n._aExtend=[];
n.stop=function(){if(n._aExtend.length>0){n._aExtend[n._aExtend.length-1].bCanceled=true;
}};
}n._aExtend.push({sType:b,bCanceled:false});
var g=[n],f,m;
for(f=2,m=arguments.length;
f<m;
f++){g.push(arguments[f]);
}if(l){d.apply(this,g);
}if(h){var a;
for(f=0,a;
(a=c[f]);
f++){a.apply(this,g);
}}return !n._aExtend.pop().bCanceled;
},attach:function(c,a){if(arguments.length==1){MobileCommentJindo.$H(arguments[0]).forEach(MobileCommentJindo.$Fn(function(d,f){this.attach(f,d);
},this).bind());
return this;
}var b=this._htEventHandler[c];
if(typeof b=="undefined"){b=this._htEventHandler[c]=[];
}b.push(a);
return this;
},detach:function(f,b){if(arguments.length==1){MobileCommentJindo.$H(arguments[0]).forEach(MobileCommentJindo.$Fn(function(g,h){this.detach(h,g);
},this).bind());
return this;
}var d=this._htEventHandler[f];
if(d){for(var a=0,c;
(c=d[a]);
a++){if(c===b){d=d.splice(a,1);
break;
}}}return this;
},detachAll:function(c){var b=this._htEventHandler;
if(arguments.length){if(typeof b[c]=="undefined"){return this;
}delete b[c];
return this;
}for(var a in b){delete b[a];
}return this;
}});
MobileCommentJindo.Component.factory=function(b,g){var c=[],a;
if(typeof g=="undefined"){g={};
}for(var d=0,f;
(f=b[d]);
d++){a=new this(f,g);
c[c.length]=a;
}return c;
};
MobileCommentJindo.Component.getInstance=function(){if(typeof this._aInstance=="undefined"){this._aInstance=[];
}return this._aInstance;
};
if(typeof MobileCommentJindo.m=="undefined"&&typeof Node!="undefined"&&typeof ___Old__addEventListener___=="undefined"){var ___Old__addEventListener___=Node.prototype.addEventListener;
Node.prototype.addEventListener=function(c,d,a){var b=arguments.callee;
if(b&&c==="click"&&this.tagName==="A"){(this.___listeners___||(this.___listeners___=[])).push({listener:d,useCapture:a});
}return ___Old__addEventListener___.apply(this,arguments);
};
var ___Old__removeEventListener___=Node.prototype.removeEventListener;
Node.prototype.removeEventListener=function(c,d,a){var b=arguments.callee;
if(b&&c==="click"&&this.tagName==="A"){if(this.___listeners___){this.___listeners___.pop();
}}return ___Old__removeEventListener___.apply(this,arguments);
};
}MobileCommentJindo.m=(function(){var a=MobileCommentJindo.$Class({$init:function(){this._initVar();
this._initDeviceInfo();
this._attachEvent();
},_initVar:function(){this.MOVETYPE={0:"hScroll",1:"vScroll",2:"dScroll",3:"tap",4:"longTap",5:"doubleTap"};
this._isVertical=null;
this._nPreWidth=-1;
this._nRotateTimer=null;
this._htHandler={};
this._htDeviceInfo={};
},_getOrientationChangeEvt:function(){var b="onorientationchange" in window?"orientationchange":"resize";
var c=this.getDeviceInfo();
if((c.android&&c.version==="2.1")||c.galaxyTab2){b="resize";
}return b;
},_getVertical:function(){var b=null,f=this._getOrientationChangeEvt();
if(f==="resize"){var c=document.documentElement.clientWidth;
if(c<this._nPreWidth){b=true;
}else{if(c==this._nPreWidth){b=this._isVertical;
}else{b=false;
}}this._nPreWidth=c;
}else{var d=window.orientation;
if(d===0||d==180){b=true;
}else{if(d==90||d==-90){b=false;
}}}return b;
},_attachEvent:function(){this._rotateEvent=MobileCommentJindo.$Fn(this._onOrientationChange,this).attach(window,this._getOrientationChangeEvt()).attach(window,"load");
this._pageShowEvent=MobileCommentJindo.$Fn(this._onPageshow,this).attach(window,"pageshow");
},_initDeviceInfo:function(){var g=navigator.userAgent;
var c=null;
function d(l,f){return((f||"").indexOf(l)>-1);
}this._htDeviceInfo.iphone=d("iPhone",g);
this._htDeviceInfo.ipad=d("iPad",g);
this._htDeviceInfo.android=d("Android",g);
this._htDeviceInfo.galaxyTab=d("SHW-M180S",g)||d("SHW-M180K",g)||d("SHW-M180L",g);
this._htDeviceInfo.galaxyTab2=d("SHW-M380S",g)||d("SHW-M380K",g);
this._htDeviceInfo.galaxyK=d("SHW-M130K",g);
this._htDeviceInfo.galaxyU=d("SHW-M130L",g);
this._htDeviceInfo.galaxyS=d("SHW-M110S",g)||d("SHW-M110K",g)||d("SHW-M110L",g);
this._htDeviceInfo.galaxyS2=d("SHW-M250S",g)||d("SHW-M250K",g)||d("SHW-M250L",g);
this._htDeviceInfo.version="";
this._htDeviceInfo.bChrome=this._htDeviceInfo.android&&d("CrMo",g);
this._htDeviceInfo.bInapp=false;
if(this._htDeviceInfo.iphone||this._htDeviceInfo.ipad){c=g.match(/OS\s([\d|\_]+\s)/i);
if(c!==null&&c.length>1){this._htDeviceInfo.version=c[1];
}}else{if(this._htDeviceInfo.android){c=g.match(/Android\s(\d\.\d)/i);
if(c!==null&&c.length>1){this._htDeviceInfo.version=c[1];
}}}this._htDeviceInfo.version=this._htDeviceInfo.version.replace(/\_/g,".");
for(var b in this._htDeviceInfo){if(typeof this._htDeviceInfo[b]=="boolean"&&this._htDeviceInfo[b]&&this._htDeviceInfo.hasOwnProperty(b)){this._htDeviceInfo.name=b;
}}if(this._htDeviceInfo.iphone||this._htDeviceInfo.ipad){if(!d("Safari",g)){this._htDeviceInfo.bInapp=true;
}}else{if(this._htDeviceInfo.android){g=g.toLowerCase();
if(d("inapp",g)||d("app",g.replace("applewebkit",""))){this._htDeviceInfo.bInapp=true;
}}}},_onOrientationChange:function(c){var b=this;
if(c.type==="load"){this._nPreWidth=document.documentElement.clientWidth;
if(!this._htDeviceInfo.bInapp&&(this._htDeviceInfo.iphone||this._htDeviceInfo.ipad)){this._isVertical=this._getVertical();
}else{if(this._nPreWidth>document.documentElement.clientHeight){this._isVertical=false;
}else{this._isVertical=true;
}}return;
}if(this._getOrientationChangeEvt()==="resize"){setTimeout(function(){b._orientationChange(c);
},0);
}else{var d=200;
if(this.getDeviceInfo().android){d=500;
}clearTimeout(this._nRotateTimer);
this._nRotateTimer=setTimeout(function(){b._orientationChange(c);
},d);
}},_orientationChange:function(b){var c=this._isVertical;
this._isVertical=this._getVertical();
if(MobileCommentJindo.$Agent().navigator().mobile||MobileCommentJindo.$Agent().os().ipad){if(c!==this._isVertical){this.fireEvent("mobilerotate",{isVertical:this._isVertical});
}}else{this.fireEvent("mobilerotate",{isVertical:this._isVertical});
}},bindRotate:function(b){var c=this._htHandler.mobilerotate;
if(typeof c=="undefined"){c=this._htHandler.mobilerotate=[];
}c.push(b);
this.attach("mobilerotate",b);
},unbindRotate:function(c){var f=this._htHandler.mobilerotate;
if(f){for(var b=0,d;
(d=f[b]);
b++){if(d===c){f.splice(b,1);
this.detach("mobilerotate",c);
break;
}}}},_onPageshow:function(c){var b=this;
setTimeout(function(){b.fireEvent("mobilePageshow",{});
},300);
},bindPageshow:function(b){var c=this._htHandler.mobilePageshow;
if(typeof c=="undefined"){c=this._htHandler.mobilePageshow=[];
}c.push(b);
this.attach("mobilePageshow",b);
},unbindPageshow:function(c){var f=this._htHandler.mobilePageshow;
if(f){for(var b=0,d;
(d=f[b]);
b++){if(d===c){f.splice(b,1);
this.detach("mobilePageshow",c);
break;
}}}},getDeviceInfo:function(){return this._htDeviceInfo;
},isVertical:function(){return this._isVertical;
},getNodeElement:function(b){while(b.nodeType!=1){b=b.parentNode;
}return b;
},getCssOffset:function(b){var c;
if(MobileCommentJindo.m.getDeviceInfo().android&&parseInt(MobileCommentJindo.m.getDeviceInfo().version,10)===3){c=MobileCommentJindo.m._getCssOffsetFromStyle(b);
}else{if("WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix()){c=MobileCommentJindo.m._getCssOffsetFromCSSMatrix(b);
}else{c=MobileCommentJindo.m._getCssOffsetFromStyle(b);
}}return c;
},_getCssOffsetFromStyle:function(d){var c=nLeft=0,f=d.style[MobileCommentJindo.m.getCssPrefix()+"Transform"];
if(!!f&&f.length>0){aTemp=f.match(/translate.{0,2}\((.*)\)/);
if(!!aTemp&&aTemp.length>1){var b=aTemp[1].split(",");
if(!!b&&b.length>1){c=parseInt(b[1],10);
nLeft=parseInt(b[0],10);
}}}return{top:c,left:nLeft};
},_getCssOffsetFromCSSMatrix:function(c){var b=new WebKitCSSMatrix(window.getComputedStyle(c).webkitTransform);
return{top:b.m42,left:b.m41};
},attachTransitionEnd:function(c,d){var b=+MobileCommentJindo.$Jindo().version.replace(/[a-z.]/gi,"");
if(b>=151){c._jindo_fn_=MobileCommentJindo.$Fn(d,this).attach(c,"transitionend");
}else{c.addEventListener("webkitTransitionEnd",d,false);
}},detachTransitionEnd:function(c,d){var b=+MobileCommentJindo.$Jindo().version.replace(/[a-z.]/gi,"");
if(b>=151){if(c._jindo_fn_){c._jindo_fn_.detach(c,"transitionend");
delete c._jindo_fn_;
}}else{c.removeEventListener("webkitTransitionEnd",d,false);
}},getCssPrefix:function(){var b="";
if(typeof document.body.style.MozTransition!=="undefined"){b="Moz";
}else{if(typeof document.body.style.webkitTransition!=="undefined"){b="webkit";
}else{if(typeof document.body.style.OTransition!=="undefined"){b="O";
}}}return b;
},getClosest:function(g,f){var b;
var d=MobileCommentJindo.$Element(f);
var c=/<\/?(?:h[1-5]|[a-z]+(?:\:[a-z]+)?)[^>]*>/ig;
if(c.test(g)){if("<"+f.tagName.toUpperCase()+">"==g.toUpperCase()){b=f;
}else{b=d.parent(function(h){if("<"+h.$value().tagName.toUpperCase()+">"==g.toUpperCase()){return h;
}});
b=b.length?b[0].$value():false;
}}else{if(g.indexOf(".")==0){g=g.substring(1,g.length);
}if(d.hasClass(g)){b=f;
}else{b=d.parent(function(h){if(h.hasClass(g)){return h;
}});
b=b.length?b[0].$value():false;
}}return b;
}}).extend(MobileCommentJindo.Component);
return new a();
})();
MobileCommentJindo.UIComponent=MobileCommentJindo.$Class({$init:function(){this._bIsActivating=false;
},isActivating:function(){return this._bIsActivating;
},activate:function(){if(this.isActivating()){return this;
}this._bIsActivating=true;
if(arguments.length>0){this._onActivate.apply(this,arguments);
}else{this._onActivate();
}return this;
},deactivate:function(){if(!this.isActivating()){return this;
}this._bIsActivating=false;
if(arguments.length>0){this._onDeactivate.apply(this,arguments);
}else{this._onDeactivate();
}return this;
}}).extend(MobileCommentJindo.Component);
MobileCommentJindo.m.CheckRadioCore=MobileCommentJindo.$Class({$init:function(b,a){},_initVar:function(c,b){this._sFormType=c;
this._sFormFixClass=b;
this._sUnitClass=this.option("sClassPrefix")+b+"-unit";
this._sOnClass=this.option("sClassPrefix")+b+"-on";
this._sFormClass=this.option("sClassPrefix")+b;
this._sDisableClass=this.option("sClassPrefix")+b+"-disable";
var a=MobileCommentJindo.m.getDeviceInfo();
this._bMobile=(a.iphone||a.ipad||a.android);
this._sClickEvent=(this._bMobile)?"touchend":"click";
this._bMove=false;
},_setWrapperElement:function(c,a){this._htWElement={};
this._aWElUnitList=[];
this._aWElFormList=[];
c=(typeof c=="string"?MobileCommentJindo.$(c):c);
this._htWElement.base=MobileCommentJindo.$Element(c);
this._htWElement.container=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle("."+a+this._sFormFixClass+"-cont",c));
var d=this._htWElement.container.queryAll("."+this._sUnitClass);
var f=this._htWElement.container.queryAll("."+this._sFormClass);
for(var b=0;
b<d.length;
b++){this._aWElUnitList[b]=MobileCommentJindo.$Element(d[b]);
this._aWElFormList[b]=MobileCommentJindo.$Element(f[b]);
}},_onActivate:function(){this._attachEvent();
},_onDeactivate:function(){this._detachEvent();
},_attachEvent:function(){this._htEvent={};
this._htEvent.form_touchmove={el:this._htWElement.container.$value(),ref:MobileCommentJindo.$Fn(this._onTouchMove,this).attach(this._htWElement.container.$value(),"touchmove")};
this._htEvent["form_"+this._sClickEvent]={el:this._htWElement.container.$value(),ref:MobileCommentJindo.$Fn(this._onCheck,this).attach(this._htWElement.container.$value(),this._sClickEvent)};
if(this._bMobile){for(var a=0;
a<this._aWElFormList.length;
a++){this._htEvent["form"+a+"_click"]={el:this._aWElFormList[a].$value(),ref:MobileCommentJindo.$Fn(this._onFormClick,this).attach(this._aWElFormList[a].$value(),"click")};
}}},_detachEvent:function(){for(var b in this._htEvent){var a=this._htEvent[b];
a.ref.detach(a.el,b.substring(b.lastIndexOf("_")+1));
}this._htEvent=null;
},_onTouchMove:function(a){this._bMove=true;
},_onFormClick:function(c){var a=this._sUnitClass;
var g=MobileCommentJindo.$Element(c.element);
g=g.parent(function(h){return h.hasClass(a);
})[0];
var d=c.element.checked;
var b=g.attr("data-cb-checked");
var f=(b&&b=="on")?true:false;
if(d!=f){c.element.checked=f;
}},_onCheck:function(d){if(d.element&&!this._bMove){var b=MobileCommentJindo.m.getNodeElement(d.element);
var h=MobileCommentJindo.$Element(b);
var a=this._sUnitClass;
var c=b.tagName.toLowerCase();
var g=b.getAttribute("type");
g=(g)?g:"";
if(this._htWElement.container.isParentOf(h)&&!h.hasClass(a)){h=h.parent(function(l){return l.hasClass(a);
})[0];
}else{if((h.$value()===this._htWElement.container.$value())){return false;
}}if((h.hasClass(this._sDisableClass))){return false;
}var f=false;
if(c=="input"&&g.toLowerCase()==this._sFormType){f=true;
}this._afterCheck(h,f);
}this._bMove=false;
},_afterCheck:function(b,a){},_getFormIdx:function(m){var g=[];
var h=[];
var b=this._sUnitClass;
var a=this._sFormClass;
var l=MobileCommentJindo.$A(this._aWElUnitList);
var d=MobileCommentJindo.$A(this._aWElFormList);
if(m instanceof Array){h=m;
}else{if(typeof m=="object"){h.push(m);
}else{if(!m||m===null){var n=this._aWElUnitList.length;
for(var f=0;
f<n;
f++){g.push(f);
}}}}var c=-1;
if(h.length>0){l.forEach(function(r,o){for(var q=0;
q<h.length;
q++){if(h[q]===r.$value()){g.push(o);
}}});
if(h.length>g.length){d.forEach(function(r,o){for(var q=0;
q<h.length;
q++){if(h[q]===r.$value()){g.push(o);
}}});
}}return g;
},_useSettingForm:function(b,a){var c=this._getFormIdx(b);
var g=[];
var f=[];
var h=(a)?"enable":"disable";
for(var d=0;
d<c.length;
d++){this._setUsedForm(a,this._aWElFormList[c[d]].$value(),this._aWElUnitList[c[d]]);
g[d]=this._aWElFormList[c[d]].$value();
f[d]=this._aWElUnitList[c[d]].$value();
}return{aFormList:g,aUnitList:f};
},_setUsedForm:function(b,a,c){if(!b){c.addClass(this._sDisableClass);
a.disabled=true;
}else{c.removeClass(this._sDisableClass);
a.disabled=false;
}},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null;
}this._htWElement=null;
this._sUnitClass=null;
this._sOnClass=null;
this._sFormClass=null;
this._sDisableClass=null;
this._aWElUnitList=null;
this._aWElFormList=null;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.Effect=MobileCommentJindo.$Class({$init:function(){this._sCssPrefix=MobileCommentJindo.m.getCssPrefix();
var a=MobileCommentJindo.m.getDeviceInfo();
this.bIos=(a.iphone||a.ipad);
this.bIos3=a.iphone&&(a.version.length>0)&&(a.version.substring(0,1)=="3");
this.bAndroid=a.android;
this.bAndroid3Up=a.android&&(a.version.length>0)&&(a.version.substring(0,1)>="3");
this.bAndroid2_1=a.android&&(a.version.length>0)&&(a.version==="2.1");
this.sTranOpen=(this.bIos)?"translate3d(":"translate(";
this.sTranEnd=(this.bIos)?",0px)":")";
this._initVar();
},_initVar:function(){this._htLayerInfo={};
},setLayerInfo:function(a){this._htLayerInfo={};
for(var b in a){this._htLayerInfo[b]=a[b];
}},getTransitionTask:function(){return null;
},getBeforeCommand:function(){return null;
}});
MobileCommentJindo.m.CorePagination=MobileCommentJindo.$Class({_nCurrentPage:1,$init:function(a){this.option({nItem:10,nItemPerPage:10,nPage:1,bActivateOnload:true});
this.option(a||{});
this._nCurrentPage=this.option("nPage");
},getItemCount:function(){return this.option("nItem");
},getItemPerPage:function(){return this.option("nItemPerPage");
},getCurrentPage:function(){return this._nCurrentPage;
},setItemCount:function(a){this.option("nItem",a);
},setItemPerPage:function(a){this.option("nItemPerPage",a);
},movePageTo:function(c){var b=this._nCurrentPage;
var a=this._convertToAvailPage(c);
if(a!=this._nCurrentPage){this._nCurrentPage=a;
}},nextPageTo:function(){var a=this._nCurrentPage+1;
this.movePageTo(a);
},previousPageTo:function(){var a=this._nCurrentPage-1;
this.movePageTo(a);
},hasNextPage:function(){var b=this.getCurrentPage(),a=this.getTotalPages();
return b&&(b<a);
},hasPreviousPage:function(){return(this.getCurrentPage()>1);
},getTotalPages:function(){var b=this.option("nItem"),a=this.option("nItemPerPage");
if(!a){return null;
}return Math.ceil(b/a);
},getPageItemIndex:function(d){d=this._convertToAvailPage(d);
var c=this.option("nItem"),b=this.option("nItemPerPage"),f,a;
if(!d||!b){return null;
}f=(d-1)*b;
a=Math.min(f+b,c)-1;
return{nStart:f,nEnd:a};
},getPageOfItem:function(a){return Math.ceil(a/this.getItemPerPage());
},_convertToAvailPage:function(a){var b=this.getTotalPages();
a=Math.max(a,1);
a=Math.min(a,b);
return a;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.Validator=MobileCommentJindo.$Class({validate:function(d,c){var b=this._getCorrectedValue(d,c),a={bValid:this._isValid(b,c),sCorrectedValue:null};
if(b!==d){a.sCorrectedValue=b;
}return a;
}});
MobileCommentJindo.m.Touch=MobileCommentJindo.$Class({$init:function(b,a){this._el=MobileCommentJindo.$(b);
var c={nMomentumDuration:350,nMoveThreshold:7,nSlopeThreshold:25,nLongTapDuration:1000,nDoubleTapDuration:400,nTapThreshold:6,bActivateOnload:true};
this.option(c);
this.option(a||{});
this._initVariable();
this._setSlope();
if(this.option("bActivateOnload")){this.activate();
}},_initVariable:function(){this._hasTouchEvent="ontouchstart" in window;
this._htMoveInfo={nStartX:0,nStartY:0,nBeforeX:0,nBeforeY:0,nStartTime:0,nBeforeTime:0};
this.bStart=false;
this.bMove=false;
this.nMoveType=-1;
this.htEndInfo={};
this._nVSlope=0;
this._nHSlope=0;
this.bSetSlope=false;
},_attachEvents:function(){this._htEvent={};
var a=this._hasTouchEvent;
this._htEvent[a?"touchstart":"mousedown"]={ref:MobileCommentJindo.$Fn(this._onStart,this).attach(this._el,(a?"touchstart":"mousedown")),el:this._el};
this._htEvent[a?"touchmove":"mousemove"]={ref:MobileCommentJindo.$Fn(this._onMove,this).attach(this._el,(a?"touchmove":"mousemove")),el:this._el};
this._htEvent[a?"touchend":"mouseup"]={ref:MobileCommentJindo.$Fn(this._onEnd,this).attach(this._el,(a?"touchend":"mouseup")),el:this._el};
this._htEvent.rotate=MobileCommentJindo.$Fn(this._onResize,this).bind();
MobileCommentJindo.m.bindRotate(this._htEvent.rotate);
if(a){this._htEvent.touchcancel={ref:MobileCommentJindo.$Fn(this._onCancle,this).attach(this._el,"touchcancel"),el:this._el};
}},_detachEvents:function(){for(p in this._htEvent){var a=this._htEvent[p];
if(a.ref){a.ref.detach(a.el,p);
}}MobileCommentJindo.m.unbindRotate(this._htEvent.rotate);
this._htEvent=null;
},_onCancle:function(a){this._onEnd(a);
},_onStart:function(a){this._resetTouchInfo();
var b=this._getTouchInfo(a);
if(!this._fireCustomEvent("touchStart",{element:b.el,nX:b.nX,nY:b.nY,oEvent:a})){return;
}this.bStart=true;
this._htMoveInfo.nStartX=b.nX;
this._htMoveInfo.nBeforeX=b.nX;
this._htMoveInfo.nStartY=b.nY;
this._htMoveInfo.nBeforeY=b.nY;
this._htMoveInfo.nStartTime=b.nTime;
this._startLongTapTimer(b,a);
},_onMove:function(a){if(!this.bStart){return;
}this.bMove=true;
var b=this._getTouchInfo(a);
if(this.nMoveType<0||this.nMoveType==3||this.nMoveType==4){this.nMoveType=this._getMoveType(b.nX,b.nY);
}if((typeof this._nLongTapTimer!="undefined")&&this.nMoveType!=3){this._deleteLongTapTimer();
}var c=this._getCustomEventParam(b,false);
c.oEvent=a;
var d=0;
if(this.nMoveType==0){d=Math.abs(c.nVectorX);
}else{if(this.nMoveType==1){d=Math.abs(c.nVectorY);
}else{d=Math.abs(c.nVectorX)+Math.abs(c.nVectorY);
}}if(d<this.option("nMoveThreshold")){return;
}if(!this.fireEvent("touchMove",c)){this.bStart=false;
return;
}this._htMoveInfo.nBeforeX=b.nX;
this._htMoveInfo.nBeforeY=b.nY;
this._htMoveInfo.nBeforeTime=b.nTime;
},_onEnd:function(b){if(!this.bStart){return;
}this._deleteLongTapTimer();
if(!this.bMove&&(this.nMoveType!=4)){this.nMoveType=3;
}if(this.nMoveType<0){return;
}var c=this._getTouchInfo(b);
if(this._isDblTap(c.nX,c.nY,c.nTime)){clearTimeout(this._nTapTimer);
delete this._nTapTimer;
this.nMoveType=5;
}var f=this._getCustomEventParam(c,true);
f.oEvent=b;
var d=f.sMoveType;
if((typeof this._htEventHandler[MobileCommentJindo.m.MOVETYPE[5]]!="undefined"&&(this._htEventHandler[MobileCommentJindo.m.MOVETYPE[5]].length>0))&&(this.nMoveType==3)){var a=this;
this._nTapTimer=setTimeout(function(){a.fireEvent("touchEnd",f);
a._fireCustomEvent(d,f);
delete a._nTapTimer;
},this.option("nDoubleTapDuration"));
}else{this.fireEvent("touchEnd",f);
if(this.nMoveType!=4){this._fireCustomEvent(d,f);
}}this._updateTouchEndInfo(c);
this._resetTouchInfo();
},_fireCustomEvent:function(b,a){return this.fireEvent(b,a);
},_getCustomEventParam:function(b,d){var c=MobileCommentJindo.m.MOVETYPE[this.nMoveType];
var g=b.nTime-this._htMoveInfo.nStartTime;
var a=nVectorY=nMomentumX=nMomentumY=nSpeedX=nSpeedY=nDisX=nDisY=0;
nDisX=(this.nMoveType===1)?0:b.nX-this._htMoveInfo.nStartX;
nDisY=(this.nMoveType===0)?0:b.nY-this._htMoveInfo.nStartY;
a=b.nX-this._htMoveInfo.nBeforeX;
nVectorY=b.nY-this._htMoveInfo.nBeforeY;
if(d&&(this.nMoveType==0||this.nMoveType==1||this.nMoveType==2)){if(g<=this.option("nMomentumDuration")){nSpeedX=Math.abs(nDisX)/g;
nMomentumX=(nSpeedX*nSpeedX)/2;
nSpeedY=Math.abs(nDisY)/g;
nMomentumY=(nSpeedY*nSpeedY)/2;
}}var f={element:b.el,nX:b.nX,nY:b.nY,nVectorX:a,nVectorY:nVectorY,nDistanceX:nDisX,nDistanceY:nDisY,sMoveType:c,nStartX:this._htMoveInfo.nStartX,nStartY:this._htMoveInfo.nStartY,nStartTimeStamp:this._htMoveInfo.nStartTime};
if(d){f.nMomentumX=nMomentumX;
f.nMomentumY=nMomentumY;
f.nSpeedX=nSpeedX;
f.nSpeedY=nSpeedY;
f.nDuration=g;
}return f;
},_updateTouchEndInfo:function(a){this.htEndInfo={element:a.el,time:a.nTime,movetype:this.nMoveType,nX:a.nX,nY:a.nY};
},_deleteLongTapTimer:function(){if(typeof this._nLongTapTimer!="undefined"){clearTimeout(this._nLongTapTimer);
delete this._nLongTapTimer;
}},_startLongTapTimer:function(c,b){var a=this;
if((typeof this._htEventHandler[MobileCommentJindo.m.MOVETYPE[4]]!="undefined")&&(this._htEventHandler[MobileCommentJindo.m.MOVETYPE[4]].length>0)){a._nLongTapTimer=setTimeout(function(){a.fireEvent("longTap",{element:c.el,oEvent:b,nX:c.nX,nY:c.nY});
delete a._nLongTapTimer;
a.nMoveType=4;
},a.option("nLongTapDuration"));
}},_onResize:function(){this._setSlope();
},_isDblTap:function(d,c,a){if((typeof this._nTapTimer!="undefined")&&this.nMoveType==3){var b=this.option("nTapThreshold");
if((Math.abs(this.htEndInfo.nX-d)<=b)&&(Math.abs(this.htEndInfo.nY-c)<=b)){return true;
}}return false;
},_setSlope:function(){if(!this.bSetSlope){this._nHSlope=((window.innerHeight/2)/window.innerWidth).toFixed(2)*1;
this._nVSlope=(window.innerHeight/(window.innerWidth/2)).toFixed(2)*1;
}},setSlope:function(a,b){this._nHSlope=b;
this._nVSlope=a;
this.bSetSlope=true;
},getSlope:function(){return{nVSlope:this._nVSlope,nHSlope:this._nHSlope};
},_resetTouchInfo:function(){for(var a in this._htMoveInfo){this._htMoveInfo[a]=0;
}this.bStart=false;
this.bMove=false;
this.nMoveType=-1;
},_getMoveType:function(a,l){var b=this.nMoveType;
var h=Math.abs(this._htMoveInfo.nStartX-a);
var g=Math.abs(this._htMoveInfo.nStartY-l);
var f=h+g;
var c=this.option("nTapThreshold");
if((h<=c)&&(g<=c)){b=3;
}else{b=-1;
}if(this.option("nSlopeThreshold")<=f){var d=parseFloat((g/h).toFixed(2),10);
if((this._nHSlope===-1)&&(this._nVSlope===-1)){b=2;
}else{if(d<=this._nHSlope){b=0;
}else{if(d>=this._nVSlope){b=1;
}else{b=2;
}}}}return b;
},_getTouchInfo:function(b){var d=this._hasTouchEvent?b.$value().changedTouches[0]:b;
var c=this._hasTouchEvent?MobileCommentJindo.m.getNodeElement(d.target):d.element;
var a=this._hasTouchEvent?d.pageX:d.pos().pageX;
var f=this._hasTouchEvent?d.pageY:d.pos().pageY;
return{el:c,nX:a,nY:f,nTime:b.$value().timeStamp};
},getBaseElement:function(a){return this._el;
},_onDeactivate:function(){this._detachEvents();
},_onActivate:function(){this._attachEvents();
},destroy:function(){this.deactivate();
this._el=null;
for(var a in this._htMoveInfo){this._htMoveInfo[a]=null;
}this._htMoveInfo=null;
for(var a in this.htEndInfo){this.htEndInfo[a]=null;
}this.htEndInfo=null;
this.bStart=null;
this.bMove=null;
this.nMoveType=null;
this._nVSlope=null;
this._nHSlope=null;
this.bSetSlope=null;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.Calendar=MobileCommentJindo.$Class({$init:function(b,c){var a=this.constructor.getToday();
this.setToday(a.nYear,a.nMonth,a.nDate);
this._elLayer=MobileCommentJindo.$(b);
this._htDefaultOption={sClassPrefix:"calendar-",nYear:this._htToday.nYear,nMonth:this._htToday.nMonth,nDate:this._htToday.nDate,sTitleFormat:"yyyy-mm",sYearTitleFormat:"yyyy",sMonthTitleFormat:"m",aMonthTitle:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],bDrawOnload:true};
this.option(this._htDefaultOption);
this.option(c||{});
this._assignHTMLElements();
this.activate();
this.setDate(this.option("nYear"),this.option("nMonth"),this.option("nDate"));
if(this.option("bDrawOnload")){this.draw();
}},getBaseElement:function(){return this._elLayer;
},getDate:function(){return this._htDate;
},getDateOfElement:function(b){var a=MobileCommentJindo.$A(this._aDateContainerElement).indexOf(b);
if(a>-1){return this._aMetaData[a];
}return null;
},setToday:function(b,c,a){if(!this._htToday){this._htToday={};
}this._htToday.nYear=b;
this._htToday.nMonth=c;
this._htToday.nDate=a;
return this;
},getToday:function(){return{nYear:this._htToday.nYear,nMonth:this._htToday.nMonth,nDate:this._htToday.nDate};
},setDate:function(b,c,a){this._htDate={nYear:b,nMonth:(c*1),nDate:(a*1)};
},getShownDate:function(){return this._getShownDate();
},_getShownDate:function(){return this.htShownDate||this.getDate();
},_setShownDate:function(a,b){this.htShownDate={nYear:a,nMonth:(b*1),nDate:1};
},_assignHTMLElements:function(){var c=this.option("sClassPrefix"),b=this.getBaseElement();
if((this.elBtnPrevYear=MobileCommentJindo.$$.getSingle(("."+c+"btn-prev-year"),b))){this.wfPrevYear=MobileCommentJindo.$Fn(function(d){d.stop(MobileCommentJindo.$Event.CANCEL_DEFAULT);
this.draw(-1,0,true);
},this);
}if((this.elBtnPrevMonth=MobileCommentJindo.$$.getSingle(("."+c+"btn-prev-mon"),b))){this.wfPrevMonth=MobileCommentJindo.$Fn(function(d){d.stop(MobileCommentJindo.$Event.CANCEL_DEFAULT);
this.draw(0,-1,true);
},this);
}if((this.elBtnNextMonth=MobileCommentJindo.$$.getSingle(("."+c+"btn-next-mon"),b))){this.wfNextMonth=MobileCommentJindo.$Fn(function(d){d.stop(MobileCommentJindo.$Event.CANCEL_DEFAULT);
this.draw(0,1,true);
},this);
}if((this.elBtnNextYear=MobileCommentJindo.$$.getSingle(("."+c+"btn-next-year"),b))){this.wfNextYear=MobileCommentJindo.$Fn(function(d){d.stop(MobileCommentJindo.$Event.CANCEL_DEFAULT);
this.draw(1,0,true);
},this);
}this.elTitle=MobileCommentJindo.$$.getSingle(("."+c+"title"),b);
this.elTitleYear=MobileCommentJindo.$$.getSingle(("."+c+"title-year"),b);
this.elTitleMonth=MobileCommentJindo.$$.getSingle(("."+c+"title-month"),b);
var a=MobileCommentJindo.$$.getSingle("."+c+"week",b);
this.elWeekTemplate=a.cloneNode(true);
this.elWeekAppendTarget=a.parentNode;
},_setCalendarTitle:function(b,c,g){if(c<10){c=("0"+(c*1)).toString();
}var d=this.elTitle,f=this.option("sTitleFormat"),a;
if(typeof g!="undefined"){switch(g){case"year":d=this.elTitleYear;
f=this.option("sYearTitleFormat");
a=f.replace(/yyyy/g,b).replace(/y/g,(b).toString().substr(2,2));
break;
case"month":d=this.elTitleMonth;
f=this.option("sMonthTitleFormat");
a=f.replace(/mm/g,c).replace(/m/g,(c*1)).replace(/M/g,this.option("aMonthTitle")[c-1]);
break;
}}else{a=f.replace(/yyyy/g,b).replace(/y/g,(b).toString().substr(2,2)).replace(/mm/g,c).replace(/m/g,(c*1)).replace(/M/g,this.option("aMonthTitle")[c-1]);
}MobileCommentJindo.$Element(d).text(a);
},draw:function(t,w,a){var r=this.option("sClassPrefix"),o=this.getDate(),m=this._getShownDate();
if(m&&typeof a!="undefined"&&a){var B=this.constructor.getRelativeDate(t,w,0,m);
t=B.nYear;
w=B.nMonth;
}else{if(typeof t=="undefined"&&typeof w=="undefined"&&typeof a=="undefined"){t=o.nYear;
w=o.nMonth;
}else{t=t||m.nYear;
w=w||m.nMonth;
}}if(this.fireEvent("beforeDraw",{nYear:t,nMonth:w})){if(this.elTitle){this._setCalendarTitle(t,w);
}if(this.elTitleYear){this._setCalendarTitle(t,w,"year");
}if(this.elTitleMonth){this._setCalendarTitle(t,w,"month");
}this._clear(MobileCommentJindo.Calendar.getWeeks(t,w));
this._setShownDate(t,w);
var f=this.getToday(),n=this.constructor.getFirstDay(t,w),u=this.constructor.getLastDay(t,w),E=this.constructor.getLastDate(t,w),q=0,d=this.constructor.getRelativeDate(0,-1,0,{nYear:t,nMonth:w,nDate:1}),h=this.constructor.getRelativeDate(0,1,0,{nYear:t,nMonth:w,nDate:1}),A=this.constructor.getLastDate(d.nYear,d.nMonth),F=[],v,y,D,b,l,g,s,C,z;
var c=this.constructor.getWeeks(t,w);
for(z=0;
z<c;
z++){C=this.elWeekTemplate.cloneNode(true);
MobileCommentJindo.$Element(C).appendTo(this.elWeekAppendTarget);
this._aWeekElement.push(C);
}this._aDateElement=MobileCommentJindo.$$("."+r+"date",this.elWeekAppendTarget);
this._aDateContainerElement=MobileCommentJindo.$$("."+r+"week > *",this.elWeekAppendTarget);
if(n>0){for(z=A-n;
z<A;
z++){F.push(z+1);
}}for(z=1;
z<E+1;
z++){F.push(z);
}s=F.length-1;
for(z=1;
z<7-u;
z++){F.push(z);
}for(z=0;
z<F.length;
z++){v=false;
y=false;
D=MobileCommentJindo.$Element(this._aDateContainerElement[z]);
b=t;
l=w;
if(z<n){v=true;
D.addClass(r+"prev-mon");
b=d.nYear;
l=d.nMonth;
}else{if(z>s){y=true;
D.addClass(r+"next-mon");
b=h.nYear;
l=h.nMonth;
}else{b=t;
l=w;
}}if(q===0){D.addClass(r+"sun");
}if(q==6){D.addClass(r+"sat");
}if(b==f.nYear&&(l*1)==f.nMonth&&F[z]==f.nDate){D.addClass(r+"today");
}g={elDate:this._aDateElement[z],elDateContainer:D.$value(),nYear:b,nMonth:l,nDate:F[z],bPrevMonth:v,bNextMonth:y,sHTML:F[z]};
MobileCommentJindo.$Element(g.elDate).html(g.sHTML.toString());
this._aMetaData.push({nYear:b,nMonth:l,nDate:F[z]});
q=(q+1)%7;
this.fireEvent("draw",g);
}this.fireEvent("afterDraw",{nYear:t,nMonth:w});
}},_clear:function(a){this._aMetaData=[];
this._aWeekElement=[];
MobileCommentJindo.$Element(this.elWeekAppendTarget).empty();
},attachEvent:function(){this.activate();
},detachEvent:function(){this.deactivate();
},_onActivate:function(){if(this.elBtnPrevYear){this.wfPrevYear.attach(this.elBtnPrevYear,"click");
}if(this.elBtnPrevMonth){this.wfPrevMonth.attach(this.elBtnPrevMonth,"click");
}if(this.elBtnNextMonth){this.wfNextMonth.attach(this.elBtnNextMonth,"click");
}if(this.elBtnNextYear){this.wfNextYear.attach(this.elBtnNextYear,"click");
}},_onDeactivate:function(){if(this.elBtnPrevYear){this.wfPrevYear.detach(this.elBtnPrevYear,"click");
}if(this.elBtnPrevMonth){this.wfPrevMonth.detach(this.elBtnPrevMonth,"click");
}if(this.elBtnNextMonth){this.wfNextMonth.detach(this.elBtnNextMonth,"click");
}if(this.elBtnNextYear){this.wfNextYear.detach(this.elBtnNextYear,"click");
}}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.Calendar.setToday=function(b,c,a){if(!this._htToday){this._htToday={};
}this._htToday.nYear=b;
this._htToday.nMonth=c;
this._htToday.nDate=a;
return this;
};
MobileCommentJindo.Calendar.getToday=function(){var a=this._htToday||this.getDateHashTable(new Date());
return{nYear:a.nYear,nMonth:a.nMonth,nDate:a.nDate};
};
MobileCommentJindo.Calendar.getDateObject=function(a){if(arguments.length==3){return new Date(arguments[0],arguments[1]-1,arguments[2]);
}return new Date(a.nYear,a.nMonth-1,a.nDate);
};
MobileCommentJindo.Calendar.getDateHashTable=function(a){if(arguments.length==3){return{nYear:arguments[0],nMonth:arguments[1],nDate:arguments[2]};
}if(arguments.length<=1){a=a||new Date();
}return{nYear:a.getFullYear(),nMonth:a.getMonth()+1,nDate:a.getDate()};
};
MobileCommentJindo.Calendar.getTime=function(a){return this.getDateObject(a).getTime();
};
MobileCommentJindo.Calendar.getFirstDay=function(a,b){return new Date(a,b-1,1).getDay();
};
MobileCommentJindo.Calendar.getLastDay=function(a,b){return new Date(a,b,0).getDay();
};
MobileCommentJindo.Calendar.getLastDate=function(a,b){return new Date(a,b,0).getDate();
};
MobileCommentJindo.Calendar.getWeeks=function(a,c){var d=this.getFirstDay(a,c),b=this.getLastDate(a,c);
return Math.ceil((d+b)/7);
};
MobileCommentJindo.Calendar.getRelativeDate=function(c,d,b,a){return this.getDateHashTable(new Date(a.nYear+c,a.nMonth+d-1,a.nDate+b));
};
MobileCommentJindo.Calendar.isValidDate=function(b,c,a){if(c<=12&&a<=this.getLastDate(b,c)){return true;
}else{return false;
}};
MobileCommentJindo.Calendar.isPast=function(a,b){if(this.getTime(a)<this.getTime(b)){return true;
}return false;
};
MobileCommentJindo.Calendar.isFuture=function(a,b){if(this.getTime(a)>this.getTime(b)){return true;
}return false;
};
MobileCommentJindo.Calendar.isSameDate=function(a,b){if(this.getTime(a)==this.getTime(b)){return true;
}return false;
};
MobileCommentJindo.Calendar.isBetween=function(a,c,b){if(this.isFuture(a,b)||this.isPast(a,c)){return false;
}else{return true;
}};
MobileCommentJindo.m.SlideEffect=MobileCommentJindo.$Class({sEffectName:"slide",getCommand:function(g,s){var c=s.sDirection?s.sDirection:"left";
var r=MobileCommentJindo.m.getCssOffset(g);
var o=r.left;
var n=r.top;
var t=(typeof s.nSize!="undefined")?s.nSize:this._htLayerInfo.nWidth;
var l=(typeof s.nSize!="undefined")?s.nSize:this._htLayerInfo.nHeight;
if(c=="up"||c=="down"){n+=((c=="up")?l*-1:l);
}if(c=="left"||c=="right"){o+=((c=="left")?t*-1:t);
}var m={};
if(typeof s.elBaseLayer!="undefined"){o=0;
n=0;
var u=MobileCommentJindo.$Element(s.elBaseLayer);
var a=MobileCommentJindo.$Element(g);
var l=(typeof s.nSize!="undefined")?s.nSize:u.height();
var t=(typeof s.nSize!="undefined")?s.nSize:u.width();
if(c=="up"||c=="down"){n=(c=="down")?l*-1:l;
}if(c=="left"||c=="right"){o=(c=="left")?t:t*-1;
}o=o*-1;
n=n*-1;
}m.transform=this.sTranOpen+o+"px, "+n+"px"+this.sTranEnd;
var q=this._htLayerInfo.sPosition;
var f=this.bAndroid;
var b=this.bAndroid3Up;
var h=this._htLayerInfo.sClassHighligting;
var d=this.bAndroid2_1;
var a=MobileCommentJindo.$Element(g);
return{sTaskName:this.sEffectName+"-"+c,htStyle:s.htTo||{},htTransform:m,fCallback:function(){var A=MobileCommentJindo.m.getCssOffset(g);
var z=a.css("top").replace("px","")*1;
var y=a.css("left").replace("px","")*1;
z=isNaN(z)?0:z;
y=isNaN(y)?0:y;
if(q=="relative"){a.css("position","relative");
}else{a.css("position","absolute");
}var w=MobileCommentJindo.m.getCssPrefix();
a.css(w+"Transform","");
if(b){a.offset();
}a.$value().style.top=parseInt((z+A.top),10)+"px";
a.$value().style.left=parseInt((A.left+y),10)+"px";
if(f&&!b){var v=MobileCommentJindo.$$.getSingle("."+h,a.$value());
if(v){if(d){setTimeout(function(){v.focus();
},5);
}else{v.focus();
}}}}};
},getBeforeCommand:function(c,m){var b=m.sDirection?m.sDirection:"left";
var o=m.htFrom||{};
var g={};
var a=MobileCommentJindo.$Element(c);
if(typeof m.elBaseLayer!="undefined"){var q=MobileCommentJindo.$Element(m.elBaseLayer);
if(!q.isParentOf(a)){q.append(a);
var l=a.css("position");
if(!(l=="relative"||l=="absolute")){a.css("position","absolute");
}a.css("opacity",0);
}var h=0,f=0;
var d=q.height();
var n=q.width();
if(b=="up"||b=="down"){f=(b=="down")?d*-1:d;
}if(b=="left"||b=="right"){h=(b=="left")?n:n*-1;
}q.css("overflow","hidden");
o.left=h+"px";
o.top=f+"px";
o.opacity=this._htLayerInfo.nOpacity;
}return{htStyle:o,htTransform:g};
}}).extend(MobileCommentJindo.m.Effect);
MobileCommentJindo.m.PopEffect=MobileCommentJindo.$Class({sEffectName:"pop",getCommand:function(c,g){var a=g.sDirection?g.sDirection:"in";
var b=g.htTo||{};
if(typeof b.opacity==="undefined"){b.opacity=(a=="in")?1:0.1;
}var f=(a=="in")?1:((this.bIos3||this.bAndroid3Up)?0.1:0);
var d={};
if(a=="out"){d.htStyle={};
d.htStyle.display="none";
d.htStyle.opacity=this._htLayerInfo.nOpacity;
d.htTransform={};
d.htTransform.transform="scale(1)";
}var h="scale("+f+")";
if(this.bAndroid3Up){h+=" scaleZ(1.0)";
}return{sTaskName:this.sEffectName+"-"+a,htStyle:b,htTransform:{transform:h,"transform-origin":"50% 50%"},fCallback:d};
},getBeforeCommand:function(b,d){var a=d.sDirection?d.sDirection:"in";
var g=d.htFrom||{};
if(typeof g.opacity==="undefined"){g.opacity=(a=="in")?0.1:1;
}g.display=this._htLayerInfo.sDisplay;
var c=(a=="in")?((this.bIos3||this.bAndroid3Up)?0.1:0):1;
var f="scale("+c+")";
if(this.bAndroid3Up){f+=" scaleZ(1.0)";
}return{htStyle:g,htTransform:{transform:f,"transform-origin":"50% 50%"}};
}}).extend(MobileCommentJindo.m.Effect);
MobileCommentJindo.m.FlipEffect=MobileCommentJindo.$Class({sEffectName:"flip",getCommand:function(c,m){var b=m.sDirection?m.sDirection:"left";
var g="Y";
if(b=="up"||b=="down"){g="X";
}var l=m.htTo||{};
var f=m.elFlipFrom?MobileCommentJindo.$Element(m.elFlipFrom):MobileCommentJindo.$Element(c);
var h=m.elFlipTo?MobileCommentJindo.$Element(m.elFlipTo):null;
var a=this._getCssRotate(this._getCssTransfrom(f));
a[g]=a[g]+((b=="left"||b=="down")?180*-1:180);
var d="rotateX("+a.X+"deg) rotateY("+a.Y+"deg)";
if(h){h.$value().style[this._sCssPrefix+"Transform"]="rotate"+g+"(0deg)";
d="rotate"+g+"(0deg)";
}return{sTaskName:this.sEffectName+"-"+b,htStyle:l,htTransform:{"transform-style":"preserve-3d",transform:d}};
},getBeforeCommand:function(b,m){var a=m.sDirection?m.sDirection:"left";
var n=m.htFrom||{};
var h="Y",g=0;
if(a=="up"||a=="down"){h="X";
}var d=m.elFlipFrom?MobileCommentJindo.$Element(m.elFlipFrom):MobileCommentJindo.$Element(b);
var l=m.elFlipTo?MobileCommentJindo.$Element(m.elFlipTo):null;
var f=d.$value().parentNode;
f.style.webkitPerspective="1200";
var o=this._getCssRotate(this._getCssTransfrom(d));
var c="rotateX("+o.X+"deg) rotateY("+o.Y+"deg)";
if(l){l.$value().style[this._sCssPrefix+"Transform"]="rotate"+h+"(-180deg)";
c="rotate"+h+"(-180deg)";
}return{htStyle:n,htTransform:{perspective:"1200","transform-style":"preserve-3d",transform:c}};
},_getCssRotate:function(d){var b=d;
var a={X:0,Y:0};
if(!b){return a;
}var c=b.match(/rotateX\((\-?\d*)deg/);
if(c&&c.length>1){a.X=c[1]*1;
if(a.X%360==0){a.X=0;
}}c=b.match(/rotateY\((\-?\d*)deg/);
if(c&&c.length>1){a.Y=c[1]*1;
if(a.Y%360==0){a.Y=0;
}}return a;
},_getCssTransfrom:function(a){return a.css(this._sCssPrefix+"Transform")||"";
}}).extend(MobileCommentJindo.m.Effect);
MobileCommentJindo.m.LayerEffect=MobileCommentJindo.$Class({$init:function(b,a){this.option({nDuration:250,bActivateOnload:true});
this.option(a||{});
this._initVar();
this.setLayer(b);
this._initTransition();
if(this.option("bActivateOnload")){this.activate();
}},_htEffect:{expand:"MobileCommentJindo.m.ExpandEffect",contract:"MobileCommentJindo.m.ContractEffect",fade:"MobileCommentJindo.m.FadeEffect",pop:"MobileCommentJindo.m.PopEffect",slide:"MobileCommentJindo.m.SlideEffect",flip:"MobileCommentJindo.m.FlipEffect"},_initVar:function(){this._htEffectInstance={};
this._htLayerInfo={};
this._htWElement={};
this.bAndroid=MobileCommentJindo.m.getDeviceInfo().android;
this.sClassHighligting="_effct_hide_highlighting_tmp";
},_initTransition:function(){this._oTransition=new MobileCommentJindo.m.Transition();
},_createEffect:function(sType){if(this._htEffect[sType]&&!this._htEffectInstance[sType]){try{this._htEffectInstance[sType]=eval("new "+this._htEffect[sType]+"()");
}catch(e){}this._htEffectInstance[sType].setLayerInfo(this._htLayerInfo);
}},expand:function(a){var b="expand";
this._run(b,a);
},contract:function(a){var b="contract";
this._run(b,a);
},fade:function(a){var b="fade";
this._run(b,a);
},pop:function(a){var b="pop";
this._run(b,a);
},slide:function(a){var b="slide";
this._run(b,a);
},flip:function(a){var b="flip";
this._run(b,a);
},isPlaying:function(){return this._oTransition.isPlaying();
},_fireCustomEvent:function(b,a){return this.fireEvent(b,a);
},_run:function(h,c){if(!this._isAvailableEffect()){return;
}this._createEffect(h);
if(typeof c==="undefined"){c={};
}var f=this._htEffectInstance[h];
var b=this.getLayer();
var g=(typeof c.nDuration==="undefined")?this.option("nDuration"):parseInt(c.nDuration,10);
var d=f.getBeforeCommand(b,c);
var a=f.getCommand(b,c);
if(!this._fireCustomEvent("beforeEffect",{elLayer:b,sEffect:a.sTaskName,nDuration:g})){return;
}if(d){this._oTransition.queue(this.getLayer(),0,d);
}this._oTransition.queue(this.getLayer(),g,a);
this._oTransition.start();
},setLayer:function(b){this._htWElement.el=MobileCommentJindo.$(b);
this._htWElement.wel=MobileCommentJindo.$Element(this._htWElement.el);
if(!!this.bAndroid){var a=MobileCommentJindo.$$.getSingle("."+this.sClassHighligting,this._htWElement.el);
if(!a){var c='<a href="javascript:void(0)" style="position:absolute" class="'+this.sClassHighligting+'"></a>';
var a=MobileCommentJindo.$(c);
this._htWElement.wel.append(a);
a.style.opacity="0";
a.style.width=0;
a.style.height=0;
a.style.left="-1000px";
a.style.top="-1000px";
}}this.setSize();
},stop:function(a){if(typeof a==="undefined"){a=true;
}if(this._oTransition){this._oTransition.stop(a);
}},clearEffect:function(a){if(this._oTransition){this._oTransition.clear(a);
}},getLayer:function(){return this._htWElement.el;
},setSize:function(){var c=this._htWElement.el.cloneNode(true);
var a=MobileCommentJindo.$Element(c);
a.opacity(0);
this._htWElement.wel.after(a);
a.show();
this._htLayerInfo.nWidth=this._htWElement.wel.width();
this._htLayerInfo.nHeight=this._htWElement.wel.height();
a.css({position:"absolute",top:"0px",left:"0px"});
this._htLayerInfo.nMarginLeft=parseInt(a.css("marginLeft"),10);
this._htLayerInfo.nMarginTop=parseInt(a.css("marginTop"),10);
this._htLayerInfo.nOpacity=this._htWElement.wel.opacity();
this._htLayerInfo.sPosition=this._htWElement.wel.css("position");
var b=this._htWElement.wel.css("display");
b=((b==="none")||(b.length===0))?"block":b;
this._htLayerInfo.sDisplay=b;
this._htLayerInfo.sClassHighligting=this.sClassHighligting;
a.leave();
this._setEffectLayerInfo();
},_setEffectLayerInfo:function(){for(var a in this._htEffectInstance){this._htEffectInstance[a].setLayerInfo(this._htLayerInfo);
}},_onTransitionEnd:function(a){if(a.sTaskName){this._fireCustomEvent("afterEffect",{elLayer:a.element,sEffect:a.sTaskName,nDuration:a.nDuration});
}},_isAvailableEffect:function(){return this.isActivating();
},_onActivate:function(){this._attachEvent();
},_onDeactivate:function(){this._detachEvent();
},_attachEvent:function(){this._htEvent={};
this._htEvent.end=MobileCommentJindo.$Fn(this._onTransitionEnd,this).bind();
if(this._oTransition){this._oTransition.attach({end:this._htEvent.end});
}},_detachEvent:function(){this._htEvent=null;
if(this._oTransition){this._oTransition.detachAll();
}},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null;
}this._htWElement=null;
}}).extend(MobileCommentJindo.UIComponent);
if(typeof MobileCommentJindo.m.TimingFunction==="undefined"){MobileCommentJindo.m.TimingFunction={};
}MobileCommentJindo.m.TimingFunction._cubicBezier=function(b,d,a,c){return function(s){var o=3*b,r=3*(a-b)-o,f=1-o-r,n=3*d,q=3*(c-d)-n,u=1-n-q;
function m(v){return((f*v+r)*v+o)*v;
}function l(v){return((u*v+q)*v+n)*v;
}function g(v){return(3*f*v+2*r)*v+o;
}function h(t,C){var B,A,y,v,z,w;
for(y=t,w=0;
w<8;
w++){v=m(y)-t;
if(Math.abs(v)<C){return y;
}z=g(y);
if(Math.abs(z)<0.000001){break;
}y=y-v/z;
}B=0;
A=1;
y=t;
if(y<B){return B;
}if(y>A){return A;
}while(B<A){v=m(y);
if(Math.abs(v-t)<C){return y;
}if(t>v){B=y;
}else{A=y;
}y=(A-B)*0.5+B;
}return y;
}return l(h(s,1/200));
};
};
MobileCommentJindo.m.TimingFunction.linear=MobileCommentJindo.m.TimingFunction._cubicBezier(0,0,1,1);
MobileCommentJindo.m.TimingFunction.ease_out=MobileCommentJindo.m.TimingFunction._cubicBezier(0,0,0.58,1);
MobileCommentJindo.m.TimingFunction.ease_in=MobileCommentJindo.m.TimingFunction._cubicBezier(0.42,0,1,1);
MobileCommentJindo.m.TimingFunction.ease_in_out=MobileCommentJindo.m.TimingFunction._cubicBezier(0.42,0,0.58,1);
MobileCommentJindo.m.TimingFunction.ease_out_in=MobileCommentJindo.m.TimingFunction._cubicBezier(0,0.42,1,0.58);
MobileCommentJindo.m.TimingFunction.cubicBezier=function(b,d,a,c){return MobileCommentJindo.m.TimingFunction._cubicBezier(b,d,a,c);
};
MobileCommentJindo.m.Transition=MobileCommentJindo.$Class({_aTaskQueue:null,$init:function(a){this.option({sTransitionTimingFunction:"ease-in-out"});
this.option(a||{});
this._initVar();
this._attachEvent();
},_initVar:function(){this._aTaskQueue=[];
this._bIsPlaying=false;
this._sCssPrefix=MobileCommentJindo.m.getCssPrefix();
this._aBeforeStatus=[];
if(this._sCssPrefix.length>0){this._sCssPrefix="-"+this._sCssPrefix.toLowerCase()+"-";
}this._bAndroid=MobileCommentJindo.m.getDeviceInfo().android;
this._nTimerAnimate=null;
this._htCurrentTask=null;
},start:function(){if((!this.isPlaying())&&this.isExistTask()){this._prepareTask();
}},isPlaying:function(){return this._bIsPlaying;
},isExistTask:function(){if(!this._aTaskQueue){return false;
}var a=this._aTaskQueue.length;
bValue=(a>0)?true:false;
return bValue;
},queue:function(b,d,a){var c={sType:"style",sTaskName:"",elTarget:b,nDuration:d};
c.htDefault={};
c.htStyle=a.htStyle||{};
c.htTransform=a.htTransform||{};
c.sTaskName=a.sTaskName||null;
c.fCallback=a.fCallback;
c.htDefault["transition-timing-function"]=(typeof c.htTransform["transition-timing-function"]==="undefined")?this._getDefaultTransition().sTransitionTimingFunction:c.htTransform["transition-timing-function"];
c.htDefault["transition-property"]=(typeof c.htTransform["transition-property"]==="undefined")?"all":c.htTransform["transition-property"];
c.htDefault["transition-duration"]=d+"ms";
this._pushTask(c);
return this;
},stop:function(a){if(!this.isPlaying()){return;
}if(typeof a==="undefined"){a=true;
}if(!this._fireCustomEvent("stop",{element:this._htCurrentTask.elTarget,sTaskName:this._htCurrentTask.sTaskName,nDuration:this._htCurrentTask.nDuration})){return;
}this._stopTransition(a);
},clear:function(a){this.stop(a);
this._aTaskQueue=[];
},_resume:function(){if(this._htCurrentTask){this._doTask();
}},_stopTransition:function(b){this._detachTransitionEnd();
this._elCurrent.style[this._sCssPrefix+"transition-property"]="none";
this._initTransition();
if(!b){var a=this._getBeforeStatusElement(this._elCurrent);
if(a>-1){MobileCommentJindo.$Element(this._elCurrent).attr("style",this._aBeforeStatus[a].style);
}}this._htCurrentTask=null;
this._bIsPlaying=false;
},_prepareTask:function(){var a=this._popTask();
if(a===null||!a){this._bIsPlaying=false;
return;
}this._htCurrentTask=a;
this._resume();
},_pushTask:function(a){this._aTaskQueue.push(a);
},_popTask:function(){if(!this.isExistTask()){return null;
}var a=this._aTaskQueue.shift();
if(a){return a;
}else{return null;
}},_doTask:function(){if(this._htCurrentTask){this._bIsPlaying=true;
if(!this._fireCustomEvent("start",{element:this._htCurrentTask.elTarget,sTaskName:this._htCurrentTask.sTaskName,nDuration:this._htCurrentTask.nDuration})){return;
}var c=this._htCurrentTask.elTarget;
var b=MobileCommentJindo.$Element(c);
this._elCurrent=c;
this._setBeforeStatus(b);
var g=this._htCurrentTask.nDuration;
var d=this._bAttachTransitionEvt();
if(d){this._attachTransitionEnd(c);
}this._setDefaultTransition(b,d);
var f=false;
f=this._setTransform(b);
f=this._setStyle(b,this._htCurrentTask.htStyle)||f;
if(g===0){this._onTransitionEnd();
}else{if(!f){var a=this;
setTimeout(function(){a._onTransitionEnd();
},g);
}}}},_setDefaultTransition:function(a,c){for(var b in this._htCurrentTask.htDefault){var d=this._htCurrentTask.htDefault[b];
if(!(b.indexOf("duration")>-1&&!c)){a.$value().style[this._sCssPrefix+b]=d;
}}},_setStyle:function(a,c){var f=false;
for(var d in c){var b=a.css(d);
if(b!=c[d]){f=true;
}a.css(d,c[d]);
}return f;
},_setStyleForAndroid:function(){},_setTransform:function(a){var b=false;
if(this._bAndroid){b=this._setTransformForAnrdoid(a);
}else{b=this._setTransformForIos(a);
}return b;
},_setTransformForIos:function(a){var d=false;
for(var b in this._htCurrentTask.htTransform){var c=this._htCurrentTask.htTransform[b];
a.$value().style[this._sCssPrefix+b]=c;
d=true;
}return d;
},_setTransformForAnrdoid:function(a){var o=false;
var g=a.$value();
for(var d in this._htCurrentTask.htTransform){var s=this._htCurrentTask.htTransform[d];
if(s.indexOf("translate")>-1){var n=this._htCurrentTask.nDuration;
var h=new RegExp(/(translate.*)\((.*)\)/);
var b=s.match(h);
var q=b[1];
var r=b[2].replace(/px/g,"").split(",");
var l="transform";
var c=MobileCommentJindo.m.getCssOffset(g);
var f=Date.now();
var t=this;
(function m(){var y=Date.now();
if(y>=(f+n)){clearTimeout(t._nTimerAnimate);
g.style[t._sCssPrefix+l]=s;
t._onTransitionEnd();
return;
}var w=(y-f);
var D=((q.indexOf("X")>-1)||(r.length>1))?r[0]:null;
var C=null;
if(q.indexOf("Y")>-1){C=r[0];
}else{if(r.length>1){C=r[1];
}}var A=null;
if(q.indexOf("Z")>-1){A=r[0];
}else{if(r.length>2){A=r[2];
}}var B=[];
var z=(D!==null)?t._getcubicBeziserPosition(c.left,D,n,w)+"px":null;
var v=(C!==null)?t._getcubicBeziserPosition(c.top,C,n,w)+"px":null;
var u=(A!==null)?A+"px":null;
if(z!==null){B.push(z);
}if(v!==null){B.push(v);
}if(u!==null){B.push(u);
}g.style[t._sCssPrefix+l]=q+"("+B.join(",")+")";
t._nTimerAnimate=setTimeout(m,1);
})();
}else{a.$value().style[this._sCssPrefix+d]=s;
}o=true;
}return o;
},_bAttachTransitionEvt:function(){var a=true;
if(this._htCurrentTask.nDuration===0){a=false;
}else{if(this._bAndroid){for(var b in this._htCurrentTask.htTransform){var c=this._htCurrentTask.htTransform[b];
if(c.indexOf("translate")>-1){a=false;
}}}}return a;
},_setBeforeStatus:function(b){var a=this._getBeforeStatusElement(b.$value());
if(a>-1){this._aBeforeStatus[a].style=b.attr("style");
}else{this._aBeforeStatus.push({el:b.$value(),style:b.attr("style")});
}},_getBeforeStatusElement:function(c){var a=-1;
for(var b=0,d=this._aBeforeStatus.length;
b<d;
b++){if(this._aBeforeStatus[b].el===c){a=b;
break;
}}return a;
},_getDefaultTransition:function(){return{sTransitionTimingFunction:this.option("sTransitionTimingFunction"),TransitionProperty:"all"};
},_fireCustomEvent:function(b,a){return this.fireEvent(b,a);
},_onTransitionEnd:function(){this._detachTransitionEnd();
this._initTransition();
if(this._htCurrentTask){var f=typeof this._htCurrentTask.fCallback;
if(f=="function"){var c=this;
if(this._bAndroid){setTimeout(function(){c._htCurrentTask.fCallback();
},5);
}else{c._htCurrentTask.fCallback();
}}else{if(f=="object"){var b=MobileCommentJindo.$Element(this._htCurrentTask.elTarget);
for(var g in this._htCurrentTask.fCallback.htTransform){var h=this._htCurrentTask.fCallback.htTransform[g];
if(g=="transform"){var a=this._sCssPrefix+g;
var d=b.$value().style[a];
if(d.length>0){h=h;
}}b.$value().style[this._sCssPrefix+g]=h;
}for(var g in this._htCurrentTask.fCallback.htStyle){b.css(g,this._htCurrentTask.fCallback.htStyle[g]);
}}}}if(this._htCurrentTask){this._fireCustomEvent("end",{element:this._htCurrentTask.elTarget,sTaskName:this._htCurrentTask.sTaskName,nDuration:this._htCurrentTask.nDuration});
}var c=this;
setTimeout(function(){c._prepareTask();
},10);
},_initTransition:function(a){if(typeof a==="undefined"){a=this._elCurrent;
}a.style[this._sCssPrefix+"transition-duration"]=null;
a.style[this._sCssPrefix+"transition-timing-function"]=null;
a.style[this._sCssPrefix+"perspective"]=null;
a.style[this._sCssPrefix+"transform-style"]=null;
a.style[this._sCssPrefix+"transition-property"]=null;
},_getcubicBeziserPosition:function(g,h,c,l){g=g*1;
h=h*1;
var m=this.option("sTransitionTimingFunction").replace(/-/g,"_");
var d=MobileCommentJindo.m.TimingFunction[m];
var n=l/c;
n=(n>1)?1:n;
var b=d(n);
var a=g+((h-g)*b.toFixed(2));
return a;
},_attachTransitionEnd:function(a){this._elTransition=a;
MobileCommentJindo.m.attachTransitionEnd(this._elTransition,this._htEvent.transitionEnd);
},_detachTransitionEnd:function(){if(this._elTransition){MobileCommentJindo.m.detachTransitionEnd(this._elTransition,this._htEvent.transitionEnd);
this._elTransition=null;
}},_attachEvent:function(){this._htEvent={};
this._htEvent.transitionEnd=MobileCommentJindo.$Fn(this._onTransitionEnd,this).bind();
},_detachEvent:function(){this._detachTransitionEnd();
this._htEvent=null;
},destroy:function(){this._detachEvent();
for(var a in this._htWElement){this._htWElement[a]=null;
}this._htWElement=null;
this._aTaskQueue=null;
this._bIsPlaying=null;
this._sCssPrefix=null;
this._aBeforeStatus=null;
this._bAndroid=null;
this._nTimerAnimate=null;
this._htCurrentTask=null;
}}).extend(MobileCommentJindo.Component);
MobileCommentJindo.m.DragArea=MobileCommentJindo.$Class({$init:function(b,a){this.option({sClassPrefix:"drag-",bFlowOut:false,nThreshold:10,nMoveThreshold:3,bActivateOnload:true});
this.option(a||{});
this._initVar();
this._setWrapperElement(b);
this._initTouch();
this._setAnchorElement();
if(this.option("bActivateOnload")){this.activate();
}},_initVar:function(){this._oTouch=null;
this._sDragClass="."+this.option("sClassPrefix")+"dragging";
this._sHandleClass="."+this.option("sClassPrefix")+"handle";
this._htInfo={elDrag:null,elHandle:null,nStartX:null,nStartY:null,nX:null,nY:null,bDragStart:false,nCount:0,bPrepared:false};
this._sCssUserSelect="-"+MobileCommentJindo.m.getCssPrefix()+"-user-select";
this._sCssUserSelectValue=document.body.style[this._sCssUserSelect];
var b=MobileCommentJindo.m.getDeviceInfo();
this._isIos=(b.iphone||b.ipad);
this._aAnchor=null;
this._fnDummyFnc=function(){return false;
};
this._bBlocked=false;
var a=parseFloat(b.version,10);
this._bTouchStop=false;
this._bTouchStop=b.android&&((a==2.1)||(a>=3));
if(!this._bTouchStop){this._bTouchStop=b.iphone&&(a>=3&&a<4);
}},_setWrapperElement:function(a){this._htWElement={};
a=MobileCommentJindo.$(a);
this._htWElement.base=MobileCommentJindo.$Element(a);
},_initTouch:function(){if(!this._oTouch){this._oTouch=new MobileCommentJindo.m.Touch(this._htWElement.base.$value(),{nSlopeThreshold:1,nMoveThreshold:this.option("nMoveThreshold"),bActivateOnload:false});
this._oTouch.setSlope(-1,-1);
}},_getDragElement:function(c,h){if(MobileCommentJindo.$$.test(c,"input[type=text], textarea, select")){return null;
}var a=this;
var g=function(l,m){if(!m){return false;
}if(l===document||l===m){return true;
}return MobileCommentJindo.$Element(l).isParentOf(m);
};
var b=MobileCommentJindo.$$.test(c,this._sDragClass)?c:MobileCommentJindo.m.getClosest(this._sDragClass,c);
if(!g(this._htWElement.base,b)){b=null;
}var f=null;
if(b){try{f=MobileCommentJindo.$$.getSingle(this._sHandleClass,b);
}catch(d){}if(f){if(!g(f,c)){b=null;
}}}return{elDrag:b,elHandle:f};
},_onStart:function(c){if(!this.isActivating()){return;
}this._initInfo();
var a=this._getDragElement(c.element,this._sHandleClass);
if(!a.elDrag){return;
}var b={elHandle:a.elHandle,elDrag:a.elDrag,oEvent:c.oEvent};
if(!this.fireEvent("handleDown",b)){return;
}if(this._bTouchStop){c.oEvent.stop();
}this._htInfo.bPrepared=true;
this._clearAnchor();
this._htInfo.welDrag=MobileCommentJindo.$Element(b.elDrag);
this._htInfo.elHandle=b.elHandle;
var d=this._htInfo.welDrag.offset();
this._htInfo.nStartX=d.left;
this._htInfo.nStartY=d.top;
document.body.style[this._sCssUserSelect]="none";
this._oTouch.attach({touchMove:this._htEvent.touchMove,touchEnd:this._htEvent.touchEnd});
},_onMove:function(d){if(!this._htInfo.bPrepared){return;
}var b=d.nDistanceX,a=d.nDistanceY;
if((Math.abs(b)+Math.abs(a))<this.option("nThreshold")){return;
}d.oEvent.stop();
var g={nX:this._htInfo.nStartX+b,nY:this._htInfo.nStartY+a};
if(!this.option("bFlowOut")){var f=this._onReCalculateOffset(this._htInfo.welDrag.$value(),g.nX,g.nY);
g.nX=f.nX;
g.nY=f.nY;
}var c={nX:g.nX,nY:g.nY,elDrag:this._htInfo.welDrag.$value(),elHandle:this._htInfo.elHandle,nGapX:b,nGapY:a,nDragCount:this._htInfo.nCount,nTouchX:d.nX,nTouchY:d.nY};
if(!this._htInfo.bDragStart){if(!this.fireEvent("dragStart",c)){this._htInfo.bPrepared=false;
return;
}}this._htInfo.bDragStart=true;
if(!this.fireEvent("beforeDrag",c)){return;
}this._htInfo.welDrag.css("position","absolute");
this._htInfo.welDrag.offset(c.nY,c.nX);
this._htInfo.nX=c.nX;
this._htInfo.nY=c.nY;
this._htInfo.nCount++;
this.fireEvent("drag",c);
},_onReCalculateOffset:function(a,l,g){elParent=this._htWElement.base;
var h=elParent.offset();
var c={nX:elParent.$value().offsetLeft,nY:elParent.$value().offsetTop,nWidth:elParent.$value().offsetWidth,nHeight:elParent.$value().offsetHeight};
var b={nWidth:a.offsetWidth,nHeight:a.offsetHeight};
var f=Math.max(l,c.nX);
f=Math.min(f,c.nX+c.nWidth-b.nWidth);
var d=Math.max(g,c.nY);
d=Math.min(d,c.nY+c.nHeight-b.nHeight);
return{nX:f,nY:d};
},_onEnd:function(b){if(!this._htInfo.bPrepared){return;
}this._stopDrag(false);
if(b.sMoveType===MobileCommentJindo.m.MOVETYPE[3]||b.sMoveType===MobileCommentJindo.m.MOVETYPE[4]){this._restoreAnchor();
}if(this._htInfo.welDrag){var a={elDrag:this._htInfo.welDrag.$value(),elHandle:this._htInfo.elHandle};
this.fireEvent("handleUp",a);
}this._initInfo();
},isDragging:function(){return this._htInfo.bDragStart;
},stopDragging:function(){this._stopDrag(true);
},_stopDrag:function(a){if(typeof a==="undefined"){a=false;
}this._oTouch.detach({touchMove:this._htEvent.touchMove,touchEnd:this._htEvent.touchEnd});
document.body.style[this._sCssUserSelect]=this._sCssUserSelectValue?this._sCssUserSelectValue:"";
if(this.isDragging()){var b={nX:parseInt(this._htInfo.welDrag.css("left"),10)||0,nY:parseInt(this._htInfo.welDrag.css("top"),10)||0,elDrag:this._htInfo.welDrag.$value(),elHandle:this._htInfo.elHandle,bInterupted:a};
this.fireEvent("dragEnd",b);
this._htInfo.bDragStart=false;
}},_setAnchorElement:function(){if(this._isIos){this._aAnchor=MobileCommentJindo.$$("A",this._htWElement.base.$value());
}},_clearAnchor:function(){if(this._aAnchor&&!this._bBlocked){var b=null;
for(var d=0,c=this._aAnchor.length;
d<c;
d++){if(this._fnDummyFnc!==this._aAnchor[d].onclick){this._aAnchor[d]._onclick=this._aAnchor[d].onclick;
}this._aAnchor[d].onclick=this._fnDummyFnc;
b=this._aAnchor[d].___listeners___||[];
for(var a=0,f=b.length;
a<f;
a++){___Old__removeEventListener___.call(this._aAnchor[d],"click",b[a].listener,b[a].useCapture);
}}this._bBlocked=true;
}},_restoreAnchor:function(){if(this._aAnchor&&this._bBlocked){var b=null;
for(var d=0,c=this._aAnchor.length;
d<c;
d++){if(this._fnDummyFnc!==this._aAnchor[d]._onclick){this._aAnchor[d].onclick=this._aAnchor[d]._onclick;
}else{this._aAnchor[d].onclick=null;
}b=this._aAnchor[d].___listeners___||[];
for(var a=0,f=b.length;
a<f;
a++){___Old__addEventListener___.call(this._aAnchor[d],"click",b[a].listener,b[a].useCapture);
}}this._bBlocked=false;
}},_initInfo:function(){this._htInfo.welDrag=null;
this._htInfo.elHandle=null;
this._htInfo.nStartX=null;
this._htInfo.nStartY=null;
this._htInfo.nX=null;
this._htInfo.nY=null;
this._htInfo.bDragStart=false;
this._htInfo.nCount=0;
},_onActivate:function(){this._attachEvent();
this._oTouch.activate();
},_onDeactivate:function(){this._detachEvent();
this._oTouch.deactivate();
},_attachEvent:function(){this._htEvent={};
this._htEvent.touchMove=MobileCommentJindo.$Fn(this._onMove,this).bind();
this._htEvent.touchEnd=MobileCommentJindo.$Fn(this._onEnd,this).bind();
this._htEvent.touchStart=MobileCommentJindo.$Fn(this._onStart,this).bind();
this._oTouch.attach("touchStart",this._htEvent.touchStart);
},_detachEvent:function(){this._oTouch.detachAll();
for(var a in this._htEvent){this._htEvent[a]=null;
}this._htEvent=null;
},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null;
}for(var a in this._htInfo){this._htInfo[a]=null;
}this._htWElement=null;
this._htInfo=null;
this._isIos=null;
this._aAnchor=null;
this._fnDummyFnc=null;
this._bBlocked=null;
this._bTouchStop=null;
}}).extend(MobileCommentJindo.UIComponent);
window.requestAnimationFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return setTimeout(a,1);
};
})();
window.cancelRequestAnimationFrame=(function(){return window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||clearTimeout;
})();
MobileCommentJindo.m.CoreScroll=MobileCommentJindo.$Class({$init:function(b,a){this.option({bActivateOnload:true,bUseHScroll:false,bUseVScroll:true,bUseMomentum:(MobileCommentJindo.m.getDeviceInfo().android?false:true),nDeceleration:0.0006,nOffsetTop:0,nOffsetBottom:0,nHeight:0,nWidth:0,bUseBounce:true,bUseHighlight:true,sClassPrefix:"scroll_",bUseTransition:this._isTransDevice()});
this.option(a||{});
this._initVar();
this._setWrapperElement(b);
if(this.option("bActivateOnload")){this.activate();
}},_initVar:function(){this.isAndroid=MobileCommentJindo.m.getDeviceInfo().android;
this.nVersion=parseInt(MobileCommentJindo.m.getDeviceInfo().version,10);
this.sCssPrefix=MobileCommentJindo.m.getCssPrefix();
this.sTranOpen=null;
this.sTranEnd=null;
this.nWrapperW=null;
this.nWrapperH=null;
this.nScrollW=null;
this.nScrollH=null;
this.nMaxScrollLeft=null;
this.nMaxScrollTop=null;
this.nMinScrollTop=null;
this.bUseHScroll=null;
this.bUseVScroll=null;
this._oTouch=null;
this._nLeft=0;
this._nTop=0;
this._bUseHighlight=this.option("bUseHighlight");
this._aAni=[];
this._nAniTimer=null;
this._nFixedBugTimer=null;
this._isAnimating=false;
this._isControling=false;
this._isStop=false;
this._setTrans();
if(this._bUseHighlight){if(this.isAndroid){this._elDummyTag=null;
}else{this._aAnchor=null;
this._fnDummyFnc=function(){return false;
};
this._bBlocked=false;
}}},_setTrans:function(){var a=MobileCommentJindo.m.getDeviceInfo();
if(this._isTransDevice()){this.sTranOpen="3d(";
this.sTranEnd=",0)";
}else{this.sTranOpen="(";
this.sTranEnd=")";
}},getCurrentPos:function(){return{nTop:this._nTop,nLeft:this._nLeft};
},_isTransDevice:function(){var a=MobileCommentJindo.m.getDeviceInfo();
return a.iphone||a.ipad||a.galaxyS2;
},setLayer:function(a){a=(typeof a=="string"?MobileCommentJindo.$(a):a);
this._htWElement.wrapper=MobileCommentJindo.$Element(a);
this._htWElement.wrapper.css({position:"relative",overflow:"hidden"});
this.setScroller();
},setScroller:function(){this._htWElement.scroller=this._htWElement.wrapper.first();
this._htWElement.scroller.css({position:"absolute",zIndex:1,left:0,top:0}).css(this.sCssPrefix+"TransitionProperty","-webkit-transform").css(this.sCssPrefix+"TransitionDuration",0).css(this.sCssPrefix+"Transform","translate"+this.sTranOpen+"0,0"+this.sTranEnd);
if(this.option("bUseTransition")){this._htWElement.scroller.css(this.sCssPrefix+"TransitionTimingFunction","cubic-bezier(0.33,0.66,0.66,1)");
}if(this._bUseHighlight&&this.isAndroid&&this.nVersion<3){this._elDummyTag=MobileCommentJindo.$$.getSingle("._scroller_dummy_atag_",this._htWElement.scroller.$value());
if(!this._elDummyTag){this._elDummyTag=MobileCommentJindo.$("<a href='javascript:void(0);' class='_scroller_dummy_atag_'></a>");
this._elDummyTag.style.position="absolute";
this._elDummyTag.style.left="-1000px";
this._elDummyTag.style.height="0px";
this._elDummyTag.style.width="0px";
this._htWElement.scroller.append(this._elDummyTag);
}}},_setWrapperElement:function(a){this._htWElement={};
this.setLayer(a);
},refresh:function(a){if(!this.isActivating()){return;
}if(this.option("nWidth")){this._htWElement.wrapper.width(parseInt(this.option("nWidth"),10));
}if(this.option("nHeight")){this._htWElement.wrapper.height(parseInt(this.option("nHeight"),10));
}this.nWrapperW=this._htWElement.wrapper.width();
this.nWrapperH=this._htWElement.wrapper.height();
this.nScrollW=this._htWElement.scroller.width();
this.nScrollH=this._htWElement.scroller.height()-this.option("nOffsetBottom");
this.nMaxScrollLeft=this.nWrapperW-this.nScrollW;
this.nMaxScrollTop=this.nWrapperH-this.nScrollH;
this.nMinScrollTop=-this.option("nOffsetTop");
if(this._bUseHighlight&&!this.isAndroid){this._aAnchor=MobileCommentJindo.$$("A",this._htWElement.scroller.$value());
}this.bUseHScroll=this.option("bUseHScroll")&&(this.nWrapperW<this.nScrollW);
this.bUseVScroll=this.option("bUseVScroll")&&(this.nWrapperH<this.nScrollH);
if(this.bUseHScroll&&!this.bUseVScroll){this._htWElement.scroller.$value().style.height="100%";
}if(!this.bUseHScroll&&this.bUseVScroll){this._htWElement.scroller.$value().style.width="100%";
}if(!this.bUseHScroll&&!this.bUseVScroll){this._fixedBugForAndroid();
}if(!a){this.restorePos(0);
}},_setPos:function(c,b){c=this.bUseHScroll?c:0;
b=this.bUseVScroll?b:0;
if(this._fireEvent("beforePosition")){this._isControling=true;
this._nLeft=c;
this._nTop=b;
if(this._bUseHighlight&&this.isAndroid){var a=this.getStyleOffset(this._htWElement.scroller);
c-=a.left;
b-=a.top;
}this._htWElement.scroller.css(this.sCssPrefix+"Transform","translate"+this.sTranOpen+c+"px, "+b+"px"+this.sTranEnd);
this._fireEvent("position");
}},restorePos:function(c){if(!this.bUseHScroll&&!this.bUseVScroll){return;
}var b=this.getPosLeft(this._nLeft),a=this.getPosTop(this._nTop);
if(b===this._nLeft&&a===this._nTop){this._isControling=false;
this._fireEvent("afterScroll");
this._fixedBugForAndroid();
return;
}else{this.scrollTo(b,a,c);
}},_getMomentum:function(c,h,g,l,m,d){var n=this.option("nDeceleration"),a=g/n,f=0,b=0;
if(c<0&&a>m){b=l/(6/(a/h*n));
m=m+b;
h=h*m/a;
a=m;
}else{if(c>0&&a>d){b=l/(6/(a/h*n));
d=d+b;
h=h*d/a;
a=d;
}}a=a*(c>0?-1:1);
f=h/n;
return{nDist:a,nTime:Math.round(f)};
},_stop:function(){if(this.option("bUseTransition")){MobileCommentJindo.m.detachTransitionEnd(this._htWElement.scroller.$value(),this._htEvent.TransitionEnd);
}else{cancelRequestAnimationFrame(this._nAniTimer);
}this._aAni=[];
this._isAnimating=false;
},scrollTo:function(b,a,c){this._stop();
b=this.bUseHScroll?b:0;
a=this.bUseVScroll?a:0;
this._aAni.push({nLeft:b,nTop:a,nDuration:c||0});
this._animate();
},isMoving:function(){return this._isControling;
},_animate:function(){var b=this,g;
if(this._isAnimating){return;
}if(!this._aAni.length){this.restorePos(300);
return;
}do{g=this._aAni.shift();
if(!g){return;
}}while(g.nLeft==this._nLeft&&g.nTop==this._nTop);
this._isAnimating=true;
if(this.option("bUseTransition")){this._transitionTime(g.nDuration);
this._setPos(g.nLeft,g.nTop);
this._isAnimating=false;
if(g.nDuration){MobileCommentJindo.m.attachTransitionEnd(this._htWElement.scroller.$value(),this._htEvent.TransitionEnd);
}else{this.restorePos(0);
}}else{var f=Date.now(),d=this._nLeft,c=this._nTop;
(function a(){var h=Date.now(),l;
if(h>=f+g.nDuration){b._setPos(g.nLeft,g.nTop);
b._isAnimating=false;
b._animate();
return;
}h=(h-f)/g.nDuration-1;
l=Math.sqrt(1-Math.pow(h,2));
b._setPos((g.nLeft-d)*l+d,(g.nTop-c)*l+c);
if(b._isAnimating){b._nAniTimer=requestAnimationFrame(a);
}})();
}},_transitionTime:function(a){a+="ms";
this._htWElement.scroller.css(this.sCssPrefix+"TransitionDuration",a);
this._fireEventSetDuration(a);
},_clearAnchorForIos:function(){if(this._aAnchor&&!this._bBlocked){var b=null;
for(var d=0,c=this._aAnchor.length;
d<c;
d++){if(this._fnDummyFnc!==this._aAnchor[d].onclick){this._aAnchor[d]._onclick=this._aAnchor[d].onclick;
}this._aAnchor[d].onclick=this._fnDummyFnc;
b=this._aAnchor[d].___listeners___||[];
for(var a=0,f=b.length;
a<f;
a++){___Old__removeEventListener___.call(this._aAnchor[d],"click",b[a].listener,b[a].useCapture);
}}this._bBlocked=true;
}},_restoreAnchorForIos:function(){if(this._aAnchor&&this._bBlocked){var b=null;
for(var d=0,c=this._aAnchor.length;
d<c;
d++){if(this._fnDummyFnc!==this._aAnchor[d]._onclick){this._aAnchor[d].onclick=this._aAnchor[d]._onclick;
}else{this._aAnchor[d].onclick=null;
}b=this._aAnchor[d].___listeners___||[];
for(var a=0,f=b.length;
a<f;
a++){___Old__addEventListener___.call(this._aAnchor[d],"click",b[a].listener,b[a].useCapture);
}}this._bBlocked=false;
}},_stopScroll:function(){var a=MobileCommentJindo.m.getCssOffset(this._htWElement.scroller.$value()),b={left:0,top:0},c,d;
if(this._bUseHighlight&&this.isAndroid){b=this.getStyleOffset(this._htWElement.scroller);
}d=a.left+b.left;
c=a.top+b.top;
if(d!==this._nLeft||c!==this._nTop){this._stop();
this._isStop=true;
this._setPos(this.getPosLeft(d),this.getPosTop(c));
this._isControling=false;
this._fireEvent("afterScroll");
this._fixedBugForAndroid();
}},getStyleOffset:function(a){var c=parseInt(a.css("left"),10),b=parseInt(a.css("top"),10);
c=isNaN(c)?0:c;
b=isNaN(b)?0:b;
return{left:c,top:b};
},getPosLeft:function(a){return(a>=0?0:(a<=this.nMaxScrollLeft?this.nMaxScrollLeft:a));
},getPosTop:function(a){return(a>=this.nMinScrollTop?this.nMinScrollTop:(a<=this.nMaxScrollTop?this.nMaxScrollTop:a));
},_fireEventSetDuration:function(a){this.fireEvent("setDuration",{nDuration:a,bUseHScroll:this.bUseHScroll,bUseVScroll:this.bUseVScroll});
},_fireEventbeforeScroll:function(a){return this.fireEvent("beforeScroll",a);
},_fireEventScroll:function(a){this.fireEvent("scroll",a);
},_fireEvent:function(a){return this.fireEvent(a,{nLeft:this._nLeft,nTop:this._nTop,nMaxScrollLeft:this.nMaxScrollLeft,nMaxScrollTop:this.nMaxScrollTop});
},_fireTouchEvent:function(b,a){return this.fireEvent(b,{nLeft:this._nLeft,nTop:this._nTop,nMaxScrollLeft:this.nMaxScrollLeft,nMaxScrollTop:this.nMaxScrollTop,oEvent:a});
},_onStart:function(a){if(!this.option("bUseHighlight")){a.oEvent.stop(MobileCommentJindo.$Event.DEFAULT_ALL);
}this._clearFixedBug();
if(this._fireTouchEvent("beforeTouchStart",a)){this._clearAnchorForIos();
this._isAnimating=false;
this._isControling=true;
this._isStop=false;
if(this.option("bUseTransition")){this._transitionTime(0);
}this._stopScroll();
this._oTouch.attach({touchMove:this._htEvent.touchMove,touchEnd:this._htEvent.touchEnd});
this._fireTouchEvent("touchStart",a);
}},_onMove:function(c){var a=c.oEvent;
if(c.sMoveType===MobileCommentJindo.m.MOVETYPE[0]){if(this.bUseHScroll){a.stop(MobileCommentJindo.$Event.CANCEL_ALL);
}else{return true;
}}else{if(c.sMoveType===MobileCommentJindo.m.MOVETYPE[1]){if(this.bUseVScroll){a.stop(MobileCommentJindo.$Event.CANCEL_ALL);
}else{return true;
}}else{if(c.sMoveType===MobileCommentJindo.m.MOVETYPE[2]){a.stop(MobileCommentJindo.$Event.CANCEL_ALL);
}else{a.stop(MobileCommentJindo.$Event.CANCEL_ALL);
return true;
}}}if(this._fireTouchEvent("beforeTouchMove",c)){var d,b;
this._clearFixedBug();
if(this.option("bUseBounce")){d=this._nLeft+(this._nLeft>=0||this._nLeft<=this.nMaxScrollLeft?c.nVectorX/2:c.nVectorX);
b=this._nTop+(this._nTop>=this.nMinScrollTop||this._nTop<=this.nMaxScrollTop?c.nVectorY/2:c.nVectorY);
}else{d=this.getPosLeft(this._nLeft+c.nVectorX);
b=this.getPosTop(this._nTop+c.nVectorY);
}this._setPos(d,b);
this._fireTouchEvent("touchMove",c);
}},_onEnd:function(b){if(!this._fireTouchEvent("beforeTouchEnd",b)){return;
}this._clearFixedBug();
this._oTouch.detach({touchMove:this._htEvent.touchMove,touchEnd:this._htEvent.touchEnd});
if(b.sMoveType===MobileCommentJindo.m.MOVETYPE[0]||b.sMoveType===MobileCommentJindo.m.MOVETYPE[1]||b.sMoveType===MobileCommentJindo.m.MOVETYPE[2]){this._endForScroll(b);
}else{this._isControling=false;
if(!this._isStop){if(!this._bUseHighlight){var a=b.element.tagName;
if(a!="SELECT"&&a!="INPUT"&&a!="TEXTAREA"){MobileCommentJindo.$Element(b.element).fireEvent("click");
}}else{this._restoreAnchorForIos();
}}}this._fireTouchEvent("touchEnd",b);
},_endForScroll:function(c){var b={nDist:0,nTime:0},a={nDist:0,nTime:0},d={nMomentumX:c.nMomentumX,nMomentumY:c.nMomentumY,nDistanceX:c.nDistanceX,nDistanceY:c.nDistanceY,nLeft:this._nLeft,nTop:this._nTop};
if(this.option("bUseMomentum")&&(c.nMomentumX||c.nMomentumY)){if(this.bUseHScroll){b=this._getMomentum(-c.nDistanceX,c.nSpeedX,c.nMomentumX,this.nWrapperW,-this._nLeft,-this.nMaxScrollLeft+this._nLeft);
}if(this.bUseVScroll){a=this._getMomentum(-c.nDistanceY,c.nSpeedY,c.nMomentumY,this.nWrapperH,-this._nTop,-this.nMaxScrollTop+this._nTop);
}d.nNextLeft=this._nLeft+b.nDist;
d.nNextTop=this._nTop+a.nDist;
d.nTime=Math.max(Math.max(b.nTime,a.nTime),10);
if(this._fireEventbeforeScroll(d)){if(this.option("bUseBounce")){this.scrollTo(d.nNextLeft,d.nNextTop,d.nTime);
}else{this.scrollTo(this.getPosLeft(d.nNextLeft),this.getPosTop(d.nNextTop),d.nTime);
}this._fireEventScroll(d);
}}else{d.nNextLeft=this._nLeft;
d.nNextTop=this._nTop;
d.nTime=0;
if(this._fireEventbeforeScroll(d)){if(this._nLeft!==d.nNextLeft||this._nTop!==d.nNextTop){this.scrollTo(d.nNextLeft,d.nNextTop,d.nTime);
}else{this.restorePos(300);
}this._fireEventScroll(d);
}}},_onTransitionEnd:function(a){MobileCommentJindo.m.detachTransitionEnd(this._htWElement.scroller.$value(),this._htEvent.TransitionEnd);
this._animate();
},_onDocumentStart:function(a){if(this._htWElement.wrapper.visible()){if(this._htWElement.wrapper.isChildOf(a.element)){return true;
}else{this._stopScroll();
}}},_onActivate:function(){if(!this._oTouch){this._oTouch=new MobileCommentJindo.m.Touch(this._htWElement.wrapper.$value(),{nMoveThreshold:0,nMomentumDuration:(MobileCommentJindo.m.getDeviceInfo().android?500:200),nLongTapDuration:400,nTapThreshold:1,nSlopeThreshold:5});
}else{this._oTouch.activate();
}this._attachEvent();
this.refresh();
},_onDeactivate:function(){this._detachEvent();
this._oTouch.deactivate();
},_attachEvent:function(){this._htEvent={};
this._htEvent.touchStart=MobileCommentJindo.$Fn(this._onStart,this).bind();
this._htEvent.touchMove=MobileCommentJindo.$Fn(this._onMove,this).bind();
this._htEvent.touchEnd=MobileCommentJindo.$Fn(this._onEnd,this).bind();
this._htEvent.TransitionEnd=MobileCommentJindo.$Fn(this._onTransitionEnd,this).bind();
this._htEvent.document=MobileCommentJindo.$Fn(this._onDocumentStart,this).attach(document,"touchstart");
this._oTouch.attach("touchStart",this._htEvent.touchStart);
},_fixedBugForAndroid:function(){if(this._bUseHighlight&&this.isAndroid){var a=this;
this._clearFixedBug();
this._nFixedBugTimer=setTimeout(function(){if(a._htWElement&&a._htWElement.scroller){var c=a._htWElement.scroller.$value();
var b=MobileCommentJindo.m.getCssOffset(c);
var d=a._htWElement.scroller.offset();
c.style[a.sCssPrefix+"TransitionDuration"]=null;
c.style[a.sCssPrefix+"Transform"]=null;
a._htWElement.scroller.offset(b.top+d.top,b.left+d.left);
if(a.nVersion<3){a._elDummyTag.focus();
}}},200);
}},_clearFixedBug:function(){if(this._bUseHighlight&&this.isAndroid){clearTimeout(this._nFixedBugTimer);
this._nFixedBugTimer=-1;
}},_detachEvent:function(){MobileCommentJindo.m.detachTransitionEnd(this._htWElement.scroller.$value(),this._htEvent.TransitionEnd);
this._htEvent.document.detach(document,"touchstart");
this._oTouch.detachAll();
if(this._elDummyTag){this._htWElement.scroller.remove(this._elDummyTag);
}},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null;
}this._htWElement=null;
this._oTouch.destroy();
delete this._oTouch;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.LayerPosition=MobileCommentJindo.$Class({$init:function(b,a){this.option({bActivateOnload:true,bAutoReposition:true,sPosition:"center",nLeftMargin:0,nRightMargin:0,nTopMargin:0,nBottomMargin:0});
this.option(a||{});
this._initVar();
this._setWrapperElement(b);
if(this.option("bActivateOnload")){this.activate();
}},_isSupportFixed:function(){var a=MobileCommentJindo.m.getDeviceInfo();
var b=false;
if(a.android){if(parseInt(a.version,10)>=3){b=true;
}else{b=false;
}}else{if(a.ipad||a.iphone){if(parseInt(a.version,10)>=5){b=true;
}else{b=false;
}}}return b;
},_onActivate:function(){this._isVertical=MobileCommentJindo.m.isVertical();
if(this.option("bAutoReposition")){this._attachEvent();
}this.setPosition();
},_onDeactivate:function(){if(this.option("bAutoReposition")){this._detachEvent();
}},_initVar:function(){var b=this.option("nLeftMargin"),a=this.option("nTopMargin");
this._htMargin={nLeft:b,nRight:this.option("nRightMargin"),nTop:a,nBottom:this.option("nBottomMargin")};
this._sPosition=this.option("sPosition");
this._htOldPosition={nTop:null,nLeft:null,nBottom:null};
this._htPosition={nTop:null,nLeft:null,nBottom:null};
this._bUseFixedProperty=this.option("bAutoReposition")&&this._isSupportFixed();
this._isVertical=null;
this._isAndroid=MobileCommentJindo.m.getDeviceInfo().android;
this._nPreWidth=-1;
},getPosition:function(){return this._sPosition;
},getMargin:function(){return this._htMargin;
},getLayer:function(){return this._htWElement.element.$value();
},getCurrentPosition:function(){return this._htPosition;
},_setWrapperElement:function(a){this._htWElement={};
this.setLayer(a);
},setLayer:function(a){a=(typeof a=="string"?MobileCommentJindo.$(a):a);
this._htWElement.element=MobileCommentJindo.$Element(a);
if(this._bUseFixedProperty){this._htWElement.element.css("position","fixed");
}else{this._htWElement.element.css("position","absolute");
}if(a.parentNode!=document.body){document.body.appendChild(a);
}return this;
},top:function(a){this.setPosition("top",a);
},bottom:function(a){this.setPosition("bottom",a);
},center:function(a){this.setPosition("center",a);
},all:function(a){this.setPosition("all",a);
},_fixedLayerSize:function(c,a){var g=parseInt(this._htMargin.nLeft,10),f=parseInt(this._htMargin.nTop,10),b={"padding-top":parseInt(this._htWElement.element.css("padding-top"),10),"padding-bottom":parseInt(this._htWElement.element.css("padding-bottom"),10),"padding-left":parseInt(this._htWElement.element.css("padding-left"),10),"padding-right":parseInt(this._htWElement.element.css("padding-right"),10)},d={"border-top-width":parseInt(this._htWElement.element.css("border-top-width"),10),"border-bottom-width":parseInt(this._htWElement.element.css("border-bottom-width"),10),"border-left-width":parseInt(this._htWElement.element.css("border-left-width"),10),"border-right-width":parseInt(this._htWElement.element.css("border-right-width"),10)};
c-=b["padding-left"]+b["padding-right"]+d["border-left-width"]+d["border-right-width"]+g+parseInt(this._htMargin.nRight,10);
a-=b["padding-top"]+b["padding-bottom"]+d["border-top-width"]+d["border-bottom-width"]+f+parseInt(this._htMargin.nBottom,10);
this._htWElement.element.css({width:c+"px",height:a+"px"});
return{nTop:f,nLeft:g};
},_getPosition:function(){var d=this._htWElement.element.$value(),c=d.offsetWidth,f=d.offsetHeight,h={},g=MobileCommentJindo.$Document().clientSize(),b=g.width,a=g.height;
c+=parseInt(this._htWElement.element.css("marginLeft"),10)+parseInt(this._htWElement.element.css("marginRight"),10)||0;
f+=parseInt(this._htWElement.element.css("marginTop"),10)+parseInt(this._htWElement.element.css("marginBottom"),10)||0;
if(this._sPosition==="all"){h=this._fixedLayerSize(b,a);
}else{h.nLeft=parseInt((b-c)/2,10)+parseInt(this._htMargin.nLeft,10);
switch(this._sPosition){case"top":h.nTop=parseInt(this._htMargin.nTop,10);
break;
case"center":h.nTop=parseInt((a-f)/2,10)+parseInt(this._htMargin.nTop,10);
break;
case"bottom":if(this._bUseFixedProperty){h.nBottom=parseInt(this._htMargin.nBottom,10);
}else{h.nTop=parseInt(a-f,10)-parseInt(this._htMargin.nBottom,10);
}break;
}if(!this._bUseFixedProperty){h=this._adjustScrollPosition(h);
}}return h;
},_adjustScrollPosition:function(a){var b=MobileCommentJindo.$Document().scrollPosition();
a.nTop+=b.top;
a.nLeft+=b.left;
return a;
},setPosition:function(c,b){if(!this.isActivating()){return;
}this._htMargin=b||this._htMargin;
this._sPosition=c||this._sPosition;
if(this._fireEvent("beforePosition")){var a=this._htWElement.element.visible();
if(!a){this._htWElement.element.css({left:"-9999px"}).show();
}this._htOldPosition=this._htPosition;
this._htPosition=this._getPosition();
if(!a){this._htWElement.element.hide();
}if(!a||this._htOldPosition.nLeft!==this._htPosition.nLeft||this._htOldPosition.nTop!==this._htPosition.nTop||this._htOldPosition.nBottom!==this._htPosition.nBottom){if(typeof this._htPosition.nTop==="undefined"){this._htWElement.element.$value().style.top=null;
}else{if(typeof this._htPosition.nBottom==="undefined"){this._htWElement.element.$value().style.bottom=null;
}}this._htWElement.element.css({left:this._htPosition.nLeft+"px",top:this._htPosition.nTop+"px",bottom:this._htPosition.nBottom+"px"});
}this._fireEvent("position");
}},_attachEvent:function(){this._htEvent={};
this._htEvent.actionEvent=MobileCommentJindo.$Fn(this._onEvent,this);
this._htEvent.pageShow=MobileCommentJindo.$Fn(this._onPageShow,this).bind();
if(this._bUseFixedProperty){this._htEvent.actionEvent.attach(window,"resize");
}else{this._htEvent.actionEvent.attach(window,"scroll").attach(window,"resize");
}MobileCommentJindo.m.bindPageshow(this._htEvent.pageShow);
if(!this._isAndroid){this._htEvent.rotate=MobileCommentJindo.$Fn(this._onRotateForIos,this).attach(window,"orientationchange");
}},_detachEvent:function(){this._htEvent.actionEvent.detach(window,"scroll").detach(window,"resize");
MobileCommentJindo.m.unbindPageshow(this._htEvent.pageShow);
if(!this._isAndroid){this._htEvent.rotate.detach(window,"orientationchange");
}this._htEvent=null;
},_onEvent:function(a){if(this._htWElement.element.visible()){this.setPosition();
}},_onRotateForIos:function(){if(this._htWElement.element.visible()){var a=this;
if(window.innerWidth<this._htWElement.element.width()){this._nPreWidth=this._htWElement.element.width();
this._htWElement.element.width(window.innerWidth);
}else{if(this._nPreWidth!==-1){this._htWElement.element.width(this._nPreWidth);
}}this._htWElement.element.hide();
this.setPosition();
setTimeout(function(){a._htWElement.element.show();
},0);
}},_onPageShow:function(){if(this.isActivating()){this.deactivate();
this.activate();
}},_fireEvent:function(a){return this.fireEvent(a,{elLayer:this.getLayer(),htMargin:this.getMargin(),htPosition:this.getCurrentPosition()});
},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null;
}delete this._htWElement;
delete this._htMargin;
delete this._sPosition;
delete this._htPosition;
delete this._htOldPosition;
delete this._bUseFixedProperty;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.ScrollEnd=MobileCommentJindo.$Class({$init:function(b,a){this._initVar();
this._setWrapperElement(b);
this._attachEvent();
},_initVar:function(){if(MobileCommentJindo.m.getDeviceInfo().android){if(parseInt(MobileCommentJindo.m.getDeviceInfo().version,10)>=3){this._nType=2;
this._nScrollTimer=-1;
}else{this._nType=1;
}}else{this._nType=0;
}this._isTouched=false;
this._isMoved=false;
this._nObserver=null;
this._nScrollEndTimer=null;
this._nPreLeft=null;
this._nPreTop=null;
this._isTop=false;
},_setWrapperElement:function(a){this._htElement={};
this._htElement.body=document.body;
},_attachEvent:function(){this._htEvent={};
this._htEvent.event_scroll={ref:MobileCommentJindo.$Fn(this._onScroll,this).attach(document,"scroll"),el:document};
if(this._nType==1){this._htEvent.event_touchstart={ref:MobileCommentJindo.$Fn(this._onStartForAndroid,this).attach(this._htElement.body,"touchstart"),el:this._htElement.body};
this._htEvent.event_touchmove={ref:MobileCommentJindo.$Fn(this._onMoveForAndroid,this).attach(this._htElement.body,"touchmove"),el:this._htElement.body};
this._htEvent.event_touchend={ref:MobileCommentJindo.$Fn(this._onEndForAndroid,this).attach(this._htElement.body,"touchend"),el:this._htElement.body};
}},_detachEvent:function(){for(var b in this._htEvent){var a=this._htEvent[b];
a.ref.detach(a.el,b.substring(b.lastIndexOf("_")));
}},_startObserver:function(){var a=this;
this._stopObserver();
this._nObserver=setInterval(function(){a._observe();
},100);
},_observe:function(){if(this._isTouched||(this._nPreTop!==window.pageYOffset||this._nPreLeft!==window.pageXOffset)){this._nPreTop=window.pageYOffset;
this._nPreLeft=window.pageXOffset;
}else{this._stopObserver();
this._fireEventScrollEnd();
}},_stopObserver:function(){clearInterval(this._nObserver);
this._nObserver=null;
},_onScroll:function(b){switch(this._nType){case 0:this._fireEventScrollEnd();
break;
case 1:this._startObserver();
break;
case 2:var a=this;
clearTimeout(this._nScrollTimer);
this._nScrollTimer=setTimeout(function(){a._fireEventScrollEnd();
},350);
break;
}},_onStartForAndroid:function(a){this._stopObserver();
this._isTouched=true;
this._isMoved=false;
this._nPreTop=null;
this._nPreLeft=null;
if(window.pageYOffset===0){this._isTop=true;
}else{this._isTop=false;
}},_onMoveForAndroid:function(a){this._isMoved=true;
},_onEndForAndroid:function(a){this._isTouched=false;
if(this._isTop&&this._isMoved){this._startObserver();
}},_fireEventScrollEnd:function(){this.fireEvent("scrollEnd",{nTop:window.pageYOffset,nLeft:window.pageXOffset});
},_fireEventScrollEndForAndroid:function(){var a=this;
clearTimeout(this._nScrollEndTimer);
this._nScrollEndTimer=setTimeout(function(){a._fireEventScrollEnd();
},500);
},destroy:function(){this._detachEvent();
this._nType=-1;
this._isTouched=null;
this._isMoved=null;
this._nObserver=null;
this._nPreLeft=null;
this._nPreTop=null;
}}).extend(MobileCommentJindo.Component);
MobileCommentJindo.m.FadeEffect=MobileCommentJindo.$Class({sEffectName:"fade",getCommand:function(d,g){var a=g.sDirection?g.sDirection:"in";
var c=g.htTo||{};
var b=(a=="in")?1:0;
c.opacity=(typeof c.opacity!=="undefined")?c.opacity:b;
var f={};
if(a=="out"){f.htStyle={};
f.htStyle.display="none";
f.htStyle.opacity=this._htLayerInfo.nOpacity;
}return{sTaskName:this.sEffectName+"-"+a,htStyle:c,htTransform:{},fCallback:f};
},getBeforeCommand:function(c,d){var a=d.sDirection?d.sDirection:"in";
var f=d.htFrom||{};
var b=(a=="in")?0:1;
f.display=this._htLayerInfo.sDisplay;
f.opacity=(typeof f.opacity=="undefined")?b:f.opacity;
return{htStyle:f,htTransform:{}};
}}).extend(MobileCommentJindo.m.Effect);
MobileCommentJindo.m.NumberValidator=MobileCommentJindo.$Class({rx:/^[+-]?(\d{1,3},)?(\d{3},)*(\d)+(\.\d+)?$/,_isValid:function(b,a){return this.rx.test(b);
},_getCorrectedValue:function(b,a){b=this._filterNumber(b);
if(a){b=this._applyComma(b);
}return b;
},_applyComma:function(l){var g="",b=0,a=null,h=null,d=l.indexOf("."),f=(d!==-1?l.substring(0,d):l),m=(d!==-1?l.substr(d):"");
if(f.length>3){for(var c=f.length-1;
c>=0;
c--,b++){a=f.charAt(c);
h=f.charCodeAt(c);
g=(b!==0&&b%3===0&&(h>47&&h<58)?a+","+g:a+g);
}return(m!==""?g+m:g);
}else{return l;
}},_filterNumber:function(f){var d,c,b,a;
f=f.replace(/[^\d\.\-]/g,"");
d=f.charAt(0);
f=f.replace(/-/g,"");
f=(d==="-"?d+f:f);
if(f.length<=0||f==="-"){return f;
}c=f.split(".");
if(c.length>1){b=c.shift();
d=b.charAt(0);
b=(b===""?0:parseInt(b,10));
if(d==="-"&&b===0){b="-"+b;
}a=c.join("");
f=b+"."+a;
}else{f=String(parseFloat(c.join(""),10));
}return f;
}}).extend(MobileCommentJindo.m.Validator);
MobileCommentJindo.m.Accordion=MobileCommentJindo.$Class({$init:function(b,a){var c={bActivateOnload:true,sClassPrefix:"accordion-",sDirection:"vertical",nDefalutIndex:-1,bUseToggle:false,sTransitionTimingFunction:"ease",nDuration:500};
this.option(c);
this.option(a||{});
this._initVar(b);
this._setWrapperElement();
if(this.option("bActivateOnload")){this.activate();
}this._setSize();
this._setDefaultExpand();
},_initVar:function(c){this._elContainer=(typeof c=="string")?MobileCommentJindo.$(c):c;
this._aAccordionBlock=MobileCommentJindo.$$("."+this.option("sClassPrefix")+"block",this._elContainer);
var b=MobileCommentJindo.m.getDeviceInfo();
var a=parseFloat(b.version,10);
if(b.android&&(a<3)){var d=MobileCommentJindo.$$.getSingle("._accordion_dummy_atag_",this._elContainer);
if(!d){d=MobileCommentJindo.$("<a href='javascript:void(0);' class='_accordion_dummy_atag_'></a>");
d.style.position="absolute";
d.style.left="-1000px";
d.style.top="-1000px";
d.style.width=0;
d.style.height=0;
MobileCommentJindo.$Element(this._elContainer).append(d);
}}this._nExpand=-1;
this._wfTransitionEnd=MobileCommentJindo.$Fn(this._onTransitionEnd,this).bind();
},_setWrapperElement:function(){},_onActivate:function(){this._attachEvent();
},_onDeactivate:function(){this._detachEvent();
},_attachEvent:function(){this._htEvent={};
MobileCommentJindo.$A(this._aAccordionBlock).forEach(function(b,a,c){this._htEvent["click_"+a]={ref:MobileCommentJindo.$Fn(this._onClick,this).attach(this.getHandler(a),"click"),el:this.getHandler(a)};
},this);
},_detachEvent:function(a){if(a){var b=this._htEvent[a];
b.ref.detach(b.el,a.substring(0,a.indexOf("_")));
}},_detachEventAll:function(){for(var a in this._htEvent){this._detachEvent(a);
}this._htEvent=null;
},_onClick:function(c){c.stop();
var d=this._getBlock(c.element);
var a=(d)?MobileCommentJindo.$A(this._aAccordionBlock).indexOf(d):null;
var b=this.getExpandIndex();
var f=this.option("bUseToggle");
if(typeof a=="number"){if(a==b){if(f){this.collapse(b);
this._nExpand=-1;
}}else{this.expand(a);
if(b>-1){this.collapse(b);
}}}},_setSize:function(){this._htBlockSize={};
var b,a;
MobileCommentJindo.$A(this._aAccordionBlock).forEach(function(d,c,f){b=this._getHeaderSize(c);
a=this._getBodySize(c);
this._htBlockSize[c]={nHeaderSize:b,nBodySize:a};
if(this.option("sDirection")=="vertical"){MobileCommentJindo.$Element(d).height(b);
}else{MobileCommentJindo.$Element(d).width(b);
}},this);
},_getHeaderSize:function(a){var b=MobileCommentJindo.$Element(this.getHead(a));
var c=(this.option("sDirection")=="vertical")?b.height():b.width();
return c;
},_getBodySize:function(a){var b=MobileCommentJindo.$Element(this.getBody(a));
var c=(this.option("sDirection")=="vertical")?b.height():b.width();
return c;
},_getSize:function(a){if(!this._htBlockSize||!this._htBlockSize[a]){this._setSize();
}var b=this._htBlockSize[a]["nHeaderSize"]+this._htBlockSize[a]["nBodySize"];
return b;
},_setDefaultExpand:function(){var a=this.option("nDefalutIndex");
if(a>-1){setTimeout(MobileCommentJindo.$Fn(function(){this.expand(a);
},this).bind(),100);
}},getHead:function(a){return MobileCommentJindo.$$.getSingle("dt",this._aAccordionBlock[a]);
},getBody:function(a){return MobileCommentJindo.$$.getSingle("dd",this._aAccordionBlock[a]);
},_getBlock:function(b){var a=this.option("sClassPrefix")+"block";
var c=MobileCommentJindo.m.getClosest(a,b);
return c;
},getHandler:function(b){var a=this.getHead(b);
return MobileCommentJindo.$$.getSingle("."+this.option("sClassPrefix")+"handler",a)||a;
},getExpandIndex:function(){return this._nExpand;
},expand:function(a){this._elBlock=this._aAccordionBlock[a];
if(typeof this._elBlock=="undefined"){return;
}if(!this.fireEvent("beforeExpand",{sType:"beforeExpand",elBlock:this._elBlock,nBeforeIndex:this._nExpand,nIndex:a})){return;
}this._setTransition(this._elBlock,this._getSize(a));
this._nExpand=a;
this.fireEvent("expand",{sType:"expand",elBlock:this._elBlock,nIndex:a});
},collapse:function(a){this._elBlock=this._aAccordionBlock[a];
if(typeof this._elBlock=="undefined"){return;
}if(!this.fireEvent("beforeCollapse",{sType:"beforeCollapse",elBlock:this._elBlock,nIndex:a})){return;
}this._setTransition(this._elBlock,this._getHeaderSize(a));
if(this._nExpand==a){this._nExpand=-1;
}this.fireEvent("collapse",{sType:"collapse",elBlock:this._elBlock,nIndex:a});
},collapseAll:function(){var a=this.getExpandIndex();
if(a>-1){this.collapse(a);
}this._nExpand=-1;
},setEffect:function(a){if(a.sTransitionTimingFunction&&(a.sTransitionTimingFunction=="ease"||a.sTransitionTimingFunction=="linear"||a.sTransitionTimingFunction=="ease-in"||a.sTransitionTimingFunction=="ease-out"||a.sTransitionTimingFunction=="ease-in-out")){this.option("sTransitionTimingFunction",a.sTransitionTimingFunction);
}if(a.nDuration&&a.nDuration>0){this.option("nDuration",a.nDuration);
}},_setTransition:function(f,d,c,g){c=c||this.option("sTransitionTimingFunction");
g=g||this.option("nDuration");
if(g>0){this._attachTransitionEnd(f);
}var a="";
var b=this.option("sDirection");
f.style.webkitTransition="";
f.style.mozTransition="";
if(b==="vertical"){a="height "+g+"ms "+c;
f.style.webkitTransition=a;
f.style.mozTransition=a;
f.style.height=d+"px";
}else{if(b==="horizontal"){a="width "+g+"ms "+c;
f.style.webkitTransition=a;
f.style.mozTransition=a;
f.style.width=d+"px";
}}if(g===0){this._onTransitionEnd({srcElement:f});
}},_attachTransitionEnd:function(a){this._elTransition=a;
this._elTransition.addEventListener("webkitTransitionEnd",this._wfTransitionEnd,false);
},_detachTransitionEnd:function(a){a.removeEventListener("webkitTransitionEnd",this._wfTransitionEnd,false);
this._elTransition=null;
},_onTransitionEnd:function(a){var b=MobileCommentJindo.$$.getSingle("._accordion_dummy_atag_",this._elContainer);
if(b){b.focus();
}this._detachTransitionEnd(a.srcElement);
},destroy:function(){this._detachEventAll();
this._elContainer=null;
this._aAccordionBlock=null;
this._elBlock=null;
this._htBlockSize=null;
this._nExpand=null;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.AjaxHistory=MobileCommentJindo.$Class({bHashEvent:false,bPushState:false,_nIntervalId:0,_htLastState:{},$init:function(a){this.option({nCheckInterval:100,bUseHash:false});
this.option(a||{});
},initialize:function(){this._initVar();
this._attachEvent();
var a=this._getHash();
if(a){this._htLastState=this._getDecodedData(a);
this.fireEvent("change",{htHistoryData:this._htLastState});
}else{this.fireEvent("load");
}return this;
},_initVar:function(){var a=MobileCommentJindo.m.getDeviceInfo();
this.bHashEvent="onhashchange" in window;
this.bPushState=(typeof window.history!=="undefined")&&(typeof window.history.pushState!=="undefined")&&(typeof window.history.replaceState!=="undefined")&&!((a.iphone||a.ipad)&&(parseFloat(a.version,10)<4.3));
this._nIntervalId=0;
this._oAgent=MobileCommentJindo.$Agent().navigator();
this._bAndroid=a.android;
if(this.option("bUseHash")){this.bPushState=false;
}},_attachEvent:function(){this._htEvent={};
if(this.bPushState){this._htEvent.popstate={ref:MobileCommentJindo.$Fn(this._onPopState,this).attach(window,"popstate"),el:window};
}else{if(this.bHashEvent){this._htEvent.hashchange={ref:MobileCommentJindo.$Fn(this._onHashChange,this).attach(window,"hashchange"),el:window};
}else{clearInterval(this._nIntervalId);
this._nIntervalId=setInterval(MobileCommentJindo.$Fn(this._onHashChange,this).bind(),this.option("nCheckInterval"));
}}},_onPopState:function(b){var c=b.$value().state;
if(c){var a=this._cloneObject(c);
if(!this._compareData(a,this._htLastState)){this._htLastState=a;
this._onChange();
}}},_onHashChange:function(){var a=this._getDecodedData(this._getHash());
if(!this._compareData(a,this._htLastState)){this._htLastState=a;
this._onChange();
}},_onChange:function(){this.fireEvent("change",{htHistoryData:this._htLastState});
},addHistory:function(c,d){if(typeof d==="undefined"){d=false;
}if(c&&typeof(c)=="object"&&MobileCommentJindo.$H(c).length()>0){this._htLastState=this._cloneObject(c);
var b=this._getEncodedData(this._htLastState);
if(this.bPushState){if(d){this._replaceState(this._htLastState);
}else{this._pushState(this._htLastState);
}}else{var a=this;
if(this._bAndroid){setTimeout(function(){a._setHash(b);
},0);
}else{this._setHash(b);
}}}},_replaceState:function(a){history.replaceState(a,document.title,location.href);
},_pushState:function(a){history.pushState(a,document.title,location.href);
},_setHash:function(a){location.hash=a;
},_compareData:function(c,b){if(c&&b){if(MobileCommentJindo.$H(c).length()==MobileCommentJindo.$H(b).length()){for(var a in c){if(typeof(c[a])=="object"){if(!arguments.callee(c[a],b[a])){return false;
}}else{if(c[a]!=b[a]){return false;
}}}return true;
}else{return false;
}}else{return false;
}},_getEncodedData:function(a){if(a){if(typeof(JSON)=="object"&&typeof(JSON.stringify)=="function"){return encodeURIComponent(JSON.stringify(a));
}else{return encodeURIComponent(MobileCommentJindo.$Json(a).toString());
}}else{return"";
}},_getDecodedData:function(c){try{if(c){var a=decodeURIComponent(c);
if(typeof(JSON)=="object"&&typeof(JSON.parse)=="function"){return JSON.parse(a);
}else{return MobileCommentJindo.$Json(a).toObject();
}}}catch(b){}return{};
},_cloneObject:function(a){var c,b;
if(a){c=MobileCommentJindo.$Json(a).toString();
b=MobileCommentJindo.$Json(c).toObject();
}else{b={};
}return b;
},_getHash:function(){return this._oAgent.firefox?encodeURIComponent(location.hash.substring(1)):location.hash.substring(1);
},_detachEvent:function(){for(var b in this._htEvent){var a=this._htEvent[b];
a.ref.detach(a.el,b);
}this._htEvent=null;
},destroy:function(){this._detachEvent();
clearInterval(this._nIntervalId);
this._nIntervalId=null;
}}).extend(MobileCommentJindo.Component);
MobileCommentJindo.m.CircularFlicking=MobileCommentJindo.$Class({$init:function(b,a){this.option({bHorizontal:true,sClassPrefix:"flick-",nFlickThreshold:40,nDuration:100,nTotalContents:3,bActivateOnload:true});
this.option(a||{});
this._initVar();
this._setWrapperElement(b);
this._setElementSize();
this._updatePanelPosition();
this._initTouch();
this._setAnchorElement();
this._focusFixedBug();
if(this.option("bActivateOnload")){this.activate();
}},_initVar:function(){this._oTouch=null;
this._bFlickLeft=null;
this._elTransition=null;
this._htIndexInfo={nPanelIndex:0,nContentIndex:0,nNextPanelIndex:0,nNextContentIndex:0};
this._aCurrentPosition=[0,0,0];
var b=MobileCommentJindo.m.getDeviceInfo();
var a=parseInt(b.version.substring(0,1),10);
this.sTransformStart="translate(";
this.sTransformEnd=")";
if(b.iphone||b.ipad){this.sTransformStart="translate3d(";
this.sTransformEnd=",0px)";
}this._isAndroid=b.android;
this._isIos=(b.iphone||b.ipad);
this._sCssPrefix=MobileCommentJindo.m.getCssPrefix();
this._wfTransitionEnd=MobileCommentJindo.$Fn(this._onTransitionEnd,this).bind();
this._aAnchor=null;
this._fnDummyFnc=function(){return false;
};
this._bBlocked=false;
this._isFlicking=false;
this._initAnimationStep();
},_initAnimationStep:function(){this._htAnimationStep={nPosPerTime:0,nAnimateTime:0,nBeforeTime:0,nPos:0};
},_initTouch:function(){this._oTouch=new MobileCommentJindo.m.Touch(this._htWElement.container.$value(),{nSlopeThreshold:4,nMoveThreshold:0,bActivateOnload:false});
},_setWrapperElement:function(d){this._htWElement={};
d=MobileCommentJindo.$(d);
var h="."+this.option("sClassPrefix");
this._htWElement.base=MobileCommentJindo.$Element(d);
this._htWElement.container=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(h+"container",d));
this._htWElement.container.css("overflow","hidden").css("position","absoulte");
var a=MobileCommentJindo.$$(h+"panel",d);
this._htWElement.aPanel=MobileCommentJindo.$A(a).forEach(function(n,m,o){var l=MobileCommentJindo.$Element(n);
o[m]=l;
l.css("position","absolute").css("width","100%").css("height","100%");
}).$value();
if(this._isAndroid){this._htWElement.aDummyTag=[];
for(var c=0,f=this._htWElement.aPanel.length;
c<f;
c++){var b=this._htWElement.aPanel[c];
var g=MobileCommentJindo.$$.getSingle("._cflick_dummy_atag_",b.$value());
if(!g){g=MobileCommentJindo.$("<a href='javascript:void(0);' class='_cflick_dummy_atag_'></a>");
g.style.position="absolute";
g.style.left="-1000px";
g.style.top="-1000px";
g.style.width=0;
g.style.height=0;
b.append(g);
}this._htWElement.aDummyTag.push(g);
}}},_prepareTransition:function(){if(this._isIos){for(var a=0,b=this._htWElement.aPanel.length;
a<b;
a++){this._htWElement.aPanel[a].css(this._sCssPrefix+"TransformStyle","preserve-3d");
}}},_setElementSize:function(){if(this.option("bHorizontal")){this._htWElement.container.width(this._htWElement.base.width()*3).height(this._htWElement.base.height());
}else{this._htWElement.container.height(this._htWElement.base.height()*3).width(this._htWElement.base.width());
}},_setAnchorElement:function(a){if(this._isIos){this._aAnchor=MobileCommentJindo.$$("A",this._htWElement.container.$value());
}},_updatePanelPosition:function(){this._aCtPosition=[];
var b=this._htWElement.base.$value();
var a=this.option("bHorizontal")?b.clientWidth:b.clientHeight;
this._htPositionInfo={left:a*-1,center:0,right:a*1};
},_onResize:function(){this.refresh(this.getPanelIndex(),true);
},getPanelIndex:function(){return this._htIndexInfo.nPanelIndex;
},getPanelElement:function(){return this._htWElement.aPanel[this.getPanelIndex()];
},getRightPanelIndex:function(){var a=this.getPanelIndex()+1;
a=(a>2)?0:a;
return a;
},getRightPanelElement:function(){return this._htWElement.aPanel[this.getRightPanelIndex()];
},getLeftPanelIndex:function(){var a=this.getPanelIndex()-1;
a=(a<0)?2:a;
return a;
},getLeftPanelElement:function(){return this._htWElement.aPanel[this.getLeftPanelIndex()];
},setContentIndex:function(b,a){if(!this.isActivating()){return;
}if(typeof a==="undefined"){a=true;
}b=parseInt(b,10);
if(b<0||b>(this.option("nTotalContents")-1)){return;
}if(a){if(!this._fireCustomEvent("beforeMove",{nPanelIndex:this.getPanelIndex(),nContentIndex:this.getContentIndex(),nNextPanelIndex:b%3,nNextContentIndex:b})){return;
}}this._htIndexInfo.nContentIndex=b;
this._htIndexInfo.nPanelIndex=b%3;
this._htIndexInfo.nNextContentIndex=b;
this._htIndexInfo.nNextPanelIndex=b%3;
if(a){this.refresh(this._htIndexInfo.nPanelIndex,false,true);
}},getContentIndex:function(){return this._htIndexInfo.nContentIndex;
},getRightContentIndex:function(){var a=this.getContentIndex()+1;
a=((a+1)>this.option("nTotalContents"))?0:a;
return a;
},getLeftContentIndex:function(){var a=this.getContentIndex()-1;
a=(a<0)?(this.option("nTotalContents")-1):a;
return a;
},_onStart:function(a){if(!this.fireEvent("touchStart",a)){return;
}this._clearAnchor();
this._oTouch.attach({touchMove:this._htEvent.touchMove,touchEnd:this._htEvent.touchEnd,longTap:this._htEvent.longTap});
},_onMove:function(d){var b=this.option("bHorizontal");
var a=d.oEvent;
if(d.sMoveType===MobileCommentJindo.m.MOVETYPE[0]){if(b){a.stop(MobileCommentJindo.$Event.CANCEL_ALL);
}else{return;
}}else{if(d.sMoveType===MobileCommentJindo.m.MOVETYPE[1]){if(!b){a.stop(MobileCommentJindo.$Event.CANCEL_ALL);
}else{return;
}}else{if(d.sMoveType===MobileCommentJindo.m.MOVETYPE[2]){a.stop(MobileCommentJindo.$Event.CANCEL_ALL);
}}}if(this._isFlicking){return;
}this.fireEvent("touchMove",d);
var c=b?d.nVectorX:d.nVectorY;
this._movePanels(c);
},_onEnd:function(g,b){this._oTouch.detach({touchMove:this._htEvent.touchMove,touchEnd:this._htEvent.touchEnd,longTap:this._htEvent.longTap});
this._isFlicking=true;
var a=this._getSnap(g.nDistanceX,g.nDistanceY,b);
if(g.sMoveType===MobileCommentJindo.m.MOVETYPE[3]||g.sMoveType===MobileCommentJindo.m.MOVETYPE[4]){this._restoreAnchor();
}var c=this.getPanelIndex();
if(c==a.nPanelIndex){this._onTransitionEnd();
return;
}var d={nPanelIndex:c,nContentIndex:this.getContentIndex(),nNextPanelIndex:a.nPanelIndex,nNextContentIndex:a.nContentIndex};
if(this._bFlickLeft!==null){if(this.option("bHorizontal")){d.bLeft=this._bFlickLeft;
}else{d.bTop=this._bFlickLeft;
}}if(!this._fireCustomEvent("beforeFlicking",d)){return;
}var f=this.option("bHorizontal")?a.nX:a.nY;
this._htIndexInfo.nNextPanelIndex=a.nPanelIndex;
this._htIndexInfo.nNextContentIndex=a.nContentIndex;
this._movePanels(f,a.nTime,false);
this.fireEvent("touchEnd",g);
},_movePanels:function(b,a,c){if(typeof a==="undefined"){a=0;
}if(typeof c==="undefined"){c=true;
}var m=this._htWElement.aPanel;
if(this._isIos||(!this._isIos&&(a===0))){for(var h=0,n=m.length;
h<n;
h++){var l=(c)?this._aCurrentPosition[h]+b:b;
this._setPosition(m[h],l,a);
this._aCurrentPosition[h]=l;
}}else{var g=(b-this._aCurrentPosition[1])/a;
this._htAnimationStep.nPosPerTime=g;
this._htAnimationStep.nAnimateTime=a;
var f=Date.now();
this._htAnimationStep.nBeforeTime=f;
this._htAnimationStep.nPos=b;
var o=this;
(function d(){var r=Date.now();
if(r>=(f+o._htAnimationStep.nAnimateTime)){for(var s=0,w=o._htWElement.aPanel.length;
s<w;
s++){o._setPosition(o._htWElement.aPanel[s],o._htAnimationStep.nPos,0);
}clearTimeout(o._nTimerAnimate);
o._initAnimationStep();
o._onTransitionEnd();
return;
}var v=(r-o._htAnimationStep.nBeforeTime);
o._htAnimationStep.nBeforeTime=r;
var u=o._htAnimationStep.nPosPerTime*v;
var q=o._htWElement.aPanel;
for(var s=0,w=q.length;
s<w;
s++){var t=o._aCurrentPosition[s]+u;
o._setPosition(q[s],t,0);
o._aCurrentPosition[s]=t;
}o._nTimerAnimate=setTimeout(d,1);
})();
}},_focusFixedBug:function(){if(typeof this._htWElement.aDummyTag==="undefined"){return;
}for(var a=0,b=this._htWElement.aDummyTag.length;
a<b;
a++){this._htWElement.aDummyTag[a].focus();
}},_getSnap:function(h,g,l){var b=this.option("bHorizontal")?h:g;
var d=this._htPositionInfo.center;
var c=(typeof l!="undefined")?l:this.option("nDuration");
var f=this.getPanelIndex();
var a=this.getContentIndex();
if(Math.abs(b)>this.option("nFlickThreshold")){if(b<0){d=this._htPositionInfo.left;
f=this.getRightPanelIndex();
a=this.getRightContentIndex();
this._bFlickLeft=true;
}else{d=this._htPositionInfo.right;
f=this.getLeftPanelIndex();
a=this.getLeftContentIndex();
this._bFlickLeft=false;
}}return{nX:d,nY:d,nTime:c,nPanelIndex:f,nContentIndex:a};
},_setPosition:function(b,d,c){if(typeof c=="undefined"){c=0;
}var g=this.option("bHorizontal")?d:0;
var f=this.option("bHorizontal")?0:d;
if(c>0){this._attachTransitionEnd(b.$value());
}if(c!==0){c+="ms";
}var a={};
a[this._sCssPrefix+"TransitionProperty"]="-webkit-transform";
a[this._sCssPrefix+"TransitionDuration"]=c;
a[this._sCssPrefix+"Transform"]=this.sTransformStart+g+"px,"+f+"px"+this.sTransformEnd;
b.css(a);
},_clearAnchor:function(){if(this._aAnchor&&!this._bBlocked){var b=null;
for(var d=0,c=this._aAnchor.length;
d<c;
d++){if(this._fnDummyFnc!==this._aAnchor[d].onclick){this._aAnchor[d]._onclick=this._aAnchor[d].onclick;
}this._aAnchor[d].onclick=this._fnDummyFnc;
b=this._aAnchor[d].___listeners___||[];
for(var a=0,f=b.length;
a<f;
a++){___Old__removeEventListener___.call(this._aAnchor[d],"click",b[a].listener,b[a].useCapture);
}}this._bBlocked=true;
}},_restoreAnchor:function(){if(this._aAnchor&&this._bBlocked){var b=null;
for(var d=0,c=this._aAnchor.length;
d<c;
d++){if(this._fnDummyFnc!==this._aAnchor[d]._onclick){this._aAnchor[d].onclick=this._aAnchor[d]._onclick;
}else{this._aAnchor[d].onclick=null;
}b=this._aAnchor[d].___listeners___||[];
for(var a=0,f=b.length;
a<f;
a++){___Old__addEventListener___.call(this._aAnchor[d],"click",b[a].listener,b[a].useCapture);
}}this._bBlocked=false;
}},moveNext:function(b){if(!this.isActivating()){return;
}var a=this.option("nFlickThreshold")*-1;
this._onEnd({nDistanceX:a-10,nDistanceY:a-10},b);
},movePrev:function(b){if(!this.isActivating()){return;
}var a=this.option("nFlickThreshold");
this._onEnd({nDistanceX:a+10,nDistanceY:a+10},b);
},refresh:function(h,c,f){if(!this.isActivating()){return;
}if(typeof c==="undefined"){c=false;
}if(typeof f==="undefined"){f=false;
}if(c){this._setElementSize();
this._updatePanelPosition();
}if(typeof h==="undefined"){h=this.getPanelIndex();
}if(this._htIndexInfo.nPanelIndex!=h){this._htIndexInfo.nPanelIndex=h;
}var b=this.getPanelIndex();
var d=this.getLeftPanelIndex();
var a=this.getRightPanelIndex();
var g=this.option("bHorizontal")?"left":"top";
this._htWElement.aPanel[b].css(g,this._htPositionInfo.center).css("zIndex",10);
this._htWElement.aPanel[d].css(g,this._htPositionInfo.left).css("zIndex",1);
this._htWElement.aPanel[a].css(g,this._htPositionInfo.right).css("zIndex",1);
if(f){this._fireCustomEvent("move");
}},_onTransitionEnd:function(a){this._detachTransitionEnd();
MobileCommentJindo.$A(this._htWElement.aPanel).forEach(function(d,c,f){d.$value().style[this._sCssPrefix+"TransitionDuration"]=null;
d.$value().style[this._sCssPrefix+"TransitionProperty"]="";
d.$value().style[this._sCssPrefix+"Transform"]="";
},this);
var b=false;
if(this._htIndexInfo.nPanelIndex!=this._htIndexInfo.nNextPanelIndex){b=true;
}this.refresh(this._htIndexInfo.nNextPanelIndex);
this._htIndexInfo.nContentIndex=this._htIndexInfo.nNextContentIndex;
this._focusFixedBug();
this._isFlicking=false;
if(b){this._fireCustomEvent("afterFlicking");
}this._bFlickLeft=null;
this._aCurrentPosition=[0,0,0];
this._setAnchorElement(this._htWElement.aPanel[this.getPanelIndex()].$value());
},_fireCustomEvent:function(a,b){if(typeof b==="undefined"){b={nPanelIndex:this.getPanelIndex(),nContentIndex:this.getContentIndex(),nContentLeftIndex:this.getLeftContentIndex(),nContentRightIndex:this.getRightContentIndex(),nPanelLeftIndex:this.getLeftPanelIndex(),nPanelRightIndex:this.getRightPanelIndex()};
if(this.option("bHorizontal")){b.bLeft=this._bFlickLeft;
}else{b.bTop=this._bFlickLeft;
}}return this.fireEvent(a,b);
},_attachTransitionEnd:function(a){if(a===this._htWElement.aPanel[this.getPanelIndex()].$value()){this._elTransition=a;
MobileCommentJindo.m.attachTransitionEnd(this._elTransition,this._wfTransitionEnd);
}},_detachTransitionEnd:function(){if(this._elTransition){MobileCommentJindo.m.detachTransitionEnd(this._elTransition,this._wfTransitionEnd);
}},_onActivate:function(){this._attachEvent();
this._oTouch.activate();
this._prepareTransition();
this.refresh();
},_onDeactivate:function(){this._detachEvent();
this._oTouch.deactivate();
},_attachEvent:function(){this._htEvent={};
this._htEvent.rotate=MobileCommentJindo.$Fn(this._onResize,this).bind();
MobileCommentJindo.m.bindRotate(this._htEvent.rotate);
this._htEvent.touchMove=MobileCommentJindo.$Fn(this._onMove,this).bind();
this._htEvent.touchEnd=MobileCommentJindo.$Fn(this._onEnd,this).bind();
this._htEvent.touchStart=MobileCommentJindo.$Fn(this._onStart,this).bind();
this._oTouch.attach("touchStart",this._htEvent.touchStart);
this._htEvent.pageshow=MobileCommentJindo.$Fn(this._onPageShow,this).bind();
MobileCommentJindo.m.bindPageshow(this._htEvent.pageshow);
},_onPageShow:function(){this._onResize();
},_detachEvent:function(){MobileCommentJindo.m.unbindRotate(this._htEvent.rotate);
MobileCommentJindo.m.unbindPageshow(this._htEvent.pageshow);
this._oTouch.detachAll();
this._htEvent=null;
},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null;
}for(var a in this._htIndexInfo){this._htIndexInfo[a]=null;
}this._oTouch.destroy();
this._elTransition=null;
this._oTouch=null;
this._bFlickLeft=null;
this._isAndroid=null;
this._aCurrentPosition=null;
this.sTransformStart=null;
this.sTransformEnd=null;
this._isIos=null;
this._aAnchor=null;
this._fnDummyFnc=null;
this._sCssPrefix=null;
this._bBlocked=null;
this._isFlicking=null;
for(var a in this._htAnimationStep){this._htAnimationStep[a]=null;
}this._htAnimationStep=null;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.CheckBox=MobileCommentJindo.$Class({$init:function(b,a){this.option({sClassPrefix:"fcb-",sType:"v",bActivateOnload:true,sUncheckBgColor:"transparent"});
this.option(a||{});
this._initVar();
this._setWrapperElement(b,this.option("sClassPrefix"));
this._initCheckLoad();
if(this.option("bActivateOnload")){this.activate();
}},_initVar:function(){this.$super._initVar("checkbox","checkbox");
},_initCheckLoad:function(){var a=this._htWElement.container.queryAll("."+this._sUnitClass);
var d,c;
for(var b=0;
b<a.length;
b++){d=MobileCommentJindo.$Element(a[b]);
c=MobileCommentJindo.$$.getSingle("input[type=checkbox]",d.$value());
this._setChecked(c.checked,c,d);
}d=c=null;
},_afterCheck:function(f,c){var b=MobileCommentJindo.$$.getSingle("."+this._sFormClass,f.$value());
var a=f.attr("data-cb-checked");
var d=(a&&a=="on")?false:true;
b.checked=d;
this._setChecked(d,b,f);
},_setChecked:function(f,a,c){var d="unchecked";
var b=this.option("sCheckBgColor");
if(!f){b=(b)?this.option("sUncheckBgColor"):null;
c.removeClass(this._sOnClass);
c.attr("data-cb-checked","off");
}else{c.addClass(this._sOnClass);
c.attr("data-cb-checked","on");
d="checked";
}(b)?c.css("backgroundColor",b+" !important"):null;
this.fireEvent(d,{elCheckBoxUnit:c.$value(),elCheckBox:a});
},getCheckedValue:function(){var d=[];
var b=this._aWElFormList;
var c=null;
for(var a=0;
a<b.length;
a++){c=b[a].$value();
if(!c.disabled&&c.checked){d.push(c.value);
}}return d;
},setCheckedBox:function(f,a){var c=this._getFormIdx(a);
var b=null;
for(var d=0;
d<c.length;
d++){b=this._aWElFormList[c[d]].$value();
if(!b.disabled){b.checked=f;
this._setChecked(f,b,this._aWElUnitList[c[d]]);
}}},enable:function(a){var b=this._useSettingForm(a,true);
this.fireEvent("enable",{aCheckBoxList:b.aFormList,aCheckBoxUnitList:b.aUnitList});
},disable:function(a){var b=this._useSettingForm(a,false);
this.fireEvent("disable",{aCheckBoxList:b.aFormList,aCheckBoxUnitList:b.aUnitList});
},geElementtByIndex:function(a){return{elCheckBox:this._aWElFormList[a].$value(),elCheckBoxUnit:this._aWElUnitList[a].$value()};
},destroy:function(){this.$super.destroy();
}}).extend(MobileCommentJindo.m.CheckRadioCore);
MobileCommentJindo.m.Datepicker=MobileCommentJindo.$Class({$init:function(b,a){this.option({sClassPrefix:"calendar-",sFormat:"yyyy-mm-dd",sTitleFormat:"yyyy.mm",aMonthTitle:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],bUseEffect:false,nEffectDuration:200,bActivateOnload:true,bAutoHide:false});
this.option(a||{});
this._initVar();
this._setWrapperElement(b);
this._initCalendar();
if(this.option("bActivateOnload")){this.activate();
}},$static:{INDEX_ATTR:"data-datepickerid"},_initVar:function(){var a=MobileCommentJindo.m.getDeviceInfo();
this._oCalendar=null;
this._htDatePickerSet={};
this._htSelectedDatePickerSet=null;
this._bActivate=false;
this._bMove=false;
this._bCalendarVisible=false;
this._sClickEvent=(a.iphone||a.ipad||a.android)?"touchend":"click";
this._aDayInfo=[];
},_setWrapperElement:function(d){var c=this.option("sClassPrefix"),b,f;
if(!d){this._welCalendarBase=this._insertCalendarTemplate();
}else{d=(typeof d=="string"?MobileCommentJindo.$(d):d);
this._welCalendarBase=MobileCommentJindo.$Element(d);
}b=this._welCalendarBase.queryAll("th");
for(var a=0,g=b.length;
a<g;
a++){this._aDayInfo.push(MobileCommentJindo.$Element(b[a]).text());
}this._welCalendarBase.css("position","absolute");
this._welCalendarBase.hide();
f=this._welCalendarBase.query("."+c+"btn-close");
this._welCloseBtn=(f)?MobileCommentJindo.$Element(f):null;
},_insertCalendarTemplate:function(){var a=[],b=this.option("sClassPrefix");
a.push("<div>");
a.push('<a href="javascript:void(0)" class="'+b+"btn "+b+'btn-prev-year">&lt;&lt;</a>');
a.push('<a href="javascript:void(0)" class="'+b+"btn "+b+'btn-prev-mon">&lt;</a>');
a.push('<strong class="'+b+'title"></strong>');
a.push('<a href="javascript:void(0)" class="'+b+"btn "+b+'btn-next-mon">&gt;</a>');
a.push('<a href="javascript:void(0)" class="'+b+"btn "+b+'btn-next-year">&gt;&gt;</a>');
a.push('</div><table cellspacing="0" cellpadding="0" style="');
a.push("-"+MobileCommentJindo.m.getCssPrefix()+'-tap-highlight-color:rgba(0,0,0,0);"><thead><tr>');
a.push('<th class="'+b+'sun">일</th><th>월</th><th>화</th><th>수</th><th>목</th><th>금</th><th class="sat">토</th>');
a.push("</tr></thead><tbody>");
a.push('<tr class="'+b+'week">');
a.push('<td><a href="javascript:void(0)" class="'+b+'date"></a></td>');
a.push('<td><a href="javascript:void(0)" class="'+b+'date"></a></td>');
a.push('<td><a href="javascript:void(0)" class="'+b+'date"></a></td>');
a.push('<td><a href="javascript:void(0)" class="'+b+'date"></a></td>');
a.push('<td><a href="javascript:void(0)" class="'+b+'date"></a></td>');
a.push('<td><a href="javascript:void(0)" class="'+b+'date"></a></td>');
a.push('<td><a href="javascript:void(0)" class="'+b+'date"></a></td>');
a.push("</tr></tbody></table>");
a.push('<div class="'+b+'bottom"><a href="javascript:void(0)" class="'+b+"btn "+b+'btn-close">닫기</a></div>');
document.body.appendChild(MobileCommentJindo.$('<div id="jmc_calt" class="'+b+'base" style="position:absolute"></div>'));
var c=MobileCommentJindo.$Element("jmc_calt").hide();
c.html(a.join(""));
return c;
},_initCalendar:function(){var b=this,c=new Date(),a={nYear:c.getFullYear(),nMonth:c.getMonth()+1,nDate:c.getDate()},d={sClassPrefix:this.option("sClassPrefix"),nYear:a.nYear,nMonth:a.nMonth,nDate:a.nDate,sTitleFormat:this.option("sTitleFormat"),aMonthTitle:this.option("aMonthTitle")};
this._oCalendar=new MobileCommentJindo.Calendar(this._welCalendarBase.$value(),d).attach({beforeDraw:function(f){var h,g=this.getShownDate();
g={nYear:g.nYear,nMonth:g.nMonth};
h={nYear:f.nYear,nMonth:f.nMonth};
this._htOldDate=g;
this._htMoveDate=h;
f.oOldDate=g;
f.oMoveDate=h;
if(!b.fireEvent("beforeDraw",f)){f.stop();
}if((g.nYear!=h.nYear||g.nMonth!=h.nMonth)){if(!b.fireEvent("beforeMoveDate",f)){f.stop();
}}},draw:function(f){if(!b.fireEvent("draw",f)){f.stop();
}},afterDraw:function(f){b._drawCalendarSelectDate(f.nYear,f.nMonth);
if(b._bCalendarVisible){b._fPosition();
}f.oOldDate=this._htOldDate;
f.oMoveDate=this._htMoveDate;
b.fireEvent("afterDraw",f);
if((this._htOldDate.nYear!=this._htMoveDate.nYear||this._htOldDate.nMonth!=this._htMoveDate.nMonth)){if(!b.fireEvent("moveDate",f)){f.stop();
}}}});
},_drawCalendarSelectDate:function(d,b){if(!this._oCalendar){return;
}var a=this.option("sClassPrefix"),h=this._welCalendarBase.queryAll("."+a+"date"),f=this._oCalendar.getToday(),l;
if(f.nYear!=d||f.nMonth!=b){var g=this._welCalendarBase.query("."+a+"today");
if(g){MobileCommentJindo.$Element(g).removeClass(a+"today");
}}for(var c=0,m=h.length;
c<m;
c++){l=this._getDateCellElement(h[c]);
if(!l){continue;
}htDate=this._oCalendar.getDateOfElement(l);
if((d===htDate.nYear&&b===htDate.nMonth)&&MobileCommentJindo.Calendar.isSameDate(htDate,this._htSelectedDatePickerSet)){MobileCommentJindo.$Element(l).removeClass(a+"today").addClass(a+"selected");
}}},_isSelectable:function(b,a){var c=MobileCommentJindo.Calendar.isBetween(a,b.htSelectableDateFrom,b.htSelectableDateTo);
return c;
},addDatePickerSet:function(b,c){if(typeof b=="undefined"){return this;
}var a="DATEPICKER_"+(new Date()).getTime()+"_"+Math.floor((Math.random()*100)),h,g=this._oCalendar.option(),f={nYear:g.nYear,nMonth:g.nMonth,nDate:g.nDate,htSelectableDateFrom:{nYear:1900,nMonth:1,nDate:1},htSelectableDateTo:{nYear:2100,nMonth:12,nDate:31},sPosition:"bottomLeft",zIndex:50};
if(typeof c!="undefined"){for(var d in c){if(typeof f[d]!="undefined"){f[d]=c[d];
}}}c=f;
h=MobileCommentJindo.$Element(b);
h.replace("<span style='position:relative;display:inline-block;'>"+h.toString()+"</span>");
h=MobileCommentJindo.$Element(b);
h.attr("readOnly",true).attr(MobileCommentJindo.m.Datepicker.INDEX_ATTR,a);
c.wfFocusFunc=MobileCommentJindo.$Fn(this._onFocus,this).attach(b,"focus");
c.elInput=h.$value();
this._htDatePickerSet[a]=c;
return this;
},removeDatePickerSet:function(b){var d=MobileCommentJindo.$Element(b),a=d.attr(MobileCommentJindo.m.Datepicker.INDEX_ATTR),c=this._htDatePickerSet[a];
c.wfFocusFunc.detach(d.$value(),"focus");
if(c==this._htSelectedDatePickerSet){this._htSelectedDatePickerSet=null;
}delete this._htDatePickerSet[a];
return this;
},_onActivate:function(){this._attachEvent();
this._bActivate=true;
},_onDeactivate:function(){if(this._bCalendarVisible){this.hide();
}this._detachEvent();
this._bActivate=false;
},_attachEvent:function(){this._htEvent={};
this._htEvent["document_"+this._sClickEvent]={el:document,ref:MobileCommentJindo.$Fn(this._onDocumentClick,this).attach(document,this._sClickEvent)};
this._htEvent.document_touchmove={el:document,ref:MobileCommentJindo.$Fn(this._onDocumentScroll,this).attach(document,"touchmove")};
this._htEvent.date_click={el:this._welCalendarBase.$value(),ref:MobileCommentJindo.$Fn(this._onClickDate,this).attach(this._welCalendarBase.$value(),this._sClickEvent)};
if(this._welCloseBtn){this._htEvent.close_click={el:this._welCloseBtn.$value(),ref:MobileCommentJindo.$Fn(this._onClickCloseCalendar,this).attach(this._welCloseBtn.$value(),"click")};
}},_detachEvent:function(){for(var b in this._htEvent){var a=this._htEvent[b];
a.ref.detach(a.el,b.substring(b.lastIndexOf("_")+1));
}this._htEvent=null;
},_onFocus:function(b){if(!this._bActivate){return false;
}var a=b.element;
this.show(a);
},_onDocumentClick:function(d){var g=d.element;
var f=MobileCommentJindo.$Element(g);
var a=MobileCommentJindo.m.Datepicker.oCalendarInstance;
var c=this._welCalendarBase.attr(MobileCommentJindo.m.Datepicker.INDEX_ATTR);
var b=(c)?this._htDatePickerSet[c].elInput:null;
if(this._bMove){this._bMove=false;
return;
}if(this.option("bAutoHide")&&this._bCalendarVisible&&this._welCalendarBase.$value()!=g&&!this._welCalendarBase.isParentOf(f)&&b!=g){this.hide();
b.blur();
}this._bMove=false;
return true;
},_onDocumentScroll:function(a){this._bMove=true;
},_onClickDate:function(f){f.stopDefault();
if(this._bMove){return false;
}var h=this.option("sClassPrefix");
var c=MobileCommentJindo.m.getNodeElement(f.element);
var d=this._welCalendarBase.attr(MobileCommentJindo.m.Datepicker.INDEX_ATTR);
var b=this._htDatePickerSet[d].elInput;
var l=this._getDateCellElement(c);
if(l){var g=MobileCommentJindo.$Element(l);
if(g.hasClass(h+"next-mon")||g.hasClass(h+"prev-mon")){return false;
}var a=this._oCalendar.getDateOfElement(l);
if(this._isSelectable(this._htSelectedDatePickerSet,a)){this.setDate(b,a);
b.blur();
this.fireEvent("selectDate",{oSelectDate:a,oCalendar:this._oCalendar});
this.hide();
}}return false;
},_getDateCellElement:function(a){var g=MobileCommentJindo.$Element(a),c=this.option("sClassPrefix"),f,d,b=(g.hasClass(c+"date"))?g:MobileCommentJindo.$$.getSingle("."+c+"date",g.$value());
if(b){b=MobileCommentJindo.$Element(b);
d=MobileCommentJindo.m.getClosest(c+"week",b);
if(d){d=MobileCommentJindo.$Element(d);
f=b.$value();
while(!MobileCommentJindo.$Element(f.parentNode).hasClass(c+"week")){f=f.parentNode;
}if(MobileCommentJindo.$Element(f).hasClass(c+"unselectable")){f=null;
}}}return f;
},_onClickCloseCalendar:function(){this.hide();
},_displayEffect:function(g,c){this._sEffectDirection=g;
var a=this._welCalendarBase.$value();
var b=MobileCommentJindo.m.getCssPrefix();
var f=(b=="webkit")?"webkitTransitionEnd":"transitionend";
var d=this.option("nEffectDuration")+"ms";
this._welCalendarBase.show();
a.style.opacity=(g=="fade-in")?0:1;
if(c){c();
}this._fnTransitionEnd=MobileCommentJindo.$Fn(this._TransitionEnd,this).bind();
a.addEventListener(f,this._fnTransitionEnd,false);
setTimeout(function(){a.style.webkitTransitionDuration=d;
a.style.webkitTransitionProperty="all";
a.style.webkitTransitionTimingFunction="ease-in-out";
if(g=="fade-in"){a.style.opacity=1;
}else{if(g=="fade-out"){a.style.opacity=0;
}}},10);
},_TransitionEnd:function(a){var b=a.currentTarget;
var f=MobileCommentJindo.m.getCssPrefix();
var g=(f=="webkit")?"webkitTransitionEnd":"transitionend";
var c=this._htSelectedDatePickerSet;
b.style.webkitTransitionDuration=null;
b.style.webkitTransitionProperty=null;
b.style.webkitTransitionTimingFunction=null;
b.removeEventListener(g,this._fnTransitionEnd,false);
this._fnTransitionEnd=null;
if(this._sEffectDirection=="fade-in"){this._bCalendarVisible=true;
this.fireEvent("showCalendar",{oDrawDate:{nYear:c.nYear,nMonth:c.nMonth,nDate:c.nDate},oCalendar:this._oCalendar});
}else{if(this._sEffectDirection=="fade-out"){this._bCalendarVisible=false;
b.style.zIndex=0;
b.style.display="none";
var d=this.fireEvent("hideCalendar",{oSelectDate:{nYear:c.nYear,nMonth:c.nMonth,nDate:c.nDate},oCalendar:this._oCalendar});
}}},_formatDate:function(b){var d=new Date(b.nYear,b.nMonth-1,b.nDate),c=this._aDayInfo[d.getDay()],a=this.option("sFormat").replace(/(yyyy|yy|mm|dd|day)/gi,function(g){switch(g){case"yyyy":return d.getFullYear();
case"yy":return d.getFullYear().toString().substr(2);
case"mm":var f=(d.getMonth()+1)+"";
f=f.length===1?"0"+f:f;
return f;
case"dd":var h=d.getDate()+"";
h=h.length===1?"0"+h:h;
return h;
case"day":return c;
}});
return a;
},setPosition:function(a,c){var b=a.getAttribute(MobileCommentJindo.m.Datepicker.INDEX_ATTR);
this._htDatePickerSet[b].sPosition=c;
if(this._isCurrentDatePicker(a)&&this._bCalendarVisible){this._fPosition=MobileCommentJindo.$Fn(function(){this._setCalendarPosition(a,c);
},this).bind();
this._setCalendarPosition(a,c);
}},_setCalendarPosition:function(g,m){var a=MobileCommentJindo.$Element(g);
var l=this._welCalendarBase;
var f=l.height();
var c=l.width();
var n=a.height();
var h=a.width();
var b={};
var d=l.$value();
d.style.left=null;
d.style.right=null;
d.style.top=null;
switch(m){case"leftTop":b.top="0px";
b.left="-"+c+"px";
break;
case"leftBottom":b.top="-"+(f-n)+"px";
b.left="-"+c+"px";
break;
case"rightTop":b.top="0px";
b.left=h+"px";
break;
case"rightBottom":b.top="-"+(f-n)+"px";
b.left=h+"px";
break;
case"bottomLeft":b.top=n+"px";
b.left="0px";
break;
case"bottomRight":b.top=n+"px";
b.right="0px";
break;
case"topLeft":b.top="-"+f+"px";
b.left="0px";
break;
case"topRight":b.top="-"+f+"px";
b.right="0px";
break;
}l.css(b);
},setDate:function(b,a){var c=(b)?b.getAttribute(MobileCommentJindo.m.Datepicker.INDEX_ATTR):null;
var d=this._htDatePickerSet[c];
if(!c||!this._bActivate||!this._isSelectable(d,a)){return false;
}b.value=this._formatDate(a);
d.nYear=a.nYear;
d.nMonth=a.nMonth;
d.nDate=a.nDate;
this._htDatePickerSet[c]=d;
if(this._isCurrentDatePicker(b)&&this._bCalendarVisible){this._oCalendar.draw(a.nYear,a.nMonth);
}},deleteDate:function(b){if(!b){return;
}var g=MobileCommentJindo.$Element(b);
var d=this._htDatePickerSet;
var c=g.attr(MobileCommentJindo.m.Datepicker.INDEX_ATTR);
var f=new Date();
var a={nYear:f.getFullYear(),nMonth:f.getMonth()+1,nDay:f.getDate()};
g.$value().value="";
d[c].nYear=f.getFullYear();
d[c].nMonth=f.getMonth()+1;
d[c].nDate=f.getDate();
if(this._isCurrentDatePicker(g.$value())&&this._bCalendarVisible){this.hide();
}this.fireEvent("clear",{oCalendar:this._oCalendar});
},_isCurrentDatePicker:function(a){var c=(a)?a.getAttribute(MobileCommentJindo.m.Datepicker.INDEX_ATTR):null;
var d=this._welCalendarBase.attr(MobileCommentJindo.m.Datepicker.INDEX_ATTR);
var b=(c==d);
return b;
},enable:function(a){var b=this._htDatePickerSet;
if(a){var d=MobileCommentJindo.$Element(a);
d.$value().disabled=false;
}else{for(var c in b){b[c].elInput.disabled=false;
}this.activate();
}this.fireEvent("enable",{oCalendar:this._oCalendar});
},disable:function(a){var b=this._htDatePickerSet;
var d=false;
if(a){var f=MobileCommentJindo.$Element(a);
f.$value().disabled=true;
d=(this._bCalendarVisible&&this._isCurrentDatePicker(f.$value()));
}else{for(var c in b){b[c].elInput.disabled=true;
}this.deactivate();
d=true;
}if(d&&this._bCalendarVisible){this.hide();
}this.fireEvent("disable",{oCalendar:this._oCalendar});
},show:function(a){var f=MobileCommentJindo.$Element(a),d=f.parent(),b=f.attr(MobileCommentJindo.m.Datepicker.INDEX_ATTR),c=this._htDatePickerSet[b];
if(!this.fireEvent("beforeShowCalendar",{oDrawDate:{nYear:c.nYear,nMonth:c.nMonth,nDate:c.nDate},oCalendar:this._oCalendar})){return false;
}this._htSelectedDatePickerSet=c;
this._welCalendarBase.attr(MobileCommentJindo.m.Datepicker.INDEX_ATTR,b);
this._oCalendar.draw(c.nYear,c.nMonth);
d.append(this._welCalendarBase.$value());
if(this._isCurrentDatePicker(a)&&this._bCalendarVisible){return;
}this._fPosition=MobileCommentJindo.$Fn(function(){this._setCalendarPosition(a,c.sPosition);
},this).bind();
if(c.zIndex!="none"){this._welCalendarBase.css("zIndex",c.zIndex);
}if(this.option("bUseEffect")){this._displayEffect("fade-in",this._fPosition);
}else{this._welCalendarBase.show();
this._fPosition();
this._bCalendarVisible=true;
this.fireEvent("showCalendar",{oDrawDate:{nYear:c.nYear,nMonth:c.nMonth,nDate:c.nDate},oCalendar:this._oCalendar});
}},hide:function(){var a=this._htSelectedDatePickerSet;
var b=this.fireEvent("beforeHideCalendar",{oSelectDate:{nYear:a.nYear,nMonth:a.nMonth,nDate:a.nDate},oCalendar:this._oCalendar});
if(!b){return false;
}if(this.option("bUseEffect")){this._displayEffect("fade-out");
}else{this._welCalendarBase.hide();
this._bCalendarVisible=false;
this.fireEvent("hideCalendar",{oSelectDate:{nYear:a.nYear,nMonth:a.nMonth,nDate:a.nDate},oCalendar:this._oCalendar});
}},destroy:function(){this.deactivate();
this._oCalendar=null;
this._htDatePickerSet=null;
this._htSelectedDatePickerSet=null;
this._bActivate=false;
this._bMove=false;
this._bCalendarVisible=false;
this._sClickEvent=null;
this._aDayInfo=null;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.Dialog=MobileCommentJindo.$Class({$init:function(a){var b={bActivateOnload:true,sClassPrefix:"dialog-",sPosition:"center",bUseEffect:true,bAutoClose:false,bAutoReposition:true,sFoggyColor:"gray",nFoggyOpacity:0.5,sEffectType:"pop",nEffectDuration:500};
this.option(b);
this.option(a||{});
this._setWrapperElement();
this._initVar();
this._setDeviceSize();
this._initElement();
if(this.option("bActivateOnload")){this.activate();
}},_setWrapperElement:function(){this._htWElement={};
this._htWElement.dialog_container=MobileCommentJindo.$Element('<div class="'+this.option("sClassPrefix")+'container"></div>');
this._htWElement.dialog_foggy=MobileCommentJindo.$Element('<div class="'+this.option("sClassPrefix")+'fog"></div>');
this._htWElement.dialog_layer=MobileCommentJindo.$Element('<div class="'+this.option("sClassPrefix")+'layer"></div>');
this._htWElement.dialog_clone=MobileCommentJindo.$Element('<div class="'+this.option("sClassPrefix")+'clone"></div>');
},_initVar:function(){this._htDialogSize={width:0,height:0};
this._sTemplate=null;
this._bIsShown=false;
this._bProcessingShow=false;
this._bProcessingHide=false;
this._htDeviceInfo=MobileCommentJindo.m.getDeviceInfo();
this._bIOS=(this._htDeviceInfo.iphone||this._htDeviceInfo.ipad)?true:false;
this._bAndroid=this._htDeviceInfo.android?true:false;
},_setDeviceSize:function(){if(this._bIOS||(this._bAndroid)||!MobileCommentJindo.$Agent().navigator().mobile){this._htDeviceSize=MobileCommentJindo.$Document().clientSize();
}else{this._htDeviceSize={width:window.screen.width,height:window.screen.height};
}},_initContainerTop:function(){var b=0;
var a=this.option("bUseEffect");
var c=this.option("sEffectType");
if(a&&(c=="slide-up"||c=="slide-down")){b=this._htDeviceSize.height*((c=="slide-up")?1:-1);
}b+=window.pageYOffset;
this._htWElement.dialog_container.css("top",b+"px");
},_initElement:function(){this._htWElement.dialog_foggy.css({position:"absolute",padding:"0px",margin:"0px",border:"0px",backgroundColor:this.option("sFoggyColor"),opacity:this.option("nFoggyOpacity"),width:this._htDeviceSize.width+"px",height:this._htDeviceSize.height+"px",left:"0px",top:"0px"});
this._htWElement.dialog_foggy.appendTo(this._getContainer());
this._htWElement.dialog_layer.css({position:"relative",backgroundColor:"white"});
this._htWElement.dialog_layer.appendTo(this._getContainer());
this._htWElement.dialog_container.css({position:"absolute",overflow:"hidden",width:this._htDeviceSize.width+"px",height:this._htDeviceSize.height+"px",left:"0px",zIndex:100});
this._initContainerTop();
this._htWElement.dialog_container.hide();
this._htWElement.dialog_container.appendTo(document.body);
if(this.option("bUseEffect")){this._oLayerEffect=new MobileCommentJindo.m.LayerEffect(this._getContainer());
}this._htWElement.dialog_clone.css({position:"absolute",left:"-1000px",top:"-1000px"});
this._htWElement.dialog_clone.appendTo(document.body);
this._htWElement.dialog_clone.hide();
},_onActivate:function(){this._attachEvent();
},_onDeactivate:function(){this._detachEventAll();
},_attachEvent:function(){this._htEvent={};
this._htEvent.click={ref:MobileCommentJindo.$Fn(this._onClick,this).attach(this.getDialog(),"click"),el:this.getDialog()};
this._htEvent.touchend={ref:MobileCommentJindo.$Fn(this._onClick,this).attach(this._getFoggy(),"touchend"),el:this._getFoggy()};
this._htEvent.touchmove={ref:MobileCommentJindo.$Fn(this._onTouchMove,this).attach(this._getContainer(),"touchmove"),el:this._getContainer()};
if(this.option("bAutoReposition")){this._htEvent.rotate=MobileCommentJindo.$Fn(this._onResize,this).bind();
MobileCommentJindo.m.bindRotate(this._htEvent.rotate);
}},_detachEvent:function(a){if(a){var b=this._htEvent[a];
if(b.ref){b.ref.detach(b.el,a);
}}},_detachEventAll:function(){for(var a in this._htEvent){this._detachEvent(a);
}MobileCommentJindo.m.unbindRotate(this._htEvent.rotate);
this._htEvent=null;
},_onClick:function(c){var d=this.option("sClassPrefix");
var g,a,h,b,f;
if((g=MobileCommentJindo.m.getClosest(("."+d+"close"),c.element))){if(this.fireEvent("close",{sType:"close",elLayer:this.getDialog()})){this.hide();
}}else{if((a=MobileCommentJindo.m.getClosest(("."+d+"confirm"),c.element))){if(this.fireEvent("confirm",{sType:"confirm",elLayer:this.getDialog()})){this.hide();
}}else{if((h=MobileCommentJindo.m.getClosest(("."+d+"cancel"),c.element))){if(this.fireEvent("cancel",{sType:"cancel",elLayer:this.getDialog()})){this.hide();
}}else{if((b=MobileCommentJindo.m.getClosest(("."+d+"layer"),c.element))){if((f=MobileCommentJindo.m.getClosest(("a"),c.element))){return false;
}}else{if(this.option("bAutoClose")){this.hide();
}}}}}c.stop();
return false;
},_onTouchStart:function(b){var c=this.option("sClassPrefix");
var a;
if(!(a=MobileCommentJindo.m.getClosest(("."+c+"layer"),b.element))){b.stop(MobileCommentJindo.$Event.CANCEL_ALL);
return false;
}},_onTouchMove:function(a){a.stop(MobileCommentJindo.$Event.CANCEL_ALL);
return false;
},_onResize:function(a){if(this._bProcessingShow||this._bProcessingHide){if(this.option("bUseEffect")){this._getLayerEffect().stop();
}else{if(this._bProcessingShow){this._endShowEffect();
}else{this._endHideEffect();
}}}if(this._oTimeout){clearTimeout(this._oTimeout);
this._oTimeout=null;
}if(this.isShown()&&this._bIOS){this._htWElement.dialog_container.hide();
}this._oTimeout=setTimeout(MobileCommentJindo.$Fn(function(){this._resizeDocument();
if(this.isShown()&&this._bIOS){this._htWElement.dialog_container.show();
}},this).bind(),300);
},_resizeDocument:function(){this._setDeviceSize();
this._htWElement.dialog_container.css({width:this._htDeviceSize.width+"px",height:this._htDeviceSize.height+"px"});
this._htWElement.dialog_foggy.css({width:this._htDeviceSize.width+"px",height:this._htDeviceSize.height+"px"});
this._resizeDialog(true);
if(this.option("bUseEffect")){this._getLayerEffect().setSize();
}},_resizeDialog:function(a){if(this._setDialogSize()||a){this._repositionDialog();
}},_getLayerEffect:function(){return this._oLayerEffect;
},_getContainer:function(){return this._htWElement.dialog_container.$value();
},_getFoggy:function(){return this._htWElement.dialog_foggy.$value();
},getDialog:function(){return this._htWElement.dialog_layer.$value();
},setTemplate:function(a){this._sTemplate=a;
this._oTemplate=MobileCommentJindo.$Template(this._sTemplate);
this._htWElement.dialog_clone.html(a);
this._resizeDialog();
},getTemplate:function(){return this._sTemplate;
},_setDialogSize:function(){var a;
var b;
if(this.option("sPosition")=="all"){a=this._htDeviceSize.width;
b=this._htDeviceSize.height;
}else{this._htWElement.dialog_clone.show();
a=Math.min(this._htWElement.dialog_clone.width(),this._htDeviceSize.width);
b=Math.min(this._htWElement.dialog_clone.height(),this._htDeviceSize.height);
this._htWElement.dialog_clone.hide();
}if(this._htDialogSize.width==a&&this._htDialogSize.height==b){return false;
}this._htDialogSize={width:a,height:b};
this._htWElement.dialog_layer.css({width:a+"px",height:b+"px"});
return this._htDialogSize;
},_getDialogSize:function(){return this._htDialogSize;
},_repositionDialog:function(){var a=this._getDialogPosition();
this._htWElement.dialog_layer.css({top:a.top+"px",left:a.left+"px"});
this._htWElement.dialog_container.css({top:window.pageYOffset+"px",left:window.pageXOffset+"px"});
if(!this.isShown()){var b=this.option("sEffectType");
if(b=="slide-up"||b=="slide-down"){this._initContainerTop();
}}},_getDialogPosition:function(){var c=this._htDeviceSize.width;
var b=this._htDeviceSize.height;
var d=this._getDialogSize().width;
var f=this._getDialogSize().height;
var a={};
switch(this.option("sPosition")){case"top":a.top=0;
a.left=parseInt((c-d)/2,10);
break;
case"center":a.top=parseInt((b-f)/2,10);
a.left=parseInt((c-d)/2,10);
break;
case"bottom":a.top=parseInt(b-f,10);
a.left=parseInt((c-d)/2,10);
break;
case"all":a.top=0;
a.left=0;
break;
}return a;
},setPosition:function(a){if(a=="top"||a=="center"||a=="bottom"||a=="all"){this.option("sPosition",a);
}this._resizeDialog();
},useEffect:function(){if(this.option("bUseEffect")){return false;
}this.option("bUseEffect",true);
this._initContainerTop();
},unuseEffect:function(){if(!this.option("bUseEffect")){return false;
}this.option("bUseEffect",false);
this._initContainerTop();
},setEffectType:function(a){this.useEffect();
if(a=="pop"||a=="slide-up"||a=="slide-down"||a=="flip"){this.option("sEffectType",a);
this._initContainerTop();
}},setEffectDuration:function(a){this.useEffect();
if(a&&a>99){this.option("nEffectDuration",a);
}},setEffect:function(a){this.useEffect();
if(a.type){this.setEffectType(a.type);
}if(a.duration){this.setEffectDuration(a.duration);
}},isShown:function(){return this._bIsShown;
},show:function(a,b){if(this.isShown()){return false;
}this._bProcessingShow=true;
this._htEvent.touchstart={ref:MobileCommentJindo.$Fn(this._onTouchStart,this).attach(document,"touchstart"),el:document};
if(b){this._showAttachedEvent=b;
this.attach(b);
}this._resizeDocument();
if(typeof a=="undefined"){a={};
}else{this._htWElement.dialog_clone.html(this._oTemplate.process(a));
this._resizeDialog();
}this._htWElement.dialog_layer.html(this._oTemplate.process(a));
if(!this.fireEvent("beforeShow",{sType:"beforeShow",elLayer:this.getDialog()})){return;
}this._showDialogLayer();
},_showDialogLayer:function(){if(this.option("bUseEffect")){this._getLayerEffect().attach("afterEffect",MobileCommentJindo.$Fn(this._endShowEffect,this).bind());
this._startShowEffect();
}else{this._htWElement.dialog_container.show();
this._endShowEffect();
}},_startShowEffect:function(){var b=this.option("sEffectType");
var a=this.option("nEffectDuration");
switch(b){case"slide-up":this._htWElement.dialog_container.show();
this._getLayerEffect().setSize();
this._getLayerEffect().slide({sDirection:"up",nDuration:a});
break;
case"slide-down":this._htWElement.dialog_container.show();
this._getLayerEffect().setSize();
this._getLayerEffect().slide({sDirection:"down",nDuration:a});
break;
case"pop":this._getLayerEffect().pop({sDirection:"in",nDuration:a,htFrom:{opacity:1}});
break;
case"flip":this._htWElement.dialog_container.show();
this._getLayerEffect().flip({nDuration:a,elFlipFrom:this._getContainer(),elFlipTo:this._getContainer(),htFrom:{opacity:0},htTo:{opacity:1}});
break;
}},_endShowEffect:function(){if(this.option("bUseEffect")){this._getLayerEffect().detachAll("afterEffect");
}this.fireEvent("show",{sType:"show",elLayer:this.getDialog()});
this._bIsShown=true;
this._bProcessingShow=false;
},hide:function(){if(!this.isShown()){return false;
}this._bProcessingHide=true;
if(!this.fireEvent("beforeHide",{sType:"beforeHide",elLayer:this.getDialog()})){return;
}this._hideDialogLayer();
},_hideDialogLayer:function(){if(this.option("bUseEffect")){this._getLayerEffect().attach("afterEffect",MobileCommentJindo.$Fn(this._endHideEffect,this).bind());
this._startHideEffect();
}else{this._htWElement.dialog_container.hide();
this._endHideEffect();
}},_startHideEffect:function(){var b=this.option("sEffectType");
var a=this.option("nEffectDuration");
switch(b){case"slide-up":this._getLayerEffect().slide({sDirection:"down",nDuration:a});
break;
case"slide-down":this._getLayerEffect().slide({sDirection:"up",nDuration:a});
break;
case"pop":this._getLayerEffect().pop({sDirection:"out",nDuration:a,htTo:{opacity:0}});
break;
case"flip":this._getLayerEffect().flip({nDuration:a,elFlipFrom:this._getContainer(),elFlipTo:this._getContainer(),htTo:{opacity:0}});
break;
}},_endHideEffect:function(){if(this.option("bUseEffect")){this._getLayerEffect().detachAll("afterEffect");
}this.fireEvent("hide",{sType:"hide",elLayer:this.getDialog()});
if(this._showAttachedEvent){for(var a in this._showAttachedEvent){this.detachAll(a);
}this._showAttachedEvent=null;
}this._detachEvent("touchstart");
this._htWElement.dialog_container.hide();
this._htWElement.dialog_container.css("opacity",1);
if(window.pageYOffset||window.pageXOffset){this._htWElement.dialog_container.css({top:"0px",left:"0px"});
}this._bIsShown=false;
this._bProcessingHide=false;
},destroy:function(){this._detachEventAll();
if(this.option("bUseEffect")){this._getLayerEffect().destroy();
this._oLayerEffect=null;
}this._htWElement.dialog_container.leave();
this._htWElement.dialog_clone.leave();
this._htWElement=null;
this._htDeviceSize=null;
this._htDialogSize=null;
this._sTemplate=null;
this._oTemplate=null;
this._bIsShown=null;
this._bProcessingShow=null;
this._bProcessingHide=null;
this._oTimeout=null;
this._htDeviceInfo=null;
this._bIOS=null;
this._bAndroid=null;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.DropArea=MobileCommentJindo.$Class({$init:function(b,a){this.option({sClassPrefix:"drop-",oDragInstance:null,bActivateOnload:true,bUseTouchPoint:false});
this.option(a||{});
this._initVar();
this._setWrapperElement(b);
if(this.option("bActivateOnload")){this.activate();
}},_initVar:function(){this._waOveredDroppableElement=MobileCommentJindo.$A([]);
this._sEvent="ontouchstart" in window?"touchmove":"mousemove";
this._sDropClassName="."+this.option("sClassPrefix")+"area";
this._aItem=null;
this._aItemRect=null;
this._elHandle=null;
this._elDragging=null;
},_setWrapperElement:function(a){this._htWElement={};
var a=MobileCommentJindo.$(a);
this._htWElement.base=MobileCommentJindo.$Element(a);
},_getRectInfo:function(a){var b=MobileCommentJindo.$Element(a).offset();
return{nLeft:b.left,nTop:b.top,nRight:b.left+a.offsetWidth,nBottom:b.top+a.offsetHeight};
},_reCalculate:function(){var b=this._htWElement.base.$value();
var a=MobileCommentJindo.$$(this._sDropClassName,b);
if(b.tagName&&MobileCommentJindo.$$.test(b,this._sDropClassName)){a.push(b);
}this._aItem=a;
this._aItemRect=[];
for(var c=0,d;
(d=a[c]);
c++){this._aItemRect.push(this._getRectInfo(d));
}},_findDroppableElement:function(b){var a=MobileCommentJindo.$$.test(b,this._sDropClassName)?b:MobileCommentJindo.m.getClosest(this._sDropClassName,b);
if(!this._isChildOfDropArea(b)){a=null;
}return a;
},_isChildOfDropArea:function(a){if(this._el===document||this._el===a){return true;
}return this._htWElement.base.isParentOf(a);
},_isDropMove:function(a,b,f,m){var n=this._aItem;
var d=this._aItemRect;
if(!this.option("bUseTouchPoint")){for(var g=0,o,c;
((o=d[g])&&(c=n[g]));
g++){var l=this._checkOverArea({nMin:o.nLeft,nMax:o.nRight},{nMin:a,nMax:f});
var h=this._checkOverArea({nMin:o.nTop,nMax:o.nBottom},{nMin:b,nMax:m});
if(l&&h){this._addOveredDroppableElement(c);
this._fireMoveEvent(c,o,{nX:a,nY:b});
}else{this._removeOveredDroppableElement(c);
}}}else{for(var g=0,o,c;
((o=d[g])&&(c=n[g]));
g++){if(o.nLeft<=a&&a<=o.nRight&&o.nTop<=b&&b<=o.nBottom){this._addOveredDroppableElement(c);
this._fireMoveEvent(c,o,{nX:a,nY:b});
}else{this._removeOveredDroppableElement(c);
}}}},_checkOverArea:function(b,a){if(a.nMin<b.nMin){if(a.nMax>b.nMin){return true;
}}else{if(a.nMin<b.nMax){return true;
}}return false;
},_fireMoveEvent:function(f,c,d){var b=(d.nX-c.nLeft)/(c.nRight-c.nLeft);
var a=(d.nY-c.nTop)/(c.nBottom-c.nTop);
this.fireEvent("move",{elHandle:this._elHandle,elDrag:this._elDragging,elDrop:f,nRatioX:b,nRatioY:a});
},_addOveredDroppableElement:function(a){if(this._waOveredDroppableElement.indexOf(a)==-1){this._waOveredDroppableElement.push(a);
this.fireEvent("over",{elHandle:this._elHandle,elDrag:this._elDragging,elDrop:a});
}},_removeOveredDroppableElement:function(b){var a=this._waOveredDroppableElement.indexOf(b);
if(a!=-1){this._waOveredDroppableElement.splice(a,1);
this.fireEvent("out",{elHandle:this._elHandle,elDrag:this._elDragging,elDrop:b});
}},_clearOveredDroppableElement:function(){for(var a;
(a=this._waOveredDroppableElement.$value()[0]);
){this._waOveredDroppableElement.splice(0,1);
this.fireEvent("drop",{elHandle:this._elHandle,elDrag:this._elDragging,elDrop:a});
}},getOveredLists:function(){return this._waOveredDroppableElement?this._waOveredDroppableElement.$value():[];
},_onActivate:function(){this._attachEvent();
if(this.option("oDragInstance")){var b=this.option("oDragInstance");
var a=this;
b.attach({handleDown:function(c){a._elHandle=c.elHandle;
a._elDragging=c.elDrag;
a._waOveredDroppableElement.empty();
a.fireEvent(c.sType,c);
},dragStart:function(c){if(!a.fireEvent(c.sType,c)){c.stop();
}else{a._reCalculate();
}},beforeDrag:function(c){a.fireEvent(c.sType,c);
},drag:function(g){a._elDragging=g.elDrag;
var d=MobileCommentJindo.$Element(g.elDrag);
var h=a.option("bUseTouchPoint")?g.nTouchY:g.nY;
var l=a.option("bUseTouchPoint")?g.nTouchX:g.nX;
var c=l+d.width();
var f=h+d.height();
a._isDropMove(l,h,c,f);
a.fireEvent(g.sType,g);
},dragEnd:function(c){var d={};
d.aElDrop=a.getOveredLists().concat();
for(var f in c){d[f]=c[f];
}a._clearOveredDroppableElement();
a.fireEvent(c.sType,d);
},handleUp:function(c){a.fireEvent("handleUp",{elHandle:a._elHandle,elDrag:a._elDragging});
a._elHandle=null;
a._elDragging=null;
}});
}},_onDeactivate:function(){this._detachEvent();
if(this.option("oDragInstance")){var a=this.option("oDragInstance");
a.detachAll();
}},_attachEvent:function(){this._htEvent={};
},_detachEvent:function(){this._htEvent=null;
},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null;
}this._htWElement=null;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.Flicking=MobileCommentJindo.$Class({$init:function(b,a){this.option({bHorizontal:true,sClassPrefix:"flick-",bActivateOnload:true,nDefaultIndex:0,bAutoResize:true,nFlickThreshold:40,nDuration:200,bUsePreserve3dForAndorid:false});
this.option(a||{});
this._setWrapperElement(b);
this._initVar();
this._setSize();
this._initScroll();
this._updateSizeInfo();
if(this.option("bActivateOnload")){this.activate();
this.moveTo(this.option("nDefaultIndex"),0);
}},_initScroll:function(){this._oCore=new MobileCommentJindo.m.CoreScroll(this._htWElement.base.$value(),{bUseHScroll:this.option("bHorizontal"),bUseVScroll:!this.option("bHorizontal"),bUseMomentum:false,bUsePreserve3dForAndorid:this.option("bUsePreserve3dForAndorid"),bActivateOnload:false});
this._oCore.attach({beforeScroll:MobileCommentJindo.$Fn(this._onBeforeScrollEnd,this).bind(),afterScroll:MobileCommentJindo.$Fn(this._onScrollEnd,this).bind()});
},_initVar:function(){this.bHorizontal=(this.option("bHorizontal"))?true:false;
this.nCurrentIndex=this.option("nDefaultIndex");
this.nNextIndex=this.nCurrentIndex;
this.bResizeing=false;
},_setWrapperElement:function(a){this._htWElement={};
a=MobileCommentJindo.$(a);
var c="."+this.option("sClassPrefix");
this._htWElement.base=MobileCommentJindo.$Element(a);
this._htWElement.wrapper=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(c+"container",a));
var b=MobileCommentJindo.$$(c+"ct",a);
this._htWElement.aContent=MobileCommentJindo.$A(b).forEach(function(f,d,g){g[d]=MobileCommentJindo.$Element(f);
}).$value();
},_setSize:function(){if(!this.option("bAutoResize")){return;
}var c=this._htWElement.aContent.length;
if(this.bHorizontal){var a=this._htWElement.base.width();
this._htWElement.wrapper.width(a*c);
MobileCommentJindo.$A(this._htWElement.aContent).forEach(function(d){d.width(a);
});
}else{var b=this._htWElement.aContent[0].height();
this._htWElement.wrapper.height(b*c);
}},_updateSizeInfo:function(){var a=this.bHorizontal?"width":"height";
this._htPosition=[];
var c=0;
for(var b=0,d=this._htWElement.aContent.length;
b<d;
b++){if(b!=0){c+=this._htWElement.aContent[b-1][a]()*-1;
}this._htPosition.push(c);
}},_onBeforeScrollEnd:function(c){var a=c.nTime;
var b=this._getSnap(c.nLeft,c.nTop,c.nDistanceX,c.nDistanceY,c.nMomentumX,c.nMomentumY);
c.nNextLeft=b.nX;
c.nNextTop=b.nY;
c.nTime=b.nTime;
this.nNextIndex=b.nIndex;
},_onScrollEnd:function(){if(!this.bResizeing&&(this.nNextIndex!=this.nCurrentIndex)){this._setContentIndex(this.nNextIndex);
this.fireEvent("afterFlicking",{nContentsIndex:this.getContentIndex()});
}if(this.bResizeing){this.bResizeing=false;
}},_getSnap:function(u,r,n,h,o,m){var s=nPosY=nNewPos=0;
var b=this._htWElement.aContent.length-1;
var f=this.bHorizontal?u:r;
var g=this.bHorizontal?n:h;
var l=this.bHorizontal?o:m;
for(var d=0,t=this._htPosition.length;
d<t;
d++){if(f>=(this._htPosition[d])){b=d;
break;
}}if(b==this.nCurrentIndex&&b>0&&g>0){b--;
}if((Math.abs(g)<=this.option("nFlickThreshold"))){if(!(!MobileCommentJindo.m.getDeviceInfo().android&&l!=0)){b=this.nCurrentIndex;
}}nNewPos=this._htPosition[b];
var q=Math.abs(this._htPosition[b]-this._htPosition[this.nCurrentIndex]);
var c=q?Math.abs((nNewPos-f)/q):0;
var a=(!MobileCommentJindo.m.getDeviceInfo().android&&(l!=0))?Math.round(this.option("nDuration")*c*0.5):this.option("nDuration");
a=Math.min(a,this.option("nDuration"));
return{nX:this.bHorizontal?nNewPos:s,nY:this.bHorizontal?nPosY:nNewPos,nTime:Math.round(a),nIndex:b};
},_getPosition:function(a){var b=nPosY=0;
if(typeof a=="undefined"){a=this.nCurrentIndex;
}a=Math.max(0,a);
a=Math.min(this._htPosition.length-1,a);
return{nX:this.bHorizontal?this._htPosition[a]:b,nY:this.bHorizontal?nPosY:this._htPosition[a]};
},_setContentIndex:function(a){this.nCurrentIndex=a;
},getContentIndex:function(){return this.nCurrentIndex;
},getContentElement:function(){return this._htWElement.aContent[this.getContentIndex()];
},getTotalContents:function(){return this._htWElement.aContent.length;
},getPrevIndex:function(){return Math.max(this.nCurrentIndex-1,0);
},getPrevElement:function(){if(this.nCurrentIndex-1<0){return null;
}else{return this._htWElement.aContent[this.nCurrentIndex-1];
}},getNextIndex:function(){return Math.min(this.nCurrentIndex+1,this._htWElement.aContent.length-1);
},getNextElement:function(){if(this.nCurrentIndex+1>this._htWElement.aContent.length-1){return null;
}else{return this._htWElement.aContent[this.nCurrentIndex+1];
}},moveTo:function(a,b){if(a<0||a>this._htWElement.aContent.length-1){return;
}if(typeof b=="undefined"){b=this.option("nDuration");
}var d=this._getPosition(a);
this.nNextIndex=a;
var c=this._oCore.getCurrentPos();
if((d.nY!==c.nTop)||(d.nX!==c.nLeft)){this._oCore.scrollTo(d.nX,d.nY,b);
}else{this._onScrollEnd();
}},movePrev:function(a){this.moveTo(this.getPrevIndex(),a);
},moveNext:function(a){this.moveTo(this.getNextIndex(),a);
},isAnimating:function(){return this._oCore.isMoving();
},_onResize:function(a){var b=this;
this._setSize();
this._updateSizeInfo();
this._oCore.refresh(true);
b.bResizeing=true;
b.moveTo(b.nCurrentIndex,0);
},_onActivate:function(){this._oCore.activate();
this._attachEvent();
},_onDeactivate:function(){this._oCore.deactivate();
this._detachEvent();
},_attachEvent:function(){this._htEvent={};
this._htEvent.rotate=MobileCommentJindo.$Fn(this._onResize,this).bind();
MobileCommentJindo.m.bindRotate(this._htEvent.rotate);
},_detachEvent:function(){for(p in this._htEvent){var a=this._htEvent[p];
if(a.ref){a.ref.detach(a.el,p);
}}MobileCommentJindo.m.unbindRotate(this._htEvent.rotate);
this._htEvent=null;
},destroy:function(){this.deactivate();
this._oCore.destroy();
delete this._oCore;
for(var a in this._htWElement){this._htWElement[a]=null;
}this._htWElement=null;
this.bHorizontal=null;
this.nCurrentIndex=null;
this._htPosition=null;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.FloatingLayer=MobileCommentJindo.$Class({$init:function(b,a){this.option({bActivateOnload:true,sPosition:"bottom",sDirection:"up",nSlideDuration:500,sSlideTimingFunction:"ease-in-out",nFadeInDuration:0,sFadeInTimingFunction:"ease-in-out",nFadeOutDuration:0,sFadeOutTimingFunction:"ease-in-out",nTimeout:-1});
this.option(a||{});
this._initVar();
this._setWrapperElement(b);
if(this.option("bActivateOnload")){this.activate();
}},_initVar:function(){this._oFloatingEffect=null;
this._oFadeinEffect=null;
this._oLayerPosition=null;
this._oScrollEnd=null;
this._nTimeoutTimer=-1;
this._isLayerOn=false;
this._isMoving=false;
},_setWrapperElement:function(a){this._htWElement={};
this._htWElement.element=MobileCommentJindo.$Element(a);
this._htWElement.viewElement=MobileCommentJindo.$Element(this._createView());
if(MobileCommentJindo.m.getDeviceInfo().android&&parseInt(MobileCommentJindo.m.getDeviceInfo().version,10)>=3){this._htWElement.targetElement=this._htWElement.viewElement;
}else{this._htWElement.targetElement=this._htWElement.element;
}},_initComponent:function(){var a=this,b=this._htWElement.element.$value();
this._oLayerPosition=new MobileCommentJindo.m.LayerPosition(this._htWElement.viewElement.$value(),{sPosition:this.option("sPosition"),bActivateOnload:false,bAutoReposition:true});
this._oFloatingEffect=new MobileCommentJindo.m.LayerEffect(b);
if(this.option("nFadeInDuration")!==0){this._oFadeinEffect=new MobileCommentJindo.m.LayerEffect(this._htWElement.targetElement.$value(),{nDuration:this.option("nFadeInDuration")}).attach("afterEffect",function(){a._startHideTimer();
});
}this._oScrollEnd=new MobileCommentJindo.m.ScrollEnd();
},getLayer:function(){return this._htWElement.element.$value();
},_createView:function(){var a=this._htWElement.element.visible(),b=this._htWElement.element.query("._floatingLayer_view_divtag_");
if(!b){b=MobileCommentJindo.$Element("<div class='_floatingLayer_view_divtag_'>");
}else{b=MobileCommentJindo.$Element(b);
}if(!a){this._htWElement.element.css({left:"-9999px"}).show();
}b.css({width:this._htWElement.element.width()+"px",height:this._htWElement.element.height()+"px",zIndex:1000});
if(!a){this._htWElement.element.hide();
}return b;
},resize:function(b,a){this._htWElement.viewElement.css({width:b+"px",height:a+"px"});
this._oLayerPosition.setPosition();
},show:function(){if(this._fireEvent("beforeShow")){if(!this._oLayerPosition.isActivating()){this._oLayerPosition.activate();
}this._setFloatingEffect(true);
this._htWElement.element.show();
this._oFloatingEffect.slide({sDirection:this.option("sDirection"),nDuration:this.option("nSlideDuration"),sTransitionTimingFunction:this.option("sSlideTimingFunction"),elBaseLayer:this._htWElement.viewElement.$value()});
}},hide:function(){if(this._fireEvent("beforeHide")){this._stopHideTimer();
if(this._oLayerPosition.isActivating()){this._oLayerPosition.deactivate();
}this._detachFloatingEvent();
this._setFloatingEffect(false);
if(this.option("nFadeOutDuration")!==0){this._oFloatingEffect.fade({sDirection:"out",nDuration:this.option("nFadeOutDuration"),sTransitionTimingFunction:this.option("sFadeOutTimingFunction")});
}else{this._htWElement.targetElement.hide();
this._fireEvent("hide");
}}},_fireEvent:function(a){return this.fireEvent(a,{welLayer:this._htWElement.element});
},_startHideTimer:function(){if(this.option("nTimeout")>-1){var a=this;
this._stopHideTimer();
this._nTimeoutTimer=setTimeout(function(){a.hide();
},this.option("nTimeout"));
}},_stopHideTimer:function(){clearTimeout(this._nTimeoutTimer);
this._nTimeoutTimer=-1;
},_onTouchStart:function(a){this._initFloatingData();
if(this._isLayer(a.element)){this._isLayerOn=true;
this._htWElement.targetElement.show();
}else{this._htWElement.targetElement.hide();
}},_onScrollEnd:function(a){this._runFadeIn();
},_onTouchMove:function(a){this._isMoving=true;
},_onTouchEnd:function(a){if(this._isLayerOn){this._oLayerPosition.setPosition();
return;
}else{if(!this._isMoving){this._runFadeIn();
}}},_runFadeIn:function(){if(this._isLayerOn){this._startHideTimer();
}else{this._fadeIn();
}},_fadeIn:function(){this._oLayerPosition.setPosition();
if(this._oFadeinEffect){this._oFadeinEffect.clearEffect(true);
this._oFadeinEffect.fade({sDirection:"in",sTransitionTimingFunction:this.option("sFadeInTimingFunction")});
}else{this._htWElement.targetElement.show();
this._startHideTimer();
}},_isLayer:function(a){if(a&&(a===this._htWElement.element.$value()||this._htWElement.element.isParentOf(a))){return true;
}else{return false;
}},_initFloatingData:function(){this._stopHideTimer();
if(this._oFloatingEffect&&this.option("nFadeOutDuration")!==0){this._oFloatingEffect.clearEffect(true);
}if(this._oFadeinEffect){this._oFadeinEffect.clearEffect(true);
}this._isMoving=false;
this._isLayerOn=false;
},_onActivate:function(){this._initComponent();
},_onDeactivate:function(){this._detachEvent();
if(this._oFadeinEffect){this._oFadeinEffect.detachAll("afterEffect");
this._oFadeinEffect.destroy();
}this._oFloatingEffect.destroy();
this._oScrollEnd.destroy();
this._oLayerPosition.destroy();
document.body.appendChild(this._htWElement.element.$value());
this._htWElement.viewElement.leave();
},_attachFloatingEvent:function(){this._htEvent={};
this._htEvent.event_touchstart={el:document,ref:MobileCommentJindo.$Fn(this._onTouchStart,this).attach(document,"touchstart")};
this._htEvent.event_touchmove={el:document,ref:MobileCommentJindo.$Fn(this._onTouchMove,this).attach(document,"touchmove")};
this._htEvent.event_touchend={el:document,ref:MobileCommentJindo.$Fn(this._onTouchEnd,this).attach(document,"touchend")};
this._oScrollEnd.attach("scrollEnd",MobileCommentJindo.$Fn(this._onScrollEnd,this).bind());
},_detachEvent:function(){this._detachFloatingEvent();
},_setFloatingEffect:function(b){var a=this;
this._oFloatingEffect.detachAll("afterEffect");
this._oFloatingEffect.clearEffect(true);
if(this._oFadeinEffect){this._oFadeinEffect.clearEffect(true);
}if(b){this._oFloatingEffect.attach("afterEffect",function(){a._attachFloatingEvent();
a._startHideTimer();
a._fireEvent("show");
});
}else{if(this.option("nFadeOutDuration")!==0){this._oFloatingEffect.attach("afterEffect",function(){a._fireEvent("hide");
});
}}},_detachFloatingEvent:function(){for(var b in this._htEvent){var a=this._htEvent[b];
if(a.ref){a.ref.detach(a.el,b.substring(b.lastIndexOf("_")+1));
}}this._oScrollEnd.detachAll("scrollEnd");
this._htEvent=null;
},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null;
}delete this._htWElement;
this._initFloatingData();
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.LayerManager=MobileCommentJindo.$Class({$init:function(c,b){var a=MobileCommentJindo.m.getDeviceInfo();
this.option({bActivateOnload:true});
this.option(b||{});
this._initVar();
this._setWrapperElement(c);
if(this.option("bActivateOnload")){this.activate();
}},_initVar:function(){this._aLink=[];
this._oTouch=null;
},_setWrapperElement:function(a){this._htWElement={};
this.setLayer(a);
},_onActivate:function(){this._attachEvent();
},_onDeactivate:function(){this._detachEvent();
},setLayer:function(a){a=(typeof a=="string"?MobileCommentJindo.$(a):a);
this._htWElement.element=MobileCommentJindo.$Element(a);
this._htWElement.element.css("position","absolute");
return this;
},getVisible:function(){return this._htWElement.element.visible();
},getLayer:function(){return this._htWElement.element.$value();
},getLinks:function(){return this._aLink;
},link:function(b){if(arguments.length>1){for(var c=0,a=arguments.length;
c<a;
c++){this.link(arguments[c]);
}return this;
}if(this._find(b)!=-1){return this;
}this._aLink.push(b);
return this;
},unlink:function(c){if(arguments.length>1){for(var d=0,b=arguments.length;
d<b;
d++){this.unlink(arguments[d]);
}return this;
}var a=this._find(c);
if(a>-1){this._aLink.splice(a,1);
}return this;
},_check:function(d){var b=MobileCommentJindo.$Element(d);
for(var c=0,a,f;
(a=this._aLink[c]);
c++){f=MobileCommentJindo.$Element(a);
if(f){a=f.$value();
if(a&&(d==a||b.isChildOf(a))){return true;
}}}return false;
},_find:function(c){for(var b=0,a;
(a=this._aLink[b]);
b++){if(a==c){return b;
}}return -1;
},_fireEventBeforeShow:function(){return this.fireEvent("beforeShow",{elLayer:this.getLayer(),aLinkedElement:this.getLinks()});
},_fireEventShow:function(){this.fireEvent("show",{elLayer:this.getLayer(),aLinkedElement:this.getLinks()});
},_fireEventBeforeHide:function(a){return this.fireEvent("beforeHide",{elTarget:a,elLayer:this.getLayer(),aLinkedElement:this.getLinks()});
},_fireEventHide:function(a){this.fireEvent("hide",{elTarget:a,elLayer:this.getLayer(),aLinkedElement:this.getLinks()});
},show:function(){if(!this.getVisible()){if(this._fireEventBeforeShow()){this._htWElement.element.show();
this._fireEventShow();
}}return this;
},hide:function(a){if(this.getVisible()){if(this._fireEventBeforeHide(a)){this._htWElement.element.hide();
this._fireEventHide(a);
}}return this;
},toggle:function(){if(this.getVisible()){this.hide();
}else{this.show();
}return this;
},_onEvent:function(a){var b=a.element;
if(this.getVisible()){if(this._check(b)){this.fireEvent("ignore",{elTarget:b});
}else{this.hide(b);
return true;
}a.stop();
}},_attachEvent:function(){var a=this;
this._oTouch=new MobileCommentJindo.m.Touch(document).attach("touchEnd",function(b){if(b.sMoveType===MobileCommentJindo.m.MOVETYPE[3]){a._onEvent(b);
}});
},_detachEvent:function(){if(this._oTouch){this._oTouch.detachAll("touchEnd");
}},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null;
}this._htWElement=null;
delete this._aLink;
delete this._oTouch;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.Loading=MobileCommentJindo.$Class({$init:function(b,a){this.option({bActivateOnload:true,nWidth:31,nHeight:31,sDefaultForeground:"black",sDefaultBackground:"transparent",sLoadingText:"로딩중입니다",bUseFoggy:b?false:true,sFoggyColor:"gray",nFoggyOpacity:0.3});
this.option(a||{});
this._setWrapperElement(b);
if(this.option("bActivateOnload")){this.activate();
}},$static:{DELAY:["0","-.9167s","-.833s","-.75s","-.667s","-.5833s","-.5s","-.41667s","-.333s","-.25s","-.1667s","-.0833s"],ANIMATION_STYLE:"_loading_animation_sytle_",CONTAINER_CLASS:"_loading_container_class_"},_setWrapperElement:function(a){this._htWElement={};
this._htWElement.base=MobileCommentJindo.$Element(MobileCommentJindo.$(a)?MobileCommentJindo.$(a):document.body);
this._createLoading();
},_createLoading:function(){this._createLoadingStyle();
this._htWElement.container=MobileCommentJindo.$Element("<div style='zIndex: 1000'>").addClass(MobileCommentJindo.m.Loading.CONTAINER_CLASS);
if(this.option("bUseFoggy")){this._createFoggy().appendTo(this._htWElement.container);
}this._createLoadingElement();
this._htWElement.loadingbox=MobileCommentJindo.$Element("<div>").css({zIndex:1000,position:"absolute"}).append(this._htWElement.loading);
if(this.option("sLoadingText")){this._createLoadingText().appendTo(this._htWElement.loadingbox);
}this._htWElement.loadingbox.appendTo(this._htWElement.container);
},_createFoggy:function(){return this._htWElement.foggy=MobileCommentJindo.$Element("<div>").css({position:"absolute",padding:"0px",margin:"0px",border:"0px",backgroundColor:this.option("sFoggyColor"),opacity:this.option("nFoggyOpacity"),width:"100%",height:"100%",left:"0px",top:"0px",zIndex:1000});
},_setPosition:function(){var b=this._htWElement.loadingbox.width(),a=this._htWElement.loadingbox.height(),c;
if(this._isBody()){c=MobileCommentJindo.$Document().scrollPosition();
this._htWElement.container.css({left:c.left+"px",top:c.top+"px",});
this._htWElement.container.css({width:window.innerWidth+"px",height:window.innerHeight+"px"});
}else{if(this._htWElement.container.width()<b){this._htWElement.container.width(b);
}if(this._htWElement.container.height()<a){this._htWElement.container.height(a);
}}this._htWElement.loadingbox.css({top:"50%",left:"50%","margin-left":-parseInt(b/2,10)+"px","margin-top":-parseInt(a/2,10)+"px"});
},_isBody:function(){return this._htWElement.base.$value()===document.body;
},show:function(){if(this.fireEvent("beforeShow")){var a=this._htWElement.loading.queryAll("span"),c=MobileCommentJindo.m.getCssPrefix();
for(var b=0;
b<a.length;
b++){MobileCommentJindo.$Element(a[b]).css(c+"Animation","loadingfade 1s linear "+MobileCommentJindo.m.Loading.DELAY[b]+" infinite");
}this._attachEvent();
this._htWElement.container.show();
this._setPosition();
this.fireEvent("show");
}},hide:function(){if(this.fireEvent("beforeHide")){var a=this._htWElement.loading.queryAll("span"),c=MobileCommentJindo.m.getCssPrefix();
for(var b=0;
b<a.length;
b++){MobileCommentJindo.$Element(a[b]).css(c+"Animation","");
}this._detachEvent();
this._htWElement.container.hide();
this.fireEvent("hide");
}},_onPrevent:function(a){a.stop(MobileCommentJindo.$Event.CANCEL_ALL);
return false;
},_onRotate:function(b){if(this._htWElement.container.visible()){if(MobileCommentJindo.m.getDeviceInfo().andorid){this._setPosition();
}else{this._htWElement.container.hide();
var a=this;
setTimeout(function(){a._htWElement.container.show();
a._setPosition();
},0);
}}},_attachEvent:function(){this._htEvent.rotate=MobileCommentJindo.$Fn(this._onRotate,this).bind();
this._htEvent.prevent=MobileCommentJindo.$Fn(this._onPrevent,this).attach(this._htWElement.container,"touchstart").attach(this._htWElement.container,"touchmove");
if(this._isBody()){this._htEvent.prevent.attach(document.body,"touchstart");
}MobileCommentJindo.m.bindRotate(this._htEvent.rotate);
},_detachEvent:function(){if(this._htEvent.prevent){this._htEvent.prevent.detach(this._htWElement.container,"touchmove").detach(this._htWElement.container,"touchstart");
if(this._isBody()){this._htEvent.prevent.detach(document.body,"touchstart");
}}MobileCommentJindo.m.unbindRotate(this._htEvent.rotate);
},_createLoadingStyle:function(){if(!MobileCommentJindo.$(MobileCommentJindo.m.Loading.ANIMATION_STYLE)){var a=MobileCommentJindo.$("<style id='"+MobileCommentJindo.m.Loading.ANIMATION_STYLE+"' type='text/css'></style>");
document.getElementsByTagName("head")[0].appendChild(a);
a.sheet.insertRule("@-webkit-keyframes loadingfade{from{opacity:1}to{opacity:0}}",0);
}},_createLoadingElement:function(){var c=MobileCommentJindo.m.getCssPrefix(),a=[];
for(var b=0;
b<12;
b++){a.push("<span style='display:block;position:absolute;top:40%;left:48%;width:11%;height:24%;border-radius:6px;background:");
a.push(this.option("sDefaultForeground"));
a.push("; opacity:0; -");
a.push(c);
a.push("-transform:rotate(");
a.push(b*30);
a.push("deg) translate(0,-140%);'></span>");
}this._htWElement.loading=MobileCommentJindo.$Element("<div>").css({position:"relative",margin:"0 auto"}).html(a.join(""));
},refresh:function(){this._htWElement.loading.css({width:this.option("nWidth")+"px",height:this.option("nHeight")+"px",background:this.option("sDefaultBackground")});
if(this._htWElement.text){this._htWElement.text.html(this.option("sLoadingText"));
}},_createLoadingText:function(){return this._htWElement.text=MobileCommentJindo.$Element("<div>").css({margin:"2px 0 0 0",bottom:0,width:"100%","text-align":"center"});
},_onActivate:function(){this._htEvent={};
this._htWElement.container.appendTo(this._htWElement.base);
if(this._isBody()){this._htWElement.container.css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).hide();
}else{this._htWElement.container.css({position:"relative"}).hide();
}this.refresh();
},_onDeactivate:function(){this._detachEvent();
this._htWElement.container.leave();
},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null;
}this._htWElement=null;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.MoreContentButton=MobileCommentJindo.$Class({$init:function(b,a){this.option({sClassPrefix:"more_",nTotalItem:10,nShowMaxItem:10,nItemPerPage:10,nPage:1,bActivateOnload:true,htAjax:{}});
this.option(a||{});
this.option("nItem",this.option("nShowMaxItem"));
this._initVar();
this._setWrapperElement(b);
if(this.option("bActivateOnload")){this.activate();
this._nCurrentPage=this.option("nPage");
}},_initVar:function(){var b={sApi:null,htAjaxOption:{type:"xhr"},htQuery:{},sStart:"start",sDisplay:"display"};
var a=this.option("htAjax");
if(!a){this.option("htAjax",b);
return;
}for(var c in b){if(typeof a[c]=="undefined"){a[c]=b[c];
}}for(var c in b.htAjaxOption){if(typeof a.htAjaxOption[c]=="undefined"){a.htAjaxOption[c]=b.htAjaxOption[c];
}}for(var c in b.htQuery){if(typeof a.htQuery[c]=="undefined"){a.htQuery[c]=b.htQuery[c];
}}if(!!a.sApi){this.oAjax=new MobileCommentJindo.$Ajax(a.sApi,a.htAjaxOption);
}},_setWrapperElement:function(a){this._htWElement={};
a=MobileCommentJindo.$(a);
var b="."+this.option("sClassPrefix");
this._htWElement.elBase=MobileCommentJindo.$Element(a);
this._htWElement.elMoreButton=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(b+"button",a));
this._htWElement.elTop=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(b+"top",a));
this._htWElement.elLoading=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(b+"loading",a));
this._htWElement.elMoreCnt=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(b+"moreCnt",a));
this._htWElement.elTotal=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(b+"total",a));
this._htWElement.elCurrent=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(b+"current",a));
this._htWElement.elLast=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(b+"last",a));
if(!!this._htWElement.elLast){this._htWElement.elLastTotal=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(b+"total",this._htWElement.elLast.$value()));
this._htWElement.elLastCurrent=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(b+"current",this._htWElement.elLast.$value()));
}},_onClickMore:function(a){a.stop(MobileCommentJindo.$Event.CANCEL_DEFAULT);
if(this.hasNextPage()){this.more();
}},_onClickTop:function(a){a.stop(MobileCommentJindo.$Event.CANCEL_DEFAULT);
this.fireEvent("goTop",{element:a.element});
},more:function(d){if(typeof d=="undefined"){d=true;
}var c=this._nCurrentPage+1;
var b=this.getCurrentPage();
if(d){if(!this.fireEvent("beforeMore",{nPage:c,nCurrentPage:b})){return;
}}this.showLoadingImg();
if(!!this.option("htAjax").sApi){this._callAjax(c,true,d);
}else{this._move(c);
var a=this.getPageItemIndex(c);
if(d){this.fireEvent("more",{nPage:c,nStartIndex:a.nStart,nEndIndex:a.nEnd});
}this.updateInfo();
}},movePageTo:function(c,d){if(typeof d=="undefined"){d=true;
}var b=this.getCurrentPage();
if(d){if(!this.fireEvent("beforeMovePage",{nPage:c,nCurrentPage:b})){return;
}}this.showLoadingImg();
if(!!this.option("htAjax").sApi){this._callAjax(c,false,d);
}else{this._move(c);
var a=this.getPageItemIndex(c);
if(d){this.fireEvent("movePage",{nPage:c,nBeforePage:b,nStartIndex:0,nEndIndex:a.nEnd});
}this.updateInfo();
}},_move:function(a){var b=this._convertToAvailPage(a);
if(b!=this._nCurrentPage){this._nCurrentPage=b;
}},updateInfo:function(){var d=this.getCurrentPage();
var b=this.getPageItemIndex(d);
this.hideLoadingImg();
if(d>=this.getTotalPages()){this._htWElement.elBase.addClass("u_pg_end");
this._htWElement.elMoreButton.hide();
this._htWElement.elLast.show("block");
}else{this._htWElement.elBase.removeClass("u_pg_end");
this._htWElement.elMoreButton.show("block");
this._htWElement.elLast.hide();
}if(!!this._htWElement.elCurrent){var c=b.nEnd+1;
this._htWElement.elCurrent.text(this._setNumberFormat(c));
}if(typeof this._htWElement.elLastCurrent!="undefined"){this._htWElement.elLastCurrent.text(this._setNumberFormat(b.nEnd+1));
}if(!!this._htWElement.elTotal){this._htWElement.elTotal.text(this._setNumberFormat(this.option("nTotalItem")));
}if(typeof this._htWElement.elLastTotal!="undefined"){this._htWElement.elLastTotal.text(this._setNumberFormat(this.option("nTotalItem")));
}if(!!this._htWElement.elMoreCnt){var a=Math.min(this.getItemPerPage(),this.getItemCount()-b.nEnd-1);
this._htWElement.elMoreCnt.text(this._setNumberFormat(a));
}},_callAjax:function(b,c,d){var a=this;
this.oAjax.option("onload",null);
this.oAjax.option("onload",function(f){a._onAjaxResponse(f,b,c,d);
});
this.oAjax.request(this._getQueryString(b,c));
},_onAjaxResponse:function(c,b,d,f){if(f){this._move(b);
var g=d?"more":"movePage";
var a=this.getPageItemIndex(b);
this.fireEvent(g,{oResponse:c,nPage:b,nStartIndex:d?a.nStart:0,nEndIndex:a.nEnd});
}this.updateInfo();
},_getQueryString:function(b,d){if(typeof d==="undefined"){d=true;
}var c=this.option("htAjax").htQuery||{};
var a=this.getPageItemIndex(b);
c[this.option("htAjax").sStart]=d?a.nStart:0;
c[this.option("htAjax").sDisplay]=Math.min(this.getItemPerPage(),(this.getShowMaxItem()-a.nStart));
return c;
},_setNumberFormat:function(a){a=a.toString();
var d="";
var g=0;
var c=a.length;
for(var b=c;
b>=0;
b--){var f=a.charAt(b);
if(b>c){d=f+d;
continue;
}if(/[0-9]/.test(f)){if(g>=3){d=","+d;
g=0;
}g++;
d=f+d;
}}return d;
},showLoadingImg:function(){if(!!this._htWElement.elLoading){this._htWElement.elLoading.show();
}},hideLoadingImg:function(){if(!!this._htWElement.elLoading){this._htWElement.elLoading.hide();
}},reset:function(a){if(typeof a=="undefined"){a=this.option("nShowMaxItem");
}this.setShowMaxItem(a);
this.movePageTo(1,false);
},getTotalItem:function(){return this.option("nTotalItem");
},setTotalItem:function(a){this.option("nTotalItem",a);
},getShowMaxItem:function(){return this.option("nShowMaxItem");
},setShowMaxItem:function(a){this.option("nShowMaxItem",a);
this.option("nItem",a);
},_onActivate:function(){this._attachEvent();
},_onDeactivate:function(){this._detachEvent();
},_attachEvent:function(){this._htEvent={};
if(!!this._htWElement.elMoreButton){this._htEvent.click_More={ref:MobileCommentJindo.$Fn(this._onClickMore,this).attach(this._htWElement.elMoreButton,"click"),el:this._htWElement.elMoreButton.$value()};
}if(!!this._htWElement.elTop){this._htEvent.click_Top={ref:MobileCommentJindo.$Fn(this._onClickTop,this).attach(this._htWElement.elTop,"click"),el:this._htWElement.elTop.$value()};
}},_detachEvent:function(){for(var b in this._htEvent){var a=this._htEvent[b];
a.ref.detach(a.el,b.substring(0,b.indexOf("_")));
}this._htEvent=null;
},header:function(a,b){if(this.oAjax){return this.oAjax.header(a,b);
}},destroy:function(){this._detachEvent();
for(var a in this._htWElement){this._htWElement[a]=null;
}this._htWElement=null;
}}).extend(MobileCommentJindo.m.CorePagination);
MobileCommentJindo.m.PageNavigation=MobileCommentJindo.$Class({$init:function(b,a){this.option({sClassPrefix:"page_",nItem:10,nItemPerPage:10,nPage:1,bActivateOnload:true,sInfoTemplate:"{=PAGE} / {=TOTALPAGE}",htAjax:{}});
this.option(a||{});
this._initVar();
this._setWrapperElement(b);
if(this.option("bActivateOnload")){this.activate();
this._nCurrentPage=this.option("nPage");
}},_initVar:function(){var b={sApi:null,htAjaxOption:{type:"xhr"},htQuery:{},sPage:"page",sDisplay:"display"};
var a=this.option("htAjax");
if(!a){this.option("htAjax",b);
return;
}for(var c in b){if(typeof a[c]=="undefined"){a[c]=b[c];
}}for(var c in b.htAjaxOption){if(typeof a.htAjaxOption[c]=="undefined"){a.htAjaxOption[c]=b.htAjaxOption[c];
}}for(var c in b.htQuery){if(typeof a.htQuery[c]=="undefined"){a.htQuery[c]=b.htQuery[c];
}}if(!!a.sApi){this.oAjax=new MobileCommentJindo.$Ajax(a.sApi,a.htAjaxOption);
}},_setWrapperElement:function(a){this._htWElement={};
a=MobileCommentJindo.$(a);
var b="."+this.option("sClassPrefix");
this._htWElement.elBase=MobileCommentJindo.$Element(a);
this._htWElement.elPrev=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(b+"prev",a));
this._htWElement.elNext=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(b+"next",a));
this._htWElement.elPrevOff=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(b+"prev-off",a));
this._htWElement.elNextOff=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(b+"next-off",a));
this._htWElement.elInfo=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(b+"info",a));
},_onClickPrev:function(a){a.stop();
if(!this.hasPreviousPage()){return;
}var b=this.getCurrentPage();
this.movePageTo(b-1);
},_onClickNext:function(a){a.stop();
if(!this.hasNextPage()){return;
}var b=this.getCurrentPage();
this.movePageTo(b+1);
},movePageTo:function(b,a){if(typeof a=="undefined"){a=true;
}if(a){if(!this._fireEventBefore(b)){return;
}}if(!!this.option("htAjax").sApi){this._callAjax(b,a);
}else{this._move(b);
if(a){this._fireEventEnd();
}this.updateInfo();
this.updateNavigation();
}},_move:function(b){var a=this._convertToAvailPage(b);
if(a!=this._nCurrentPage){this._nCurrentPage=a;
}},_callAjax:function(b,c){var a=this;
this.oAjax.option("onload",null);
this.oAjax.option("onload",function(d){a._onAjaxResponse(d,b,c);
});
this.oAjax.request(this._getQueryString(b));
},_fireEventBefore:function(a){return this.fireEvent("beforeMove",{nPage:a,nCurrentPage:this.getCurrentPage()});
},_fireEventEnd:function(c){if(typeof c=="undefined"){c=null;
}var b=this.getCurrentPage();
var a=this.getPageItemIndex(b);
return this.fireEvent("move",{nPage:this.getCurrentPage(),nStartIndex:a.nStart,nEndIndex:a.nEnd,oResponse:c});
},_onAjaxResponse:function(b,a,c){this._move(a);
if(c){this._fireEventEnd(b);
}this.updateInfo();
this.updateNavigation();
},_getQueryString:function(c){var b=this.option("htAjax").htQuery||{};
var a=this.getPageItemIndex(c);
b[this.option("htAjax").sPage]=c;
b[this.option("htAjax").sDisplay]=Math.min(this.getItemPerPage(),(this.getItemCount()-a.nStart));
return b;
},updateInfo:function(){if(!this._htWElement.elInfo){return;
}var c=this.getCurrentPage();
var a=this.getPageItemIndex(c);
var b=this.option("sInfoTemplate").replace(/\{=PAGE\}/,c).replace(/\{=TOTALPAGE\}/,this.getTotalPages()).replace(/\{=ITEMCOUT\}/,this.option("nItem")).replace(/\{=STARTINDEX\}/,a.nStart+1).replace(/\{=ENDINDEX\}/,a.nEnd+1);
this._htWElement.elInfo.html(b);
},updateNavigation:function(){var a=this.getCurrentPage();
if(!!this._htWElement.elPrev){this._htWElement.elPrev.hide();
}if(!!this._htWElement.elNext){this._htWElement.elNext.hide();
}if(this._htWElement.elPrevOff){this._htWElement.elPrevOff.hide();
}if(this._htWElement.elNextOff){this._htWElement.elNextOff.hide();
}if(this.getTotalPages()==1){return;
}if(a==1){if(!!this._htWElement.elPrevOff){this._htWElement.elPrevOff.show("inline-block");
}if(!!this._htWElement.elNext){this._htWElement.elNext.show("inline-block");
}}else{if(a==this.getTotalPages()){if(!!this._htWElement.elNextOff){this._htWElement.elNextOff.show("inline-block");
}if(!!this._htWElement.elPrev){this._htWElement.elPrev.show("inline-block");
}}else{if(!!this._htWElement.elPrev){this._htWElement.elPrev.show("inline-block");
}if(!!this._htWElement.elNext){this._htWElement.elNext.show("inline-block");
}}}},reset:function(a){if(typeof a=="undefined"){a=this.option("nItem");
}this.setItemCount(a);
this.movePageTo(1,false);
},_onActivate:function(){this._attachEvent();
},_onDeactivate:function(){this._detachEvent();
},_attachEvent:function(){this._htEvent={};
if(!!this._htWElement.elNext){this._htEvent.click_Next={ref:MobileCommentJindo.$Fn(this._onClickNext,this).attach(this._htWElement.elNext,"click"),el:this._htWElement.elNext.$value()};
}if(!!this._htWElement.elPrev){this._htEvent.click_Prev={ref:MobileCommentJindo.$Fn(this._onClickPrev,this).attach(this._htWElement.elPrev,"click"),el:this._htWElement.elPrev.$value()};
}},_detachEvent:function(){for(var b in this._htEvent){var a=this._htEvent[b];
a.ref.detach(a.el,b.substring(0,b.indexOf("_")));
}this._htEvent=null;
},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null;
}this._htWElement=null;
}}).extend(MobileCommentJindo.m.CorePagination);
MobileCommentJindo.m.PreventClickEvent=MobileCommentJindo.$Class({$init:function(b,a){this.option({bActivateOnload:true,sClassPrefix:"evt-"});
this.option(a||{});
this._setWrapperElement(b);
if(this.option("bActivateOnload")){this.activate();
}},_setWrapperElement:function(a){this._htWElement={};
this._htWElement.target=MobileCommentJindo.$Element(a);
},_onDeactivate:function(){this._detachEvents();
},_onActivate:function(){this._attachEvents();
},_attachEvents:function(){this._htEvent={};
this._htEvent.prevent=MobileCommentJindo.$Fn(this._onPrevent,this).attach(this._htWElement.target,"touchstart");
},_detachEvents:function(){this._htEvent.prevent.detach(this._htWElement.target,"touchstart");
this._htEvent.prevent=null;
},_onPrevent:function(b){var a=MobileCommentJindo.$Element(MobileCommentJindo.m.getNodeElement(b.element));
if(!a.hasClass(this.option("sClassPrefix")+"except")){b.stop(MobileCommentJindo.$Event.CANCEL_ALL);
this.fireEvent("prevent",{wel:a});
return false;
}else{this.fireEvent("pass",{wel:a});
}},destroy:function(){this.deactivate();
for(var a in this._htWElement){console.log(a);
this._htWElement[a]=null;
}this._htWElement=null;
this._htEvent=null;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.RadioButton=MobileCommentJindo.$Class({$init:function(b,a){this.option({sClassPrefix:"frb-",sType:"v",bActivateOnload:true,sUncheckBgColor:"transparent"});
this.option(a||{});
this._initVar();
this._setWrapperElement(b,this.option("sClassPrefix"));
this._initRadioLoad();
if(this.option("bActivateOnload")){this.activate();
}},_initVar:function(){this.$super._initVar("radio","radiobtn");
this._nPreSelectIdx=-1;
},_initRadioLoad:function(){var b=this._aWElFormList;
for(var a=0;
a<b.length;
a++){if(b[a].$value().checked){this._setChecked(a);
break;
}}},_afterCheck:function(c,b){var a=-1;
a=this._htWElement.container.indexOf(c);
this._setChecked(a);
},_onFormClick:function(c){var a=this._sUnitClass;
var d=MobileCommentJindo.$Element(c.element);
d=d.parent(function(f){return f.hasClass(a);
})[0];
var b=d.attr("data-cb-checked");
c.element.checked=(b&&b=="on")?true:false;
nIdx=this._htWElement.container.indexOf(d);
if(c.element.checked){if(this._nPreSelectIdx!=nIdx){this._onCheck(c);
}}},_setChecked:function(d){var f=this._aWElFormList[d].$value();
var a=this._aWElUnitList[d];
if(f.disabled){return false;
}var c=this.option("sCheckBgColor");
var b=null;
var g=null;
if(this._nPreSelectIdx>-1){c=(c)?this.option("sUncheckBgColor"):null;
b=this._aWElUnitList[this._nPreSelectIdx].$value();
g=this._aWElFormList[this._nPreSelectIdx].$value();
this._aWElUnitList[this._nPreSelectIdx].removeClass(this._sOnClass);
g.checked=false;
if(c){this._aWElUnitList[this._nPreSelectIdx].css("backgroundColor",c+" !important");
}}a.addClass(this._sOnClass);
a.attr("data-cb-checked","on");
f.checked=true;
c=this.option("sCheckBgColor");
if(c){a.css("backgroundColor",c+" !important");
}this._nPreSelectIdx=d;
this.fireEvent("checked",{elPreRadioButtonUnit:b,elPreRadioButton:g,elRadioButtonUnit:a.$value(),elRadioButton:f});
},getCheckedValue:function(){var a="";
if(this._nPreSelectIdx>-1){if(!this._aWElFormList[this._nPreSelectIdx].$value().disabled){a=this._aWElFormList[this._nPreSelectIdx].$value().value;
}}return a;
},setCheckedButton:function(a){var b=this._getFormIdx(a);
if(b.length>0){this._setChecked(b[0]);
}},enable:function(a){var b=this._useSettingForm(a,true);
this.fireEvent("enable",{aRadioButtonList:b.aFormList,aRadioButtonUnitList:b.aUnitList});
},disable:function(a){var b=this._useSettingForm(a,false);
this.fireEvent("disable",{aRadioButtonList:b.aFormList,aRadioButtonUnitList:b.aUnitList});
},getElementByIndex:function(a){return{elRadioButton:this._aWElFormList[a].$value(),elRadioButtonUnit:this._aWElUnitList[a].$value()};
},destroy:function(){this.$super.destroy();
}}).extend(MobileCommentJindo.m.CheckRadioCore);
MobileCommentJindo.m.Scroll=MobileCommentJindo.$Class({$init:function(b,a){this.option({bActivateOnload:true,bUseScrollbar:true,bUseFixedScrollbar:false,bUsePullDown:false,bUsePullUp:false,sClassPrefix:"scroll_",bUseVScroll:true,bUseHScroll:false,bUseBounce:true,fnPullDownIdle:null,fnPullDownBeforeUpdate:null,fnPullDownUpdating:null,fnPullUpIdle:null,fnPullUpBeforeUpdate:null,fnPullUpUpdating:null,bAutoResize:false});
this.option(a||{});
this._initVar();
this._setWrapperElement(b);
this._InitPullUpdateFunc();
if(this.option("bActivateOnload")){this.activate();
}},_initVar:function(){this._oCore=null;
this._isPullDown=false;
this._isPullUp=false;
this._isUpdating=false;
this._nOrgMaxScrollTop=null;
this._nPropHScroll=0;
this._nPropVScroll=0;
},_setWrapperElement:function(a){this._htWElement={};
this._htWElement.wrapper=MobileCommentJindo.$Element(a);
var b=this._htWElement.wrapper.query("."+this.option("sClassPrefix")+"pullDown");
this._htWElement.pullDown=b?MobileCommentJindo.$Element(b):null;
b=this._htWElement.wrapper.query("."+this.option("sClassPrefix")+"pullUp");
this._htWElement.pullUp=b?MobileCommentJindo.$Element(b):null;
},_InitPullUpdateFunc:function(){if(this.option("bUsePullDown")===true){if(!this.option("fnPullDownIdle")){this.option("fnPullDownIdle",function(a){a.html("업데이트하시려면 아래로 내려주세요");
});
}if(!this.option("fnPullDownBeforeUpdate")){this.option("fnPullDownBeforeUpdate",function(a){a.html("업데이트 합니다");
});
}if(!this.option("fnPullDownUpdating")){this.option("fnPullDownUpdating",function(a){a.html("업데이트 중입니다...");
});
}}if(this.option("bUsePullUp")===true){if(!this.option("fnPullUpIdle")){this.option("fnPullUpIdle",function(a){a.html("더 보시려면 위로 올려주세요");
});
}if(!this.option("fnPullUpBeforeUpdate")){this.option("fnPullUpBeforeUpdate",function(a){a.html("로드 합니다");
});
}if(!this.option("fnPullUpUpdating")){this.option("fnPullUpUpdating",function(a){a.html("로드 중...");
});
}}},_onActivate:function(){if(this._oCore){this._oCore.activate();
}this.refresh();
this._attachEvent();
},setUsePullDown:function(a){this.option("bUsePullDown",a);
this._refreshPullStatus();
},setUsePullUp:function(a){this.option("bUsePullUp",a);
this._refreshPullStatus();
},width:function(a){if(a){this.option("nWidth",a);
this.refresh();
}else{if(this.option("nWidth")){return parseInt(this.option("nWidth"),10);
}else{return this._htWElement.wrapper.width();
}}},height:function(a){if(a){this.option("nHeight",a);
this.refresh();
}else{if(this.option("nHeight")){return parseInt(this.option("nHeight"),10);
}else{return this._htWElement.wrapper.height();
}}},_refreshPullStatus:function(){this._isUpdating=false;
this._nOrgMaxScrollTop=null;
this._isPullDown=this.option("bUsePullDown")&&this.option("bUseVScroll")&&!this.option("bUseHScroll")&&this.option("bUseBounce")&&(this._htWElement.pullDown!==null);
this._isPullUp=this.option("bUsePullUp")&&this.option("bUseVScroll")&&!this.option("bUseHScroll")&&this.option("bUseBounce")&&(this._htWElement.pullUp!==null);
if(this._isPullDown&&this.option("fnPullDownIdle")){this._htWElement.pullDown._isReady_=false;
this.option("fnPullDownIdle")(this._htWElement.pullDown);
}if(this._isPullUp&&this.option("fnPullUpIdle")){this._htWElement.pullUp._isReady_=false;
this.option("fnPullUpIdle")(this._htWElement.pullUp);
}},refresh:function(){if(!this.isActivating()){return;
}this._refreshPullStatus();
if(this._oCore){this._oCore.option({nOffsetTop:this._isPullDown?this._htWElement.pullDown.height():0,nOffsetBottom:this._isPullUp?this._htWElement.pullUp.height():0,nWidth:this.option("nWidth"),nHeight:this.option("nHeight")});
this._oCore.refresh();
}else{var a=this.option();
a.bActivateOnload=true;
a.nOffsetTop=this._isPullDown?this._htWElement.pullDown.height():0;
a.nOffsetBottom=this._isPullUp?this._htWElement.pullUp.height():0;
this._oCore=new MobileCommentJindo.m.CoreScroll(this._htWElement.wrapper,a);
}if(this.option("bUseScrollbar")){this._refreshScroll("V");
this._refreshScroll("H");
}},scrollTo:function(b,a,c){c=c||0;
b=-Math.abs(b);
a=-Math.abs(a);
a+=this.getTop();
this._oCore.scrollTo((b>=this.getLeft()?this.getLeft():(b<=this.getRight()?this.getRight():b)),(a>=this.getTop()?this.getTop():(a<=this.getBottom()?this.getBottom():a)),c);
},getRight:function(){return this._oCore.nMaxScrollLeft;
},getLeft:function(){return 0;
},getBottom:function(){return this._oCore.nMaxScrollTop;
},getTop:function(){return this._oCore.nMinScrollTop;
},getCurrentPos:function(){return this._oCore.getCurrentPos();
},_onDeactivate:function(){this._detachEvent();
this._oCore.deactivate();
},_attachEvent:function(){this._htEvent={};
this._oCore.attach({beforeTouchStart:MobileCommentJindo.$Fn(this._onBeforeTouchStart,this).bind(),touchStart:MobileCommentJindo.$Fn(this._onTouchStart,this).bind(),beforeTouchMove:MobileCommentJindo.$Fn(this._onBeforeTouchMove,this).bind(),touchMove:MobileCommentJindo.$Fn(this._onTouchMove,this).bind(),beforeTouchEnd:MobileCommentJindo.$Fn(this._onBeforeTouchEnd,this).bind(),touchEnd:MobileCommentJindo.$Fn(this._onTouchEnd,this).bind(),beforePosition:MobileCommentJindo.$Fn(this._onBeforePosition,this).bind(),position:MobileCommentJindo.$Fn(this._onPosition,this).bind(),setDuration:MobileCommentJindo.$Fn(this._onSetDuration,this).bind(),afterScroll:MobileCommentJindo.$Fn(this._onAfterScroll,this).bind()});
if(this.option("bAutoResize")){this._htEvent.rotate=MobileCommentJindo.$Fn(this._onRotate,this).bind();
MobileCommentJindo.m.bindRotate(this._htEvent.rotate);
}},_fixedBugForAndroid:function(a){if(this._oCore.isAndroid){var b=a.$value();
var d=MobileCommentJindo.m.getCssOffset(b);
var c=a.offset();
b.style[this._oCore.sCssPrefix+"TransitionDuration"]=null;
b.style[this._oCore.sCssPrefix+"Transform"]=null;
a.offset(d.top+c.top,d.left+c.left);
}},_onRotate:function(a){this.refresh();
},_onSetDuration:function(a){if(this.option("bUseScrollbar")){if(a.bUseHScroll&&this._htWElement.HscrollbarIndicator){this._htWElement.HscrollbarIndicator.css(this._oCore.sCssPrefix+"TransitionDuration",a.nDuration);
}if(a.bUseVScroll&&this._htWElement.VscrollbarIndicator){this._htWElement.VscrollbarIndicator.css(this._oCore.sCssPrefix+"TransitionDuration",a.nDuration);
}}},_onBeforeTouchStart:function(a){return this.fireEvent("beforeTouchStart",a);
},_onTouchStart:function(a){this.fireEvent("touchStart",a);
},_onBeforeTouchMove:function(a){return this.fireEvent("beforeTouchMove",a);
},_onTouchMove:function(a){if(this._isPullDown||this._isPullUp){this._touchMoveForUpdate(a);
}this.fireEvent("touchMove",a);
},_onBeforeTouchEnd:function(a){return this.fireEvent("beforeTouchEnd",a);
},_onTouchEnd:function(a){if(this._isPullDown&&this._htWElement.pullDown._isReady_){this._pullUploading(this._htWElement.pullDown,false);
}if(this._isPullUp&&this._htWElement.pullUp._isReady_){this._pullUploading(this._htWElement.pullUp,true);
}this.fireEvent("touchEnd",a);
},_onBeforePosition:function(a){return this.fireEvent("beforePosition",a);
},_onPosition:function(a){if(this.option("bUseScrollbar")){this._setScrollBarPos("V",a.nTop);
this._setScrollBarPos("H",a.nLeft);
}this.fireEvent("position",a);
},_onAfterScroll:function(a){if(this.option("bUseScrollbar")&&!this.option("bUseFixedScrollbar")){this._hideScrollBar("H");
this._hideScrollBar("V");
}this.fireEvent("afterScroll",a);
},_hideScrollBar:function(b){var a=this._htWElement[b+"scrollbar"],c=(b==="H"?this._oCore.bUseHScroll:this._oCore.bUseVScroll);
if(c&&a){if(this._oCore.isAndroid){this._fixedBugForAndroid(this._htWElement[b+"scrollbarIndicator"]);
a.opacity(0);
}else{a.css(this._oCore.sCssPrefix+"TransitionDuration","300ms").opacity(0);
}}},_fireEventPullDown:function(){if(!this._htWElement){return;
}this.fireEvent("pullDown",{welElement:this._htWElement.pullDown,oScroll:this});
},_fireEventPullUp:function(){if(!this._htWElement){return;
}this.fireEvent("pullUp",{welElement:this._htWElement.pullUp,oScroll:this});
},_pullUploading:function(b,d){var c=d?this.option("fnPullUpUpdating"):this.option("fnPullDownUpdating");
var a=this;
this._isUpdating=true;
b._isReady_=false;
if(c){setTimeout(function(){c(b);
if(d){a._fireEventPullUp();
}else{a._fireEventPullDown();
}},0);
}},_touchMoveForUpdate:function(b){if(this._isUpdating){return;
}var a=this._oCore.option("nOffsetTop");
var c=this._oCore.option("nOffsetBottom");
b.nMaxScrollTop=this._nOrgMaxScrollTop?this._nOrgMaxScrollTop:b.nMaxScrollTop;
if(this._isPullDown){if(this._htWElement.pullDown._isReady_){if(a>b.nTop){this._htWElement.pullDown._isReady_=false;
if(this.option("fnPullDownIdle")){this.option("fnPullDownIdle")(this._htWElement.pullDown);
this._oCore.nMinScrollTop=-a;
}}}else{if(b.nTop>a){this._htWElement.pullDown._isReady_=true;
if(this.option("fnPullDownBeforeUpdate")){this.option("fnPullDownBeforeUpdate")(this._htWElement.pullDown);
this._oCore.nMinScrollTop=0;
}}}}if(this._isPullUp){if(this._htWElement.pullUp._isReady_){if(b.nTop>=(b.nMaxScrollTop-c)){this._htWElement.pullUp._isReady_=false;
if(this.option("fnPullUpIdle")){this.option("fnPullUpIdle")(this._htWElement.pullUp);
this._oCore.nMaxScrollTop=b.nMaxScrollTop;
}}}else{if(b.nTop<(b.nMaxScrollTop-c)){this._htWElement.pullUp._isReady_=true;
if(this.option("fnPullUpBeforeUpdate")){this.option("fnPullUpBeforeUpdate")(this._htWElement.pullUp);
this._nOrgMaxScrollTop=b.nMaxScrollTop;
this._oCore.nMaxScrollTop=b.nMaxScrollTop-c;
}}}}},isMoving:function(){return this._oCore.isMoving();
},_detachEvent:function(){this._oCore.detachAll();
if(this.option("bAutoResize")){MobileCommentJindo.m.unbindRotate(this._htEvent.rotate);
}this._htEvent=null;
},_createScroll:function(a){if(!(a==="H"?this._oCore.bUseHScroll:this._oCore.bUseVScroll)){return;
}var d=this._htWElement[a+"scrollbar"],c=this._htWElement[a+"scrollbarIndicator"],b=this._htWElement.wrapper;
if(d){b.remove(d);
this._htWElement[a+"scrollbar"]=this._htWElement[a+"scrollbarIndicator"]=null;
}d=this._createScrollbar(a);
c=this._createScrollbarIndicator(a);
this._htWElement[a+"scrollbar"]=d;
this._htWElement[a+"scrollbarIndicator"]=c;
d.append(c);
b.append(d);
this._refreshScroll(a);
},_refreshScroll:function(b){if(!(b==="H"?this._oCore.bUseHScroll:this._oCore.bUseVScroll)){return;
}if(!this._htWElement[b+"scrollbar"]){this._createScroll(b);
}var d=this._htWElement[b+"scrollbar"],c=this._htWElement[b+"scrollbarIndicator"],a=0;
if(b==="H"){d.width(this._oCore.nWrapperW);
a=Math.max(Math.round(Math.pow(this._oCore.nWrapperW,2)/this._oCore.nScrollW),8);
this._nPropHScroll=(d.width()-a)/this._oCore.nMaxScrollLeft;
c.width(a);
}else{d.height(this._oCore.nWrapperH);
a=Math.max(Math.round(Math.pow(this._oCore.nWrapperH,2)/this._oCore.nScrollH),8);
this._nPropVScroll=(d.height()-a)/this._oCore.nMaxScrollTop;
c.height(a);
}},_createScrollbar:function(a){var b=MobileCommentJindo.$Element("<div>");
b.css({position:"absolute",zIndex:100,bottom:(a==="H"?"1px":(this._oCore.bUseHScroll?"7":"2")+"px"),right:(a==="H"?(this._oCore.bUseVScroll?"7":"2")+"px":"1px"),pointerEvents:"none",overflow:"hidden"});
if(!this.option("bUseFixedScrollbar")){b.css(this._oCore.sCssPrefix+"TransitionProperty","opacity").css(this._oCore.sCssPrefix+"TransitionDuration","0").opacity(0);
}if(a==="H"){b.css({height:"7px",left:"2px"});
}else{b.css({width:"7px",top:"2px"});
}return b;
},_createScrollbarIndicator:function(a){var b=MobileCommentJindo.$Element("<div>");
b.css({position:"absolute",zIndex:100,border:"1px solid rgba(255,255,255,0.9)",borderRadius:"3px",pointerEvents:"none",left:0,top:0,"background-color":"rgba(0,0,0,0.5)"}).css(this._oCore.sCssPrefix+"BackgroundClip","padding-box").css(this._oCore.sCssPrefix+"BoxSizing","border-box").css(this._oCore.sCssPrefix+"BorderRadius","3px").css(this._oCore.sCssPrefix+"TransitionProperty","-webkit-transform").css(this._oCore.sCssPrefix+"Transform","translate"+this._oCore.sTransOpen+"0,0"+this._oCore.sTransEnd);
if(this._oCore.option("bUseTransition")){b.css(this._oCore.sCssPrefix+"TransitionTimingFunction","cubic-bezier(0.33,0.66,0.66,1)");
}if(a==="H"){b.css("height","100%");
}else{b.css("width","100%");
}return b;
},_setScrollBarPos:function(a,c){var f=(a==="H"?this._oCore.bUseHScroll:this._oCore.bUseVScroll);
if(!f){return;
}var b=this._htWElement[a+"scrollbarIndicator"],g=this._htWElement[a+"scrollbar"];
c=this["_nProp"+a+"Scroll"]*c;
if(b){if(this._oCore.isAndroid){var d=parseInt((a==="H"?b.css("left"):b.css("top")),10);
c-=isNaN(d)?0:d;
}b.css(this._oCore.sCssPrefix+"Transform","translate"+this._oCore.sTranOpen+(a==="H"?c+"px,0":"0,"+c+"px")+this._oCore.sTranEnd);
}if(!this.option("bUseFixedScrollbar")&&g){g.css(this._oCore.sCssPrefix+"TransitionDuration",0).opacity(1);
}},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null;
}this._oCore.destroy();
delete this._oCore;
this._htWElement=null;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.Slider=MobileCommentJindo.$Class({$init:function(b,a){this.option({sClassPrefix:"slider-",bVertical:false,nMinValue:0,nMaxValue:100,nDefaultValue:0,bActivateOnload:true});
this.option(a||{});
this._setWrapperElement(b);
this._initVar();
if(this.option("bActivateOnload")){this.activate();
this.setValue(this.option("nDefaultValue"));
}},_initVar:function(){var b=this.option("bVertical")?0:6;
this._oTouch=new MobileCommentJindo.m.Touch(this._htWElement.track.$value(),{nMoveGap:b,bActivateOnload:false});
this._oTouch.attach({touchMove:MobileCommentJindo.$Fn(this._onMove,this).bind(),touchEnd:MobileCommentJindo.$Fn(this._onMove,this).bind(),touchStart:MobileCommentJindo.$Fn(this._onStart,this).bind()});
this._htSwap={left:this.option("bVertical")?"top":"left",width:this.option("bVertical")?"height":"width",nX:this.option("bVertical")?"nY":"nX"};
var a=this._htWElement.thumb[this._htSwap.width]()/2;
this._htWElement.thumb.css("margin-"+this._htSwap.left,a*-1);
},_setWrapperElement:function(b){this._htWElement={};
var b=MobileCommentJindo.$(b);
var d="."+this.option("sClassPrefix");
this._htWElement.track=MobileCommentJindo.$Element(b);
var a=MobileCommentJindo.$$.getSingle(d+"thumb",b);
this._htWElement.thumb=a?MobileCommentJindo.$Element(a):null;
var c=MobileCommentJindo.$$.getSingle(d+"range",b);
this._htWElement.range=c?MobileCommentJindo.$Element(c):null;
},_onStart:function(a){a.oEvent.stop(MobileCommentJindo.$Event.CANCEL_DEFAULT);
},_onMove:function(c){if(c.sType=="touchMove"){c.oEvent.stop(MobileCommentJindo.$Event.CANCEL_DEFAULT);
}var b=c[this._htSwap.nX]-this._htWElement.track.offset()[this._htSwap.left]-(this._htWElement.thumb[this._htSwap.width]()/2);
var a=this._getAdjustedPos(b);
this._move(a);
},_move:function(f,g){if(typeof g=="undefined"){g=true;
}var c=this.getValue(f);
var b=Math.round(f);
var a=this.getValue(b);
var d={nValue:c,nPosition:f,nAdjustValue:a,nAdjustPosition:b};
if(g&&!this._fireBeforeEvent(d)){return;
}if(d.nAdjustValue!=a){d.nAdjustPosition=this._getPositionFromValue(d.nAdjustValue);
}this._moveThumb(d.nAdjustPosition);
if(g){this._fireChangeEvent(d);
}if(this._htWElement.range){this._htWElement.range.css(this._htSwap.width,d.nAdjustPosition+"%");
}},_fireBeforeEvent:function(a){return this.fireEvent("beforeChange",a);
},_fireChangeEvent:function(a){this.fireEvent("change",a);
},_moveThumb:function(a){if(a>100||a<0){return;
}this._htWElement.thumb.css("webkitTransitionDuration","0ms");
this._htWElement.thumb.css("webkitTransitionProperty",this._htSwap.left);
this._htWElement.thumb.css(this._htSwap.left,a+"%");
},_getTrackInfo:function(){var c=this.option("bVertical")?this._htWElement.track.height():this._htWElement.track.width();
var b=this.option("bVertical")?this._htWElement.thumb.height():this._htWElement.thumb.width();
var a=c-(b/2);
return{maxPos:a,max:this.option("nMaxValue")*1,min:this.option("nMinValue")*1};
},getValue:function(c){if(typeof c=="undefined"){c=this.getPosition();
}var a=this._getTrackInfo();
var b=a.min+((a.max-a.min)*(c/100));
return b;
},setValue:function(a,c){a=a*1;
var b=this._getPositionFromValue(a);
if(typeof c=="undefined"){c=true;
}this._move(b,c);
},_getAdjustedPos:function(a){var b=this._getTrackInfo();
var c=(a*100)/b.maxPos;
c=Math.max(0,c);
c=Math.min(c,100);
return c;
},getPosition:function(){var a=this._htWElement.thumb.css(this._htSwap.left);
return(a=="auto")?0:parseInt(a,10);
},setPosition:function(a,b){if(typeof b=="undefined"){b=true;
}this._move(a,b);
},_getPositionFromValue:function(a){var b=this._getTrackInfo();
var c=((a-b.min)*100)/(b.max-b.min);
c=isNaN(c)?100:c;
c=Math.max(0,c);
c=Math.min(100,c);
return c;
},_onClick:function(a){a.stop();
},_attachEvent:function(){this._htEvent={};
},_detachEvent:function(a){if(a){var b=this._htEvent[a];
b.ref.detach(b.el,a);
}},_onActivate:function(){this._attachEvent();
this._oTouch.activate();
},_onDeactivate:function(){this._detachEvent();
this._oTouch.deactivate();
},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null;
}this._htWElement=null;
for(var a in this._htSwap){this._htSwap[a]=null;
}this._htSwap=null;
this._oTouch.detachAll();
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.SlideTab=MobileCommentJindo.$Class({$init:function(b,a){this.option({bActivateOnload:true,nDefaultIndex:0,sClassPrefix:"tc-",nSlideDuration:200,sTimingFunction:"ease-in-out",nCountPerVeiw:3});
this.option(a||{});
this._initVar();
this._setWrapperElement(b);
this._initData();
if(this.option("bActivateOnload")){this.activate();
}this.select(this.option("nDefaultIndex"));
},_initVar:function(){this._nCurrentPage=1;
this._nCurrentIndex=-1;
this._nTotalPage=1;
this._nPageWidth=0;
this._aTab=[];
this._aPanel=[];
this._aDummyTab=[];
this._oEffect=null;
this._isNext=null;
},getCurrentIndex:function(){return this._nCurrentIndex;
},getCurrentPage:function(){return this._nCurrentPage;
},getTotalPage:function(){return this._nTotalPage;
},getTab:function(a){if(a!==null&&this._aTab.length>a){return this._aTab[a];
}else{return this._aTab;
}},getPanel:function(a){if(a!==null&&this._aPanel.length>a){return this._aPanel[a];
}else{return this._aPanel;
}},_setWrapperElement:function(b){var a=this.option("sClassPrefix"),c=null;
b=(typeof b=="string"?MobileCommentJindo.$(b):b);
if(!b){return;
}this._htWElement={};
this._htWElement.baseElement=MobileCommentJindo.$Element(b);
elTemp=MobileCommentJindo.$$.getSingle("."+a+"tabview",b);
this._htWElement.tab_view=elTemp?MobileCommentJindo.$Element(elTemp):null;
elTemp=MobileCommentJindo.$$.getSingle("."+a+"tab-cont",b);
this._htWElement.tab_container=elTemp?MobileCommentJindo.$Element(elTemp):null;
if(this._htWElement.tab_container){this._htWElement.tab_container.css("-"+MobileCommentJindo.m.getCssPrefix()+"-tap-highlight-color","rgba(0,0,0,0)");
}elTemp=MobileCommentJindo.$$.getSingle("."+a+"panel-cont",b);
this._htWElement.panel_container=elTemp?MobileCommentJindo.$Element(elTemp):null;
elTemp=MobileCommentJindo.$$.getSingle("."+a+"prev",b);
this._htWElement.prev=elTemp?MobileCommentJindo.$Element(elTemp):null;
elTemp=MobileCommentJindo.$$.getSingle("."+a+"next",b);
this._htWElement.next=elTemp?MobileCommentJindo.$Element(elTemp):null;
this._htWElement.baseElement.css("position","relative");
this._htWElement.tab_view.css("overflow","hidden");
},_initData:function(){var a=this.option("nCountPerVeiw"),d=null,b;
this._aTab=this._htWElement.tab_container.queryAll("."+this.option("sClassPrefix")+"tab");
this._aPanel=this._htWElement.panel_container.queryAll("."+this.option("sClassPrefix")+"panel");
for(var c=0,f=this._aTab.length;
c<f;
c++){this._aTab[c]=MobileCommentJindo.$Element(this._aTab[c]);
this._aPanel[c]=MobileCommentJindo.$Element(this._aPanel[c]);
}this._nTotalPage=parseInt(this._aTab.length/a,10);
b=this._aTab.length%a;
if(b>0){this._nTotalPage++;
}for(j=0,f=a-b;
j<f;
j++){d=MobileCommentJindo.$("<li></li>");
this._aDummyTab.push(MobileCommentJindo.$Element(d));
this._htWElement.tab_container.append(d);
}this._oEffect=new MobileCommentJindo.m.LayerEffect(this._htWElement.tab_container.$value());
},resize:function(){var b,a=this._nPageWidth;
this._nPageWidth=this._htWElement.tab_view.width()-this._htWElement.prev.width()-this._htWElement.next.width();
b=this._nPageWidth/this.option("nCountPerVeiw");
if(a>this._nPageWidth){this._setTabWidth(b);
this._htWElement.tab_container.width(this._nPageWidth*this._nTotalPage);
}else{this._htWElement.tab_container.width(this._nPageWidth*this._nTotalPage);
this._setTabWidth(b);
}this._htWElement.tab_container.css("left",(this._nCurrentPage-1)*-this._nPageWidth);
},_setTabWidth:function(b){for(var a in this._aTab){this._aTab[a].width(b);
}for(a in this._aDummyTab){this._aDummyTab[a].width(b);
}},_fireEventBeforeSelect:function(){return this.fireEvent("beforeSelect",{nIndex:this._nCurrentIndex,elTab:this._aTab[this._nCurrentIndex],elPanel:this._aPanel[this._nCurrentIndex]});
},_fireEventSelect:function(){this.fireEvent("select",{nIndex:this._nCurrentIndex,elTab:this._aTab[this._nCurrentIndex],elPanel:this._aPanel[this._nCurrentIndex]});
},_fireEventBeforePrev:function(){return this.fireEvent("beforePrev",{nPage:this._nCurrentPage,nIndex:this._nCurrentIndex,nTotalPage:this._nTotalPage});
},_fireEventPrev:function(){this.fireEvent("prev",{nPage:this._nCurrentPage,nIndex:this._nCurrentIndex,nTotalPage:this._nTotalPage});
},_fireEventBeforeNext:function(){return this.fireEvent("beforeNext",{nPage:this._nCurrentPage,nIndex:this._nCurrentIndex,nTotalPage:this._nTotalPage});
},_fireEventNext:function(){this.fireEvent("next",{nPage:this._nCurrentPage,nIndex:this._nCurrentIndex,nTotalPage:this._nTotalPage});
},select:function(b){if(b!==null&&this._aTab.length>b&&(this._nCurrentIndex!==b)){if(this._fireEventBeforeSelect()){var a=this.option("sClassPrefix")+"selected";
if(this._nCurrentIndex>-1){this._aTab[this._nCurrentIndex].removeClass(a);
this._aPanel[this._nCurrentIndex].removeClass(a);
this._aPanel[this._nCurrentIndex].hide();
}this._aTab[b].addClass(a);
this._aPanel[b].addClass(a);
this._aPanel[b].show();
this._nCurrentIndex=b;
this._fireEventSelect();
}}},_onActivate:function(){this.resize();
this._attachEvent();
},_onDeactivate:function(){this._detachEvent();
},_attachEvent:function(){this._htEvent={};
this._htEvent.prev_click={ref:MobileCommentJindo.$Fn(this._onPrev,this).attach(this._htWElement.prev,"click"),el:this._htWElement.prev};
this._htEvent.next_click={ref:MobileCommentJindo.$Fn(this._onNext,this).attach(this._htWElement.next,"click"),el:this._htWElement.next};
this._htEvent.tabSelect_click={ref:MobileCommentJindo.$Fn(this._onSelect,this).attach(this._htWElement.tab_container,"click"),el:this._htWElement.tab_container};
this._oEffect.attach("afterEffect",MobileCommentJindo.$Fn(this._onEndEffect,this).bind());
},_onEndEffect:function(){if(this._isNext){this._nCurrentPage++;
this._fireEventNext();
}else{this._nCurrentPage--;
this._fireEventPrev();
}this._isNext=null;
this.select((this._nCurrentPage-1)*this.option("nCountPerVeiw"));
},_detachEvent:function(){for(var b in this._htEvent){var a=this._htEvent[b];
a.ref.detach(a.el,b.substring(b.lastIndexOf("_")));
}this._htEvent=null;
},_onPrev:function(a){if((this._nCurrentPage>1)&&!this._oEffect.isPlaying()){if(this._fireEventBeforePrev()){this._oEffect.slide({sDirection:"right",nDuration:this.option("nSlideDuration"),sTransitionTimingFunction:this.option("sTimingFunction"),nSize:this._nPageWidth});
this._isNext=false;
}}},_onNext:function(a){if((this._nCurrentPage<this._nTotalPage)&&!this._oEffect.isPlaying()){if(this._fireEventBeforeNext()){this._oEffect.slide({sDirection:"left",nDuration:this.option("nSlideDuration"),sTransitionTimingFunction:this.option("sTimingFunction"),nSize:this._nPageWidth});
this._isNext=true;
}}},_onSelect:function(b){if(b.element){b.stop();
var d=MobileCommentJindo.$Element(b.element);
var a=this.option("sClassPrefix")+"tab";
if(this._htWElement.tab_container.isParentOf(d)&&!d.hasClass(a)){d=d.parent(function(f){return f.hasClass(a);
})[0];
}var c=this._htWElement.tab_container.indexOf(d);
if(c>-1){this.select(c);
}}},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null;
}this._htWElement=null;
for(a in this._aTab){this._aTab[a]=null;
}this._aTab=null;
for(a in this._aDummyTab){this._aDummyTab[a]=null;
}this._aDummyTab=null;
for(a in this._aPanel){this._aPanel[a]=null;
}this._aPanel=null;
this._nCurrentPage=1;
this._nCurrentIndex=0;
this._nTotalPage=1;
this._nPageWidth=0;
this._oEffect.destroy();
delete this._oEffect;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.Tab=MobileCommentJindo.$Class({$init:function(b,a){this.option({sClassPrefix:"tc-",nDefaultIndex:0,bActivateOnload:true});
this.option(a||{});
this._initVar();
this._setWrapperElement(b);
this._initData();
if(this.option("bActivateOnload")){this.activate();
}this.select(this.option("nDefaultIndex"));
},_initVar:function(){this._nCurrentIndex=-1;
this._aTab=[];
this._aPanel=[];
this._isNext=null;
},_setWrapperElement:function(b){this._htWElement={};
var a=this.option("sClassPrefix");
b=(typeof b=="string"?MobileCommentJindo.$(b):b);
this._htWElement.tab_container=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle("."+a+"tab-cont",b));
this._htWElement.panel_container=MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle("."+a+"panel-cont",b));
},_initData:function(){this._aTab=this._htWElement.tab_container.queryAll("."+this.option("sClassPrefix")+"tab");
this._aPanel=this._htWElement.panel_container.queryAll("."+this.option("sClassPrefix")+"panel");
for(var a=0,b=this._aTab.length;
a<b;
a++){this._aTab[a]=MobileCommentJindo.$Element(this._aTab[a]);
this._aPanel[a]=MobileCommentJindo.$Element(this._aPanel[a]);
}},_onActivate:function(){this._attachEvent();
},_onDeactivate:function(){this._detachEvent();
},_attachEvent:function(){this._htEvent={};
this._htEvent.tab_click={el:this._htWElement.tab_container,ref:MobileCommentJindo.$Fn(this._onSelect,this).attach(this._htWElement.tab_container,"click")};
},_detachEvent:function(){for(var b in this._htEvent){var a=this._htEvent[b];
a.ref.detach(a.el,b.substring(b.lastIndexOf("_")+1));
}this._htEvent=null;
},getCurrentIndex:function(){return this._nCurrentIndex;
},getCurrentPage:function(){return(this._nCurrentIndex+1);
},getTab:function(a){if(a!==null&&this._aTab.length>a){return this._aTab[a];
}else{return this._aTab;
}},getPanel:function(a){if(a!==null&&this._aPanel.length>a){return this._aPanel[a];
}else{return this._aPanel;
}},_onSelect:function(b){if(b.element){b.stop();
var d=MobileCommentJindo.$Element(b.element);
var a=this.option("sClassPrefix")+"tab";
if(this._htWElement.tab_container.isParentOf(d)&&!d.hasClass(a)){d=d.parent(function(f){return f.hasClass(a);
})[0];
}var c=this._htWElement.tab_container.indexOf(d);
if(c>-1){this.select(c);
}}},select:function(b){if(b!==null&&this._aTab.length>b&&(this._nCurrentIndex!=b)){if(this._fireEventBeforeSelect()){var a=this.option("sClassPrefix")+"selected";
if(this._nCurrentIndex>-1){this._aTab[this._nCurrentIndex].removeClass(a);
this._aPanel[this._nCurrentIndex].removeClass(a);
}this._aTab[b].addClass(a);
this._aPanel[b].addClass(a);
this._nCurrentIndex=b;
this._fireEventSelect();
}}},_fireEventBeforeSelect:function(){return this.fireEvent("beforeSelect",{nIndex:this._nCurrentIndex,elTab:this._aTab[this._nCurrentIndex],elPanel:this._aPanel[this._nCurrentIndex]});
},_fireEventSelect:function(){this.fireEvent("select",{nIndex:this._nCurrentIndex,elTab:this._aTab[this._nCurrentIndex],elPanel:this._aPanel[this._nCurrentIndex]});
},destroy:function(){this.deactivate();
this._detachEvent();
for(var a in this._htWElement){this._htWElement[a]=null;
}this._htWElement=null;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.TextArea=MobileCommentJindo.$Class({$init:function(b,a){this.option({sClassPrefix:"fta-",bActivateOnload:true,bUseRadius:false,sRadiusSize:"0.5em",nExpandHeight:30,nMaxHeight:-1});
this.option(a||{});
this._initVar();
this._setWrapperElement(b);
if(this.option("bUseRadius")){this._applyRadiusStyle(this.option("sRadiusSize"));
}if(this.option("bActivateOnload")){this.activate();
}},_initVar:function(){this._nTimer=-1;
this._bTouchTextArea=false;
this._touchMoved=false;
},_setWrapperElement:function(b){this._htWElement={};
var a=this.option("sClassPrefix");
b=(typeof b=="string"?MobileCommentJindo.$(b):b);
this._htWElement.textarea=MobileCommentJindo.$Element(b);
},_applyRadiusStyle:function(a){var b=MobileCommentJindo.m.getCssPrefix()+"BorderRadius";
var c={sCssName:a,borderRadius:a};
this._htWElement.textarea.css(c);
oCssFirstProperty=null;
},_onActivate:function(){this._attachEvent();
},_onDeactivate:function(){this._detachEvent();
clearInterval(this._nTimer);
this._nTimer=-1;
},_attachEvent:function(){this._htEvent={};
var a=this._htWElement.textarea.$value();
this._htEvent.textarea_focus={el:a,ref:MobileCommentJindo.$Fn(this._onFocus,this).attach(a,"focus")};
this._htEvent.textarea_blur={el:a,ref:MobileCommentJindo.$Fn(this._onBlur,this).attach(a,"blur")};
},_detachEvent:function(){for(var b in this._htEvent){var a=this._htEvent[b];
a.ref.detach(a.el,b.substring(b.lastIndexOf("_")+1));
}this._htEvent=null;
},_onFocus:function(a){if(this._nTimer>-1){return;
}this._htWElement.textarea.addClass(this.option("sClassPrefix")+"textarea-focus");
this._nTimer=setInterval(MobileCommentJindo.$Fn(this._checkHeightAndExpand,this).bind(),10);
this.fireEvent("focus",{elTextArea:this._htWElement.textarea.$value()});
},_onBlur:function(a){if(this._nTimer==-1){return;
}clearInterval(this._nTimer);
this._nTimer=-1;
this._htWElement.textarea.removeClass(this.option("sClassPrefix")+"textarea-focus");
this.fireEvent("blur",{elTextArea:this._htWElement.textarea.$value()});
},_checkHeightAndExpand:function(){if(this._hasEnoughHeight()===false){this._expandHeight();
}},_hasEnoughHeight:function(){var a=this._htWElement.textarea.$value();
if(a.scrollHeight>a.clientHeight){return false;
}return true;
},_expandHeight:function(){var d=this._htWElement.textarea.$value();
var c=this.option("nMaxHeight");
var b=this.option("nExpandHeight");
var a=d.scrollHeight+b;
if(c>0&&a>=c){d.style.height=c+"px";
}else{d.style.height=d.scrollHeight+b+"px";
this.fireEvent("expand",{elTextArea:this._htWElement.textarea.$value()});
}},getValue:function(){return this._htWElement.textarea.$value().value;
},setValue:function(a){this._htWElement.textarea.$value().value=a;
this._checkHeightAndExpand();
},deleteValue:function(){this._htWElement.textarea.$value().value="";
},enable:function(){var a=this._htWElement.textarea.$value();
a.disabled=false;
this._htWElement.textarea.removeClass(this.option("sClassPrefix")+"textarea-disable");
this.fireEvent("enable",{elTextArea:a});
},disable:function(){var a=this._htWElement.textarea.$value();
a.disabled=true;
this._htWElement.textarea.addClass(this.option("sClassPrefix")+"textarea-disable");
this.fireEvent("disable",{elTextArea:a});
},setExpandHeight:function(a){this.option("nExpandHeight",a);
},getExpandHeight:function(){return this.option("nExpandHeight");
},setMaxHeight:function(b){this.option("nMaxHeight",b);
var a=this._htWElement.textarea.$value();
if(b>0&&a.scrollHeight>=b){a.style.height=b+"px";
}else{if(b>0&&a.scrollHeight<b){a.style.height=a.scrollHeight+"px";
}}},getMaxHeight:function(){return this.option("nMaxHeight");
},destroy:function(){this.deactivate();
if(this._oTimer){clearInterval(this._oTimer);
this._oTimer=null;
}for(var a in this._htWElement){this._htWElement[a]=null;
}this._htWElement=null;
this._bTouchTextArea=null;
this._touchMoved=null;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.ToggleSlider=MobileCommentJindo.$Class({$init:function(b,a){this.option({sClassPrefix:"tslider-",bUseDrag:true,bActivateOnload:true,nOnPosition:50,nOffPosition:0,bStatus:true});
this.option(a||{});
this._setWrapperElement(b);
this._initVar();
if(this.option("bActivateOnload")){this.activate();
if(this.option("bStatus")){this.bStatusOn=false;
this.on();
}else{this.bStatusOn=true;
this.off();
}}},_initVar:function(){if(this._htWElement.track){this._oTouch=new MobileCommentJindo.m.Touch(this._htWElement.track.$value(),{nSlopeThreshold:1,nMoveGap:2,bActivateOnload:false});
this._oTouch.attach({touchMove:MobileCommentJindo.$Fn(this._onMove,this).bind(),touchEnd:MobileCommentJindo.$Fn(this._onEnd,this).bind(),touchStart:MobileCommentJindo.$Fn(this._onStart,this).bind()});
}else{this._oTouch=null;
}this.bMove=false;
this.htInfo={nMax:Math.max(this.option("nOnPosition"),this.option("nOffPosition")),nMin:Math.min(this.option("nOnPosition"),this.option("nOffPosition")),nGap:Math.round(Math.abs((this.option("nOnPosition")-this.option("nOffPosition"))/2))};
},_setWrapperElement:function(b){this._htWElement={};
var b=MobileCommentJindo.$(b);
var c="."+this.option("sClassPrefix");
this._htWElement.base=MobileCommentJindo.$Element(b);
var a=b?MobileCommentJindo.$$("[name="+this.option("sClassPrefix")+"radio]",b):null;
this._htWElement.aRadio=MobileCommentJindo.$A(a).forEach(function(f,d,g){g[d]=MobileCommentJindo.$Element(f);
}).$value();
this._htWElement.track=b?MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(c+"track",b)):null;
this._htWElement.thumb=b?MobileCommentJindo.$Element(MobileCommentJindo.$$.getSingle(c+"thumb",b)):null;
},_onStart:function(a){a.oEvent.stop(MobileCommentJindo.$Event.CANCEL_DEFAULT);
},_onMove:function(b){if(!this.option("bUseDrag")){return;
}b.oEvent.stop(MobileCommentJindo.$Event.DEFAULT);
this.bMove=true;
var a=b.nDistanceX;
var c=this._getAdjustedPos(a);
this._moveThumb(c);
},_onEnd:function(c){if(c.sMoveType=="tap"){this.toggle();
}else{if(this.bMove){var b=this.isOn()?this.option("nOnPosition"):this.option("nOffPosition");
var a=this._getPosition();
if(Math.abs(b-a)>this.htInfo.nGap){this.toggle();
}else{this._move(this.isOn(),false);
}}else{this.toggle();
}}this.bMove=false;
},_move:function(b,a){if(typeof a=="undefined"){a=true;
}var c=this.option("nOffPosition");
if(a){if(!this.fireEvent("beforeChange",{bOn:this.isOn()})){return false;
}}if(b){c=this.option("nOnPosition");
}this._moveThumb(c,100);
if(a){this.fireEvent("change",{bOn:b});
}this.bStatusOn=b;
this._updateForm();
},toggle:function(){if(this.isOn()){this.off();
}else{this.on();
}},on:function(){if(!this.isOn()){this._move(true);
}},off:function(){if(this.isOn()){this._move(false);
}},isOn:function(){return this.bStatusOn;
},_updateForm:function(){if(!this._htWElement.aRadio){return;
}var d=this.isOn()?"on":"off";
for(var b=0,c=this._htWElement.aRadio.length;
b<c;
b++){var a=this._htWElement.aRadio[b];
if(a.$value().value==d){a.$value().checked=true;
}else{a.$value().checked=false;
}}},_moveThumb:function(b,a){if(b>this.htInfo.nMax||b<this.htInfo.nMin){return;
}if(typeof a=="undefined"){a=0;
}if(this._htWElement.thumb){this._htWElement.thumb.css("webkitTransitionDuration",a+"ms");
this._htWElement.thumb.css("webkitTransitionProperty","left");
this._htWElement.thumb.css("left",b+"%");
}},_getAdjustedPos:function(b){var a=Math.round((b*100)/this._htWElement.track.width());
a=a+(this.isOn()?this.option("nOnPosition"):this.option("nOffPosition"));
a=Math.max(this.htInfo.nMin,a);
a=Math.min(this.htInfo.nMax,a);
return a;
},_getPosition:function(){var a=this._htWElement.thumb.css("left");
return(a=="auto")?0:parseInt(a,10);
},_onClick:function(a){a.stop();
},_attachEvent:function(){this._htEvent={};
this._htEvent.click={ref:MobileCommentJindo.$Fn(this._onClick,this).attach(this._htWElement.thumb,"click"),el:this._htWElement.thumb};
},_detachEvent:function(a){if(a){var b=this._htEvent[a];
b.ref.detach(b.el,a);
}},_onActivate:function(){this._attachEvent();
if(this._oTouch){this._oTouch.activate();
}},_onDeactivate:function(){this._detachEvent();
if(this._oTouch){this._oTouch.deactivate();
}},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null;
}this._htWElement=null;
this._oTouch.detachAll();
this._oTouch=null;
this.bMove=null;
this.bStatusOn=null;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.ExpandEffect=MobileCommentJindo.$Class({sEffectName:"expand",getCommand:function(d,g){var b=g.sDirection?g.sDirection:"down";
var f="width";
var a=this._htLayerInfo.nWidth;
if(b=="up"||b=="down"){f="height";
a=this._htLayerInfo.nHeight;
}var c=g.htTo||{};
c[f]=a+"px";
if(b=="left"){c["margin-left"]=this._htLayerInfo.nMarginLeft+"px";
}if(b=="up"){c["margin-top"]=this._htLayerInfo.nMarginTop+"px";
}return{sTaskName:this.sEffectName+"-"+b,htStyle:c,htTransform:{}};
},getBeforeCommand:function(b,d){var a=d.sDirection?d.sDirection:"down";
var c="width";
if(a=="up"||a=="down"){c="height";
}var f=d.htFrom||{};
f[c]="0";
f.overflow="hidden";
if(a=="left"){f["margin-left"]=(this._htLayerInfo.nWidth+this._htLayerInfo.nMarginLeft)+"px";
}if(a=="up"){f["margin-top"]=(this._htLayerInfo.nHeight+this._htLayerInfo.nMarginTop)+"px";
}return{htStyle:f,htTransform:{}};
}}).extend(MobileCommentJindo.m.Effect);
MobileCommentJindo.m.TextInput=MobileCommentJindo.$Class({$init:function(b,a){this.option({sClassPrefix:"fit-",bUseValidate:false,bActivateOnload:true});
this.option(a||{});
this._initVar();
this._setWrapperElement(b);
this._init();
if(this.option("bActivateOnload")){this.activate();
}},$static:{INDEX_ATTR:"data-index",VALIDATE_ATTR:"data-validate"},_initVar:function(){this._aTextInput=[];
this._sPreValue=null;
this._nWatcher=null;
this._sClickEvent=(MobileCommentJindo.m.getDeviceInfo().iphone||MobileCommentJindo.m.getDeviceInfo().ipad||MobileCommentJindo.m.getDeviceInfo().android)?"touchstart":"mousedown";
this._nFocusTimer=null;
this._nBlurTimer=null;
},_setWrapperElement:function(a){this._htWElement={};
this._htWElement.baseElement=MobileCommentJindo.$Element(a);
},_init:function(){var f,l,d,c,h,g=[];
h=this._htWElement.baseElement.queryAll("."+this.option("sClassPrefix")+"textinput-unit");
for(var a=0,b=h.length;
a<b;
a++){f=MobileCommentJindo.$Element(h[a]);
f.attr(MobileCommentJindo.m.TextInput.INDEX_ATTR,a).css("position","relative");
l=MobileCommentJindo.$Element(f.query("input"));
l.attr(MobileCommentJindo.m.TextInput.INDEX_ATTR,a);
d=f.query("."+this.option("sClassPrefix")+"clear-btn");
if(d){d=MobileCommentJindo.$Element(d);
d.attr(MobileCommentJindo.m.TextInput.INDEX_ATTR,a).css({position:"absolute",zIndex:100,cursor:"pointer",right:"0px",top:"0px"}).hide();
}this._aTextInput.push({welUnit:f,welInput:l,welDel:d});
}},_attachEvent:function(){this._htEvent={};
this._htEvent.focus=MobileCommentJindo.$Fn(this._onFocus,this);
this._htEvent.blur=MobileCommentJindo.$Fn(this._onBlur,this);
this._htEvent.clear=MobileCommentJindo.$Fn(this._onClear,this);
for(var a=0,b=this._aTextInput.length;
a<b;
a++){this._attachUnitEvent(this._aTextInput[a]);
}},_attachUnitEvent:function(a){this._htEvent.focus.attach(a.welInput,"focus");
this._htEvent.blur.attach(a.welInput,"blur");
if(a.welDel){this._htEvent.clear.attach(a.welDel,this._sClickEvent);
}},_detachEvent:function(){for(var a=0,b=this._aTextInput.length;
a<b;
a++){this._detachUnitEvent(this._aTextInput[a]);
}for(var c in this._htEvent){this._htEvent[c]=null;
}this._htEvent=null;
},_detachUnitEvent:function(a){this._htEvent.focus.detach(a.welInput,"focus");
this._htEvent.blur.detach(a.welInput,"blur");
if(a.welDel){this._htEvent.clear.detach(a.welDel,this._sClickEvent);
}},_displayClearBtn:function(c){var b=this.getIndex(c),a=this._aTextInput[b].welDel;
if(!a){return;
}if(MobileCommentJindo.$S(c.$value().value).trim()!=""){if(!a.visible()&&this.fireEvent("beforeShowClearBtn",{nIndex:b,welClearBtn:a})){a.show();
this.fireEvent("showClearBtn",{nIndex:b,welClearBtn:a});
}}else{if(a.visible()&&this.fireEvent("beforeHideClearBtn",{nIndex:b,welClearBtn:a})){a.hide();
this.fireEvent("hideClearBtn",{nIndex:b,welClearBtn:a});
}}},_validate:function(f){var c=f.attr(MobileCommentJindo.m.TextInput.VALIDATE_ATTR);
if(!c){return;
}var d=f.$value().value,a=MobileCommentJindo.m.Validation.validate(c,d),b=this.getIndex(f);
if(a){if(typeof a.sCorrectedValue!=="undefined"&&a.sCorrectedValue!==null){f.$value().value=this._sPreValue=a.sCorrectedValue;
}this.fireEvent((a.bValid?"valid":"invalid"),{htValidate:a,htTextInput:this._aTextInput[b],nIndex:b});
}},_onFocus:function(b){var c=this.getIndex(b.element);
var a=this;
if(MobileCommentJindo.m.getDeviceInfo().android){clearTimeout(this._nFocusTimer);
this._nFocusTimer=setTimeout(function(){a._processFocus(c);
},100);
}else{a._processFocus(c);
}},_processFocus:function(c){var b=this._aTextInput[c];
var a=b.welUnit;
var d=this.option("sClassPrefix")+"focus";
if(!a.hasClass(d)){a.addClass(d);
}this._runWatcher(b.welInput);
this.fireEvent("focus",{nIndex:c,htTextInput:b});
},_onBlur:function(b){var c=this.getIndex(b.element);
var a=this;
if(MobileCommentJindo.m.getDeviceInfo().android){clearTimeout(this._nBlurTimer);
this._nBlurTimer=setTimeout(function(){a._processBlur(c);
},100);
}else{a._processBlur(c);
}},_processBlur:function(a){this._aTextInput[a].welUnit.removeClass(this.option("sClassPrefix")+"focus");
this._stopWatcher();
if(this.option("bUseValidate")){var b=this._aTextInput[a].welInput;
this._validate(b);
this._displayClearBtn(b);
}this.fireEvent("blur",{nIndex:a,htTextInput:this._aTextInput[a]});
},_onClear:function(b){var a=MobileCommentJindo.$Element(b.element);
nIndex=this.getIndex(a),welInput=this._aTextInput[nIndex].welInput,htInfo=MobileCommentJindo.m.getDeviceInfo(),nVersion=parseInt(htInfo.version,10);
welInput.$value().value="";
if(htInfo.android&&nVersion===3){this._detachUnitEvent(this._aTextInput[nIndex]);
welInput.$value().blur();
welInput.$value().focus();
this._attachUnitEvent(this._aTextInput[nIndex]);
}else{if(!htInfo.android&&nVersion>4){welInput.$value().blur();
welInput.$value().focus();
}}this._displayClearBtn(welInput);
this.fireEvent("clear",{nIndex:nIndex,htTextInput:this._aTextInput[nIndex]});
b.stop(MobileCommentJindo.$Event.CANCEL_ALL);
return false;
},_runWatcher:function(c){var a=this,b=null;
this._stopWatcher();
this._nWatcher=setInterval(function(){a._onChange(c);
},100);
},_stopWatcher:function(){clearInterval(this._nWatcher);
this._nWatcher=null;
this._sPreValue=null;
},_onChange:function(b){var a=b.$value().value;
if(this._sPreValue!=a){this._sPreValue=a;
this.fireEvent("change",{sPreValue:a,welInput:b,nIndex:this.getIndex(b)});
this._displayClearBtn(b);
}else{this._displayClearBtn(b);
}},_getTextInputList:function(a){var c=[];
if(a){if(a instanceof Array){for(var b=0,d=a.length;
b<d;
b++){c.push(MobileCommentJindo.$Element(a[b]));
}}else{c.push(MobileCommentJindo.$Element(a));
}}else{for(var b=0,d=this._aTextInput.length;
b<d;
b++){c.push(this._aTextInput[b].welUnit);
}}return c;
},_useSettingUnit:function(b,a){var c=this;
this._stopWatcher();
var d=this._getTextInputList(b);
if(MobileCommentJindo.m.getDeviceInfo().android){setTimeout(function(){c._useSettingUnitCore(d,a);
},100);
}else{c._useSettingUnitCore(d,a);
}},_useSettingUnitCore:function(c,a){for(var b=0,d=c.length;
b<d;
b++){if(a){this._enableElement(c[b]);
}else{this._disableElement(c[b]);
}}this.fireEvent((a?"enable":"disable"),{aTextInputUnit:c});
},_enableElement:function(b){var a=this.getIndex(b),c=this._aTextInput[a].welInput;
this._detachUnitEvent(this._aTextInput[a]);
this._attachUnitEvent(this._aTextInput[a]);
b.removeClass(this.option("sClassPrefix")+"disable");
c.$value().disabled=false;
this._displayClearBtn(c);
},_disableElement:function(c){var a=this.getIndex(c),d=this._aTextInput[a].welInput,b=this._aTextInput[a].welDel;
this._detachUnitEvent(this._aTextInput[a]);
c.addClass(this.option("sClassPrefix")+"disable");
d.$value().disabled=true;
if(b){b.hide();
}},enable:function(a){if(this.isActivating()){this._useSettingUnit(a,true);
}},disable:function(a){if(this.isActivating()){this._useSettingUnit(a,false);
}},getElement:function(a){if(a<this._aTextInput.length&&a>=0){return this._aTextInput[a].welUnit;
}},getInputElement:function(a){if(a<this._aTextInput.length&&a>=0){return this._aTextInput[a].welInput;
}},getDelElement:function(a){if(a<this._aTextInput.length&&a>=0){return this._aTextInput[a].welDel;
}},getIndex:function(a){return parseInt(MobileCommentJindo.$Element(a).attr(MobileCommentJindo.m.TextInput.INDEX_ATTR),10);
},getLength:function(){return this._aTextInput.length;
},_onActivate:function(){this._attachEvent();
},_onDeactivate:function(){this._detachEvent();
this._stopWatcher();
},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null;
}this._htWElement=null;
}}).extend(MobileCommentJindo.UIComponent);
MobileCommentJindo.m.Validation=MobileCommentJindo.$Class({$init:function(){},$static:{_htValidator:{},_htValidatorType:{email:"MobileCommentJindo.m.EmailValidator",url:"MobileCommentJindo.m.UrlValidator",tel:"MobileCommentJindo.m.TelValidator",date:"MobileCommentJindo.m.DateValidator",number:"MobileCommentJindo.m.NumberValidator",currency:"MobileCommentJindo.m.CurrencyValidator",require:"MobileCommentJindo.m.RequireValidator"},_createValidator:function(sType){if(MobileCommentJindo.m.Validation._htValidatorType[sType]&&!MobileCommentJindo.m.Validation._htValidator[sType]){MobileCommentJindo.m.Validation._htValidator[sType]=eval("new "+MobileCommentJindo.m.Validation._htValidatorType[sType]+"()");
}},add:function(b,a){MobileCommentJindo.m.Validation._htValidatorType[b]=a;
},remove:function(a){delete MobileCommentJindo.m.Validation._htValidatorType[a];
},_parse:function(d){var g=d.split(";");
var l,h,a={};
for(var b=0,c=g.length;
b<c;
b++){var f=g[b].split(":");
if(f){l=f[0];
h=f.length>1?f[1]:null;
a[l]=a[l]||h;
MobileCommentJindo.m.Validation._createValidator(l);
}}return a;
},validate:function(c,f){var a,b=MobileCommentJindo.m.Validation._parse(c);
if("require" in b){a=MobileCommentJindo.m.Validation._htValidator.require.validate(f);
if(!a.bValid){return{bValid:false,sType:"require",sPreValue:f};
}else{delete b.require;
}}if(MobileCommentJindo.$S(f).trim()==""){return null;
}for(var d in b){a=MobileCommentJindo.m.Validation._htValidator[d].validate(f,b[d]);
if(!a.bValid){a.sType=d;
a.sPreValue=f;
return a;
}}a.bValid=true;
a.sPreValue=f;
return a;
}}});
MobileCommentJindo.m.CurrencyValidator=MobileCommentJindo.$Class({rx:/^[+-]?[^\s\t\v\d]+(\d{1,3},)?(\d{3},)*(\d)+(\.\d+)?$/,_getCorrectedValue:function(b,a){b=this._applyComma(this._filterNumber(b));
a=a||"\\";
b=(b.charAt(0)==="-"?"-"+a+b.substring(1):a+b);
return b;
}}).extend(MobileCommentJindo.m.NumberValidator);
MobileCommentJindo.m.DateValidator=MobileCommentJindo.$Class({_isValid:function(g,b){b=b||"yyyy-mm-dd";
g=g.replace(/[\.-]/g,"");
var a=b.replace(/[\d\.-]/g,""),c=g.substr(a.indexOf("yyyy"),4)*1,d=g.substr(a.indexOf("mm"),2)*1,f=g.substr(a.indexOf("dd"),2)*1;
if((d>=1&&d<=12)&&(f>=1&&f<=31)&&(c>=1000)){return true;
}return false;
},_getCorrectedValue:function(c,b){b=b||"yyyy-mm-dd";
var a=b.replace(/[\d\.-]/g,"");
c=c.replace(/[^\d]/g,"").substr(0,a.length);
if(c.length>=(a.length-1)){c=this._getFormatted(c,b);
}return c;
},_getFormatted:function(b,d){var c=d.replace(/[\.-]/g,""),g=b.substr(c.indexOf("yyyy"),4),a=b.substr(c.indexOf("mm"),2),f=b.substr(c.indexOf("dd"),2);
return d.replace(/(yyyy|mm|dd)/gi,function(h){switch(h){case"yyyy":return g;
case"mm":return a;
case"dd":return f;
}});
}}).extend(MobileCommentJindo.m.Validator);
MobileCommentJindo.m.EmailValidator=MobileCommentJindo.$Class({rx:/^(([\w-]+\.)+[\w-]+|([a-zA-Z]{1}|[\w-]{2,}))@((([0-1]?[0-9]{1,2}|25[0-5]|2[0-4][0-9])\.([0-1]?[0-9]{1,2}|25[0-5]|2[0-4][0-9])\.([0-1]?[0-9]{1,2}|25[0-5]|2[0-4][0-9])\.([0-1]?[0-9]{1,2}|25[0-5]|2[0-4][0-9])){1}|([a-zA-Z]+[\w-]+\.)+[a-zA-Z]{2,4})$/,_isValid:function(a){if(this.rx.test(a)){return true;
}else{return false;
}},_getCorrectedValue:function(b){b=b.replace(/[^\w\.\@]/g,"").replace(/\.{2,}/g,".");
var a=b.split("@");
if(a.length>2){b=a.shift()+"@"+a.join("");
}return b;
}}).extend(MobileCommentJindo.m.Validator);
MobileCommentJindo.m.RequireValidator=MobileCommentJindo.$Class({validate:function(b){b=MobileCommentJindo.$S(b).trim();
var a={bValid:false,sCorrectedValue:null};
a.bValid=b!=""?true:false;
return a;
}}).extend(MobileCommentJindo.m.Validator);
MobileCommentJindo.m.TelValidator=MobileCommentJindo.$Class({rx:/^(\d{2,3})(\d{3,4})(\d{4})$/,_isValid:function(c){c=c.replace(/[^\d]/g,"");
if(this.rx.test(c)){var b=c.length,a=false;
if(c.charAt(0)==="0"){if((b===9&&c.substring(0,2)==="02")||b===10||b===11){a=true;
}}return a;
}else{return false;
}},_getCorrectedValue:function(b,a){b=b.replace(/[^\d]/g,"");
b=(b.length>11?b.substr(0,11):b);
return this._applyFormat(b,a);
},_applyFormat:function(c,a){a=a||"-";
var b=c.length;
if(c.charAt(0)==="0"){if(b===9&&c.substring(0,2)==="02"){c=c.substr(0,2)+a+c.substr(2,3)+a+c.substr(5,4);
}else{if(b===10){c=c.substr(0,3)+a+c.substr(3,3)+a+c.substr(6,4);
}else{if(b===11){if(c.substr(0,4)==="0505"){c=c.substr(0,4)+a+c.substr(4,3)+a+c.substr(7,4);
}else{c=c.substr(0,3)+a+c.substr(3,4)+a+c.substr(7,4);
}}}}}return c;
}}).extend(MobileCommentJindo.m.Validator);
MobileCommentJindo.m.UrlValidator=MobileCommentJindo.$Class({rx:/(^(http:\/\/)|^(https:\/\/)|(^[A-Za-z0-9\.-]+))+([A-Za-z0-9\.-])*(\.[A-Za-z]{2,}(\/([A-Za-z0-9\.-])*)*)$/,_isValid:function(b,a){if(this.rx.test(b)){return true;
}else{return false;
}},_getCorrectedValue:function(a){return a.replace(/[^A-Za-z0-9-\?&\.\:\/]/g,"").replace(/\.{2,}/g,"").replace(/\?{2,}/g,"").replace(/&{2,}/g,"").replace(/\:{3,}/g,"");
}}).extend(MobileCommentJindo.m.Validator);
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.Util={trim:function(c){var d=/^\s+|\s+$/g;
return c.replace(d,"");
},dateFormat:function(n,q){var m=n.split(/\+/);
m=m[0].split(/T/);
if(m.length>1){var c=m[0].split(/-/);
var d=m[1].split(/:/);
var r=c[0];
var o=c[1];
var t=c[2];
var g=d[0];
var h=d[1];
var f=d[2].split(/\./);
var l=f[1];
f=f[0];
r=Number(r);
o=Number(o)-1;
var s=Number(t);
g=Number(g);
h=Number(h);
f=Number(f);
var u=a.$Date(r,o,s,g,h,f,l);
return u.format(q);
}else{return m[0];
}},setNumberFormat:function(c){c=c.toString();
var g="";
var l=0;
var f=c.length;
for(var d=f;
d>=0;
d--){var h=c.charAt(d);
if(d>f){g=h+g;
continue;
}if(/[0-9]/.test(h)){if(l>=3){g=","+g;
l=0;
}l++;
g=h+g;
}}return g;
},multiLine:function(c,d){c=c.split(/\r/).join("");
if(d){c=c.split(/\n/).join("<br/>");
}else{c=c.split(/\n/).join(" ");
}return c;
},scrollTop:function(){window.scrollTo(0,1);
},isInterruptedComment:function(c){return c>=7&&c<=9;
},compareTextWithoutRetuneChar:function(d,c){var g=d;
var f=c;
g=g.replace(/\r/g,"");
g=g.replace(/\n/g,"");
f=f.replace(/\r/g,"");
f=f.replace(/\n/g,"");
if(g==f){return true;
}return false;
},validation:function(l,c,h,f,d,g){l=a.$S(l).trim().$value();
if(f&&l.length===0){alert(f);
return false;
}if(d&&l.length<c){alert(a.$Template(d).process({min:escape(c.toString())}));
return false;
}if(g&&l.length>h){alert(a.$Template(g).process({max:escape(h.toString())}));
return false;
}return true;
},isFunctionalKey:function(c){if(c==null){return false;
}switch(c){case 8:case 18:case 17:case 37:case 38:case 39:case 40:case 33:case 34:case 46:case 16:case 35:case 36:case 45:case 20:case 27:return true;
}return false;
},movePage:function(d,f){d=this.removeParamsInUrl(d,f);
var c=this.makeQueryString(f);
if(d.indexOf("?")>-1){d+="&"+c;
}else{d+="?"+c;
}this.redirect(d);
},redirect:function(c){if(!c){return;
}window.location.href=c;
},removeParamsInUrl:function(d,f){if(f){for(var c in f){d=d.replace(new RegExp("\\b"+c+"=[^&#]*","g"),"");
}d=d.replace("&&","&").replace("?&","?").replace("&#","#").replace(/(.*)[&?]$/,"$1");
}return d;
},makeQueryString:function(g){var d=[],f="";
if(g){for(var c in g){f=g[c];
if(!f){continue;
}d.push(c+"="+encodeURIComponent(g[c]));
}}return d.join("&");
},preventTapHighlightForJindoNotSupported:function(){if(typeof a.$Element.prototype.preventTapHighlight==="function"){return;
}(function(){if(a.$Agent().navigator().msafari){var d="no_tap_highlight"+new Date().getTime();
var g=document.createElement("style");
var f=document.getElementsByTagName("html")[0];
g.type="text/css";
f.insertBefore(g,f.firstChild);
var c=g.sheet||g.styleSheet;
c.insertRule("."+d+" { -webkit-tap-highlight-color: rgba(0,0,0,0); }",0);
c.insertRule("."+d+" * { -webkit-tap-highlight-color: rgba(0,0,0,.25); }",0);
a.$Element.prototype.preventTapHighlight=function(h){return this[h?"addClass":"removeClass"](d);
};
}else{a.$Element.prototype.preventTapHighlight=function(h){return this;
};
}})();
},arraySetJindoNotSupported:function(){if(typeof a.$Element.prototype.set==="function"){return;
}(function(){a.$A.prototype.set=function(c,d){this._array[c]=d;
return this;
};
})();
},popUp:function(g,f,h,c){var d=window.open(g,f,"width="+h+",height="+c+",status=no,left=0,top=0");
if(d){d.focus();
return d;
}}};
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
nhn.comment.mobile.Util=nhn.comment.mobile.Util||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=nhn.comment.mobile.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
c.DomData={set:function(g,f,d){if(this.get(g,f)){this.remove(g,f);
}g.className+=(g.className?" ":"")+f+(d instanceof Array?"("+this._encode(d).join(",")+")":"");
return g;
},_encode:function(d){if(!d){return d;
}if(d instanceof Array){var g=[];
for(var f=0,h=d.length;
f<h;
f++){g.push(arguments.callee(d[f]));
}return g;
}return String(d).replace(/(["',\(\)\\])/g,function(l,m){switch(m){case",":m=".";
break;
case"(":m="[";
break;
case")":m="]";
break;
}return"\\"+m;
});
},_decode:function(d){if(!d){return d;
}if(d instanceof Array){var g=[];
for(var f=0,h=d.length;
f<h;
f++){g.push(arguments.callee(d[f]));
}return g;
}return String(d).replace(/\\(["'\.\[\]\\])/g,function(l,m){switch(m){case".":m=",";
break;
case"[":m="(";
break;
case"]":m=")";
break;
}return m;
});
},get:function(h,f){var g=this._getRegExp(f);
var d=this._checkElement(h,g);
if(d){return(this.last()||"").split(",");
}return null;
},remove:function(g,d){var f=this._getRegExp(d);
g.className=g.className.replace(f,"$4").replace(/(^\s+|\s+$)/g,"");
return g;
},last:function(){return this._lastValue;
},getParent:function(n,h,f){var m=this._getRegExp(h,f);
var g;
var d=false;
try{d="className" in n;
}catch(l){}for(;
n&&d;
n=n.parentNode){if(g=this._checkElement(n,m)){return g;
}}return null;
},getChild:function(o,l,f){if(o===document&&typeof f==="undefined"){this._gatherCollection();
var h=this._oCollection[l];
if(h&&this._isInHTML(h)){return h;
}return a.$$.getSingle("div."+l)||a.$$.getSingle("."+l);
}var m=this._getRegExp(l,f);
var g=o.getElementsByTagName("*");
for(var d=0,n;
n=g[d];
d++){if(h=this._checkElement(n,m)){return h;
}}return null;
},getChildAll:function(l,q,n){var g=[];
var d="*";
if(/^([a-z0-9]+)\./.test(q)){d=RegExp.$1;
q=q.replace(/^([a-z0-9]+)\./,"");
}var f=this._getRegExp(q,n);
var o;
var m=l.getElementsByTagName(d);
for(var h=0,r;
r=m[h];
h++){if(o=this._checkElement(r,f)){g.push(o);
}}return g;
},_getRegExp:function(g,f){if(f){var d=g+("("+this._encode(f).join(",")+")").replace(/([\/\(\)\[\]\+\.\*\?\|\{\}\\])/g,"\\$1");
return new RegExp("(^|\\s+)"+d+"(\\s+|$)","i");
}return new RegExp("(^|\\s+)"+g+"(\\(([^)]*)\\))?(\\s+|$)","i");
},_checkElement:function(f,d){if(d.test(f.className)){this._lastValue=this._decode(RegExp.$3);
return f;
}return null;
},_gatherCollection:function(){if(this._oCollection){return;
}var f={};
var l=document.getElementsByTagName("*");
var d=/(^|\b)_(\w+)(?=\(|\b|$)/g;
for(var h=0,o;
o=l[h];
h++){var n=o.className.match(d);
if(n){for(var g=0,m=n.length;
g<m;
g++){if(!f[n[g]]){f[n[g]]=o;
}}}}this._oCollection=f;
},_isInHTML:function(d){do{if(d===document.body){return true;
}}while(d=d.parentNode);
return false;
}};
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
nhn.comment.mobile.Util=nhn.comment.mobile.Util||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=nhn.comment.mobile.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
c.Bubbler=a.$Class({$init:function(d){this._el=d;
this._eventTypes={};
this._fpEventHandler=a.$Fn(this._eventHandler,this);
},attach:function(f,o){if(typeof f=="object"){var n=arguments.callee;
a.$H(f).forEach(function(s,r){n.call(this,r,s);
},this);
return this;
}if(a.$Agent().navigator().msafari){f=f.replace(/:mousedown$/,":touchstart").replace(/:mousemove$/,":touchmove").replace(/:mouseup$/,":touchend");
}var m=f.split(":");
var h=m[0];
var d=m[1].toLowerCase();
var l=/^!/.test(h)?"T":"F";
h=h.replace(/^!/,"");
var g=d;
if(g=="mouseenter"){g="mouseover";
}else{if(g=="mouseleave"){g="mouseout";
}}if(!(d in this._eventTypes)){this._eventTypes[d]=a.$H();
this._fpEventHandler.attach(this._el,g);
}var q=this._eventTypes[d];
if(!q.hasKey(h)){q.$(h,{T:a.$A(),F:a.$A()});
}q.$(h)[l].push(o);
return this;
},detach:function(f,o){if(typeof f=="object"){var n=arguments.callee;
a.$H(f).forEach(function(t,s){n.call(this,s,t);
},this);
return this;
}if(a.$Agent().navigator().msafari){f=f.replace(/:mousedown$/,":touchstart").replace(/:mousemove$/,":touchmove").replace(/:mouseup$/,":touchend");
}var l=f.split(":");
var g=l[0];
var d=l[1].toLowerCase();
var h=/^!/.test(g)?"T":"F";
g=g.replace(/^!/,"");
var r=this._eventTypes[d];
var q=r.$(g)[h];
if(q){var m=q.indexOf(o);
if(m!=-1){q.splice(m,1);
}}},_eventHandler:function(d){var g=d.type.toLowerCase();
var f=null;
if(g=="mouseover"){f="mouseenter";
}else{if(g=="mouseout"){f="mouseleave";
}}if(f){this._launchEventHandlers(d,this._eventTypes[f],true);
}this._launchEventHandlers(d,this._eventTypes[g]);
d=null;
},_launchEventHandlers:function(h,l,g){if(!l){return;
}var f=h.element;
var d=h.relatedElement;
l.forEach(function(r,n){var m=r.F;
var t=r.T;
var q=c.DomData.getParent(f,n);
if(!q){t.forEach(function(u){u(h);
});
a.$H.Continue();
}if(g){var o=c.DomData.getParent(d,n);
if(q===o){t.forEach(function(u){u(h);
});
a.$H.Continue();
}}var s=c.DomData.get(q,n);
m.forEach(function(u){u(h,q,s);
});
q=null;
},this);
}});
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=nhn.comment.mobile.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.Config=a.$Class({message:{},$init:function(d){this.instance={};
this._initDefaultConfig();
this._initConvertOption();
if(typeof d=="object"){this.option(d);
}c.preventTapHighlightForJindoNotSupported();
c.arraySetJindoNotSupported();
},_initDefaultConfig:function(){this.option("servicePath","comments");
this.option("isLogin",false);
this.option("objectUrl",""+document.location);
this.option("certUrl","https://nid.naver.com/user/mobile_rncheck.nhn?todo=start");
this.option("loginUrl","https://nid.naver.com/nidlogin.login?svctype=262144");
this.option("browser",a.$Agent().navigator().getName());
var d=document.location.protocol+"//";
d+=document.location.host+"/";
d+=this.option("servicePath")+"/";
this.option("serviceAddress",d);
this.option("categoryId","default");
this.option("viewCategoryId",undefined);
this.option("method","post");
this.option("pageSize",25);
this.option("pageNo",1);
this.option("isRedirectAfterDelete",false);
this.option("formation",["count","write","sort","bestList","list","listFooter","page"]);
this.option("commands",[]);
this.option("isHideWriteForm",false);
this.option("maximumCommentLength",500);
this.option("enableMultiLine",false);
this.option("useEscapeHtml",true);
this.option("myNickName","");
this.option("dateFormat","Y-m-d H:i");
this.option("urlList",{});
this.option("booleans",{});
this.option("comment",[]);
this.option("convention",{});
this.option("initialized",false);
this.option("pagingParameterName","page");
this.option("hidePageAreaIfOnlyOnePageExist",true);
this.option("maxDepth",2);
var f=a.m.getDeviceInfo();
this.option("useMoreContent",false);
if(f.iphone||f.ipad){this.option("useMoreContent",true);
}this.option("errorHandlers",{});
this.option("isBlackMode",false);
this.option("listType","u_comment_v2");
this.option("writeLinkUrl","#");
this.option("innerSvcListSize","3");
this.option("innerSvcListSort","newest");
this.option("useInnerSvcShowReply",true);
this.option("isSimpleList",false);
this.option("useRecommendArea",false);
this.option("replyPageSize",10);
this.option("useRecommendBtnLevel",2);
this.option("listAsync",false);
this.option("useFocus",true);
this.option("landingCommentNo",null);
this.option({elements:{body:"#comment_module",focusTarget:"comment_focus",countArea:".__comment_info",count:".__comment_count",writeboxRoot:".__comment_writebox_root_area",writebox:".__comment_writebox",textarea:"textarea",writeButton:".__comment_write_btn",list:".__comment_list",paginate:".__comment_page_area",pagemore:".__comment_page_more",pagenavigation:".__comment_page_navigation",commandArea:".__comment_command",bestCommentList:".__best_comment_list"}});
this.option({css:{commentItem:"__comment_item",commendDel:"__comment_del_btn",commendReport:"__comment_report_btn",textarea:"__comment_textarea",writeButton:"__comment_write_btn",replyItem:"__reply_item",noList:"__comment_no_list",writePrompt:"__comment_write_prompt",replyButton:"__comment_reply_form_btn",replyItemBest:"__reply_item_best",replyButtonBest:"__comment_reply_form_btn_best",replyCloseButton:"__comment_reply_close_btn",replyList:"__comment_reply_List",replyCloseBtnArea:"__comment_reply_close_btn_area",userRecommendYn:"__comment_user_recommend_yn",replyListPaging:"__comment_reply_list_paging",replyPrevButton:"__comment_reply_prev_btn",replyNextButton:"__comment_reply_next_btn",replyPageInfo:"__comment_reply_page",parentCommentNo:"__parent_comment_no"}});
this.option({templates:{countArea:'<div class="u_comment_top __comment_info"></div>',countSimple:'<div class="u_section"><h2 class="c_fnt">댓글 <span class="u_count __comment_count">{=count}</span></h2><a class="u_btn_refresh c_line c_bak __comment_refresh_btn" href="#">새로고침</a><a class="u_btn_write c_line c_bak c_fnt __comment_writebox_view" href="#">댓글쓰기</a></div>',rootWriteBoxArea:'<div class="u_comment_writebox __comment_writebox_root_area"></div>',replyWriteBoxArea:'<div class="u_comment_writebox __reply_item{if isUserRecommend}_best{/if}({=commentNo})" style="display:none;"></div>',writeBox:'<form action=""><fieldset class="u_comment_write __comment_writebox"><legend class="u_hc">댓글입력</legend><div class="u_writebox c_line"><span class="u_write_text"><textarea id="upload_txt" rows="3" cols="30" class="__comment_textarea({=commentNo}) __comment_user_recommend_yn({if isUserRecommend}Y{else}N{/if})"></textarea></span><span class="u_data __comment_write_prompt({=commentNo})">{=writePrompt}</span></div>{=socialCommentArea}<span class="u_btn_upload"><input type="submit" title="등록" value="등록" class="u_btn_w c_fnt __comment_write_btn"></span></fieldset>{if isUserRecommend}<a href="#" class="u_btn_more __comment_reply_close_btn_area({=commentNo})"><span class="u_btn_wrap"><span class="u_btm_txt open">답글접기</span></span></a>{/if}</form>',replyWriterArea:'<span class="u_comment_reply_writer u_comment_reply_writer{=replyLevel} __reply_writer">{=myNickName}</span>',replyBox:'<div class="u_comment_write u_comment_reply_area u_comment_reply_area{=replyLevel} __reply_item({=commentNo})"><form action="#" method="post"><fieldset><legend class="u_hc">댓글입력</legend><div><label class="u_hc" for="upload_txt{=commentNo}">댓글</label><span class="u_comment_input"><textarea id="upload_txt{=commentNo}" class="u_comment_upload __comment_textarea({=commentNo})" rows="5" cols="30"></textarea></span><input class="u_comment_reply_ulbtn __comment_write_btn" type="button" value="등록"></div>{=socialCommentArea}<p class="u_comment_promt __comment_write_prompt({=commentNo})">{=writePrompt}</p></fieldset></form></div>',writePrompt:"<em>{=inputCommentLength}</em> / {=maximumCommentLength}",bestList:'<ul class="u_comment_lst __best_comment_list"></ul>',list:'<ul class="u_comment_lst __comment_list"></ul>',noList:'<div class="u_comment_none"><p>댓글이 없습니다.<br>첫번째 댓글을 남겨주세요.</p></div>',comment:'<li class="u_comment_depth{if isUserRecommend} best{/if} __comment_item({=commentNo}) {if replyLevel > 1}u_comment_depth{=replyLevel}{/if}">{if replyLevel > 1}<span class="u_depth">└</span>{/if}<div class="u_comment_info"><em class="u_name">{=writerNickName} <span class="u_id">({=writerId})</span></em> {=registeredDate}{if !isMine} <span class="u_bar">|</span> <a href="#" class="u_report __comment_report_btn">신고</a></div>{/if}{if isMine}<a href="#" class="u_btn_del __comment_del_btn __parent_comment_no({=parentCommentNo})">댓글삭제</a></div>{/if}<p class="u_comment_text u_comment_txt{=replyLevel}">{if isUserRecommend}<span class="u_recomm">공감댓글</span> {/if}{=contents}</p><div class="u_comment_reply __comment_reply"><div class="u_comment_btns">{if maxDepth > replyLevel}{if isUserRecommend}<a href="#" class="u_btn c_fnt c_line bt_arw close __comment_reply_form_btn_best({=commentNo})" ><span>답글</span> <b>{if replyCount != null}{=replyCount}{else}0{/if}</b></a>{else}<a href="#" class="u_btn c_fnt c_line __comment_reply_form_btn({=commentNo})" >답글</a>{/if}{/if}{=socialCommentArea}{=recommendDiscommendArea}</div><ul class="u_comment_reply_list __comment_reply_List({=commentNo})" style="display:none;"></ul><div class="u_comment_reply_list_paging __comment_reply_list_paging({=commentNo})" style="display:none;"><a href="#" class="u_rpg_pre __comment_reply_prev_btn" title="이전">이전 답글</a><a href="#" class="u_rpg_next __comment_reply_next_btn" title="다음">다음 답글</a></div></div></li>',deleteComment:'<li class="u_comment_depth __comment_item({=commentNo}) {if replyLevel > 1}u_comment_depth{=replyLevel}{/if}">{if replyLevel > 1}<span class="u_depth">└</span>{/if}<div class="u_comment_del">{if replyLevel > 1}답글{/if}{if replyLevel < 2}댓글{/if}이 삭제되었습니다.</div></li>',blockComment:'<li class="u_comment_depth __comment_item({=commentNo}) {if replyLevel > 1}u_comment_depth{=replyLevel}{/if}">{if replyLevel > 1}<span class="u_depth">└</span>{/if}<div class="u_comment_del">{if status == 7 }본 게시물은 저작권법 제103조에 의거하여 저작권자의 요청으로 임시 게시중단 되었습니다.{elseif status == 8 || status == 9}본 게시물은 정보통신망이용촉진및정보보호등에 관한 법률 제44조의2를 준수하기 위해 다른 이용자의 요청으로 임시 게시중단 되었습니다.{/if}</div></li>',emptyComment:'<li class="u_comment_lst u_empty_comment_lst __comment_item(empty)" style="display:none;"><div><p class="u_comment_txt u_emtpy_comment_txt" style="word-break:break-all;line-break: all;word-wrap:break-word;">. . .</p></div></li>',reportForm:'<form id="commentReportForm" method="GET" target="_parent"><input type="hidden" name="itemSvcCd" id="itemSvcCd" value="CBM"/><input type="hidden" name="itemType" id="itemType" value="CMNT"/><input type="hidden" name="itemVirtualSvcCd" id="itemVirtualSvcCd" value=""/><input type="hidden" name="itemId" id="itemId" value=""/><input type="hidden" name="itemTitle" id="itemTitle" value=""/><input type="hidden" name="itemCateId" id="itemCateId" class="itemCateId0" value=""/><input type="hidden" name="itemCateName" id="itemCateName" class="itemCateName0" value=""/><input type="hidden" name="itemCateLevel" id="itemCateLevel" class="itemCateLevel0" value=""/><input type="hidden" name="itemWriterId" id="itemWriterId" value=""/><input type="hidden" name="itemEncyptWriterId" id="itemEncyptWriterId" value=""/><input type="hidden" name="itemWriterNick" id="itemWriterNick"/><input type="hidden" name="itemDt" id="itemDt" value=""/><input type="hidden" name="m" id="m" value="rprtMobileFrm"/><input type="hidden" name="retUrl" id="retUrl" value=""/><input type="submit" style="display:none;"/></form>',pageArea:'<div class="__comment_page_area"></div>',pageMore:'<div class="u_pg __comment_page_more"><a href="#" class="u_pg_btn __comment_more_button"><span class="u_pg_wrap"><span class="u_pg_area"><span class="u_pg_lod __comment_more_loading" style="display:none;"><span class="u_pg_lodic">로딩중..</span></span><span class="u_pg_txt"><span><span class="__comment_more_moreCnt"></span>개 더보기</span><br/><span class="u_pg_cnt"><span class="__comment_more_current"></span> / <span class="u_pg_total __comment_more_total"></span></span></span></span></span></a><span class="u_pg_btn __comment_more_last" style="display:none;"><span class="u_pg_wrap"><span class="u_pg_area"><span class="u_pg_txt"><span class="u_pg_cnt"><span class="__comment_more_current"></span> / <span class="u_pg_total __comment_more_total"></span></span></span></span></span></span><a href="#" class="u_pg_top __comment_more_top">맨위로</a></div>',pageNavigation:'<div class="u_pg2 __comment_page_navigation"><a href="#" class="u_pg2_btn u_pg2_prev __comment_page_prev"><span class="">이전</span></a><span class="u_pg2_btn u_pg2_prev __comment_page_prev-off"><span class="">이전</span></span><em class="u_pg2_pg __comment_page_info">1-10 <span class="u_pg2_total">/ </span></em><a href="#" class="u_pg2_btn u_pg2_next __comment_page_next"><span class="">다음</span></a><span class="u_pg2_btn u_pg2_next  __comment_page_next-off"><span class="">다음</span></span></div>',pageInfoTemplate:'{=STARTINDEX}-{=ENDINDEX}<span class="u_pg2_total"> / {=ITEMCOUT}</span>',replyPageInfo:'<span class="u_comment_reply_page __comment_reply_page"><em><span>현재페이지 </span>{=curPage}<span>페이지</span></em> / <span>전체페이지 </span>{=totalPage}<span>페이지</span></span>'}});
},_initConvertOption:function(){var f=this.option("booleans");
f.isMine=true;
f.isAdmin=true;
f.isReply=true;
f.isDeleted=true;
f.isVisible=true;
f.isAuthor=true;
f.isAuthorComment=true;
f.isUserRecommend=true;
f.isAuthorRecommend=true;
f.isRecommendArea=true;
f.isMobile=true;
var g=this.option("comment");
g.push("parentCommentNo");
g.push("commentNo");
g.push("writerNickName");
g.push("writerId");
g.push("writerIp");
g.push("maskedWriterId");
g.push("isMine");
g.push("isAdmin");
g.push("contents");
g.push("registeredDate");
g.push("modifiedDate");
g.push("replyLevel");
g.push("isReply");
g.push("isDeleted");
g.push("isVisible");
g.push("writerProfileUrl");
g.push("writerProfileType");
g.push("isMe2DayPosted");
g.push("upCount");
g.push("downCount");
g.push("isUserRecommend");
g.push("isAuthorRecommend");
g.push("isRecommendArea");
g.push("isAuthor");
g.push("isAuthorComment");
g.push("replyCount");
g.push("objectScore");
g.push("status");
g.push("isMobile");
g.push("personacon");
g.push("categoryId");
g.push("ticket");
var d=this.option("convention");
d={parentCommentNo:"parent_comment_no",commentNo:"comment_no",groupNo:"group_no",writerNickName:"writer_nickname",writerId:"writer_id",encodedWriterId:"enc_writer_id",maskedWriterId:"masked_writer_id",writerIp:"writer_ip",registeredDate:"registered_ymdt",modifiedDate:"modified_ymdt",replyLevel:"reply_level",typeCode:"comment_type_code",isMine:"is_mine",isAdmin:"is_admin",isReply:"is_reply",isDeleted:"deleted_yn",isVisible:"visible_yn",isMe2DayPosted:"is_me2day_posted",ticket:"ticket",objectId:"object_id",objectUrl:"object_url",replyCount:"reply_count",writerProfileUrl:"writer_profile_url",writerProfileType:"writer_profile_type",upCount:"up_count",downCount:"down_count",isUserRecommend:"user_recommend_yn",isAuthorRecommend:"author_recommend_yn",isRecommendArea:"is_recommend_area",isAuthor:"is_author",isAuthorComment:"is_author_comment",objectScore:"object_score",status:"status",isMobile:"mobile_yn",personacon:"personacon",categoryId:"category_id"};
this.option("convention",d);
},element:function(g,d){var f=this.option("elements");
if(typeof f=="undefined"||f===null){f={};
this.option("elements",f);
}if(typeof g=="object"){for(var h in g){f[h]=g[h];
}}else{if(typeof g=="string"){if(typeof d=="string"){f[g]=d;
}else{return f[g];
}}else{return null;
}}},template:function(g,d){var f=this.option("templates");
if(typeof f=="undefined"||f===null){f={};
this.option("templates",f);
}if(typeof g=="object"){for(var h in g){f[h]=g[h];
}}else{if(typeof g=="string"){if(typeof d=="string"){f[g]=d;
}else{return a.$Template(f[g]);
}}else{return null;
}}},css:function(d,h){var g=this.option("css");
if(typeof g=="undefined"||g===null){g={};
this.option("css",g);
}if(typeof d=="object"){for(var f in d){g[f]=d[f];
}}else{if(typeof d=="string"){if(typeof h=="string"){g[d]=h;
}else{return g[d];
}}else{return null;
}}},message:function(f,d){var h=this.message;
if(typeof f=="object"){for(var g in f){h[g]=f[g];
}}else{if(typeof f=="string"){if(typeof d=="string"){h[f]=d;
}}}},setTicketConfig:function(){var d={ticket:this.option("ticket")};
this.instance.ajax.call({operation:"ticketConfig",onSuccess:a.$Fn(function(f){this.option("social",f.social);
},this).bind(),param:d});
},getUrlList:function(){var d=a.$H(this.option("urlList"));
if(d.length()==0){this.instance.ajax.call({operation:"urlList",onSuccess:a.$Fn(function(f){this.option("urlList",f.url_list);
},this).bind(),param:{}});
}return this.option("urlList");
}}).extend(a.Component);
b.Config.prototype.message.UNAVAILABLE_OPERATION="요청한 동작을 수행할 수 없습니다.";
b.Config.prototype.message.ALREADY_REPORT="이미 신고된 글입니다.";
b.Config.prototype.message.REPORT_COMPLETE="신고 완료 처리 되었습니다.";
b.Config.prototype.message.NOT_LOGIN="로그인이 필요한 서비스 입니다.\n로그인 하시겠습니까?";
b.Config.prototype.message.EXCEED_MAX_LENGTH="최대 {=max}자까지 입력할 수 있습니다.";
b.Config.prototype.message.NO_CONTENTS="내용을 입력해주세요.";
b.Config.prototype.message.DELETE_CONFIRM="정말 삭제하시겠습니까?";
b.Config.prototype.message.CREATE_ERROR_PWORD_BLOCK="작성하신 내용에 금칙어가 포함되어 있습니다. [{=pwords}]";
b.Config.prototype.message.CREATE_ERROR_PWORD_ABUSING="작성하신 내용에 사용이 제한된 문구가 포함되어 일시적으로 등록이 제한됩니다.";
b.Config.prototype.message.DEFAULT_TEXT="주제와 무관한 댓글, 악플은 삭제될 수 있습니다.";
b.Config.prototype.message.NOT_AUTHENTICATED="정보통신망법에 따라 게시판에 글 작성 시 실명확인이 필요합니다.\n실명확인을 하시겠습니까?";
nhn.comment.config=new b.Config();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.Ajax=a.$Class({message:{},_htDefaultErrors:{},error:{create:{}},$init:function(){this.option("handlers",{});
this.option("list","list_comment.nhn");
this.option("moreList","list_next_comment.nhn");
this.option("create","set_comment.nhn");
this.option("delete","delete_comment.nhn");
this.option("isReport","isreported_comment.nhn");
this.option("report","report_comment.nhn");
this.option("isLogin","is_logged_in.nhn");
this.option("vote","vote_comment.nhn");
this.option("checkAuth","is_authenticated_name.nhn");
this.option("snsAuthStatus","get_sns_auth_status.nhn");
this.option("ticketConfig","get_ticket_config.nhn");
this.option("urlList","get_url_list.nhn");
this.option("replyList","list_reply_comment.nhn");
this.indexInstance=b.Ajax.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
},initErrorHandler:function(){this.setErrorHandlers({"403101":a.$Fn(this._handleNotLoginError,this).bind(),"301":a.$Fn(this._handleNotAuthError,this).bind()});
this.setErrorHandlers(this.config.option("errorHandlers"));
},getCommonParams:function(){var c={};
c.ticket=this.config.option("ticket");
c.object_id=this.config.option("objectId");
c._ts=(new Date().getTime());
if(typeof this.config.option("lkey")!="undefined"){c.lkey=this.config.option("lkey");
}if(typeof this.config.option("viewCategoryId")!="undefined"){c.view_category_id=this.config.option("viewCategoryId");
}if(typeof this.config.option("categoryId")!="undefined"){c.category_id=this.config.option("categoryId");
}return c;
},getListParams:function(){var c=this.getCommonParams();
c.page_size=this.config.option("pageSize");
return c;
},getUrl:function(d){var c=this.config.option("serviceAddress")+this.option(d);
return c;
},call:function(g){var c=this.option("handlers");
delete c[g.operation];
c[g.operation]=g.onSuccess;
var f=this.getUrl(g.operation);
var d=a.$Ajax(f,{method:this.config.option("method")||"post",async:g.async?g.async:false,onload:a.$Fn(this._onSuccess,this).bind(g.operation,g.param),onerror:a.$Fn(this._onError,this).bind(g.errorMessage)});
d.request(g.param);
},callSync:function(c,l){var g=this.getUrl(c);
var d={success:undefined,response:undefined};
var f=a.$Ajax(g,{method:this.config.option("method")||"post",async:false,onload:a.$Fn(this._onSuccessSync,this).bind(d),onerror:a.$Fn(this._onErrorSync,this).bind(d)});
f.request(l);
if(d.success){var h=this._errorHandler(d.response,this.error[c]);
if(h==0){return d.response;
}}},_onSuccessSync:function(d,c){d.success=true;
d.response=c.json();
},_onErrorSync:function(d,c){d.success=false;
},_onSuccess:function(h,g,d){var f=d.json();
if(this._errorHandler(f,this.error[h])===0){var c=this.option("handlers")[h];
c(f,g);
}},_onError:function(d,c){if(typeof d!="undefined"){alert(d);
}},_errorHandler:function(f,d){if(!f.error){return -1;
}var c=f.error;
if(!c.no||c.no=="0"){return Number(c.no);
}if(c.no=="-1"){alert(this.config.message.UNAVAILABLE_OPERATION);
return Number(c.no);
}if(d&&d[c.no]){var g=a.$Fn(d[c.no],this).bind();
g(f);
}else{if(this._htDefaultErrors&&this._htDefaultErrors[c.no]){this._htDefaultErrors[c.no](f,this);
}else{alert(c.message);
}}return Number(c.no);
},setErrorHandlers:function(d){if(typeof d!="object"){return;
}for(var c in d){this._htDefaultErrors[c]=d[c];
}},_handleNotLoginError:function(d,c){c.config.option("isLogin",false);
c.config.instance.auth.redirectLogin();
},_handleNotAuthError:function(d,c){c.config.option("isAuth",false);
c.config.instance.auth.redirectAuth();
}}).extend(a.Component);
nhn.comment.ajax=new b.Ajax();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.CommentItem=a.$Class({$init:function(l){this.indexInstance=l.indexInstance;
this.config=b.Config.getInstance()[this.indexInstance];
var h=this.config.option("comment");
var d=this.config.option("convention");
var n=this.config.option("booleans");
for(var g=0;
g<h.length;
g++){var f=d[h[g]];
if(typeof f=="undefined"){f=h[g];
}var m=l[f];
if(n[h[g]]){m=(m=="Y");
}if(f=="reply_count"){m=c.setNumberFormat(m==null?0:m);
}this.option(h[g],m);
}this.option("maxDepth",this.config.option("maxDepth"));
this.option("config",this.config);
},createItem:function(q,g){var o=null;
if(this.option("isDeleted")){o=this.config.template("deleteComment");
}else{if(c.isInterruptedComment(this.option("status"))){o=this.config.template("blockComment");
}else{o=this.config.template("comment");
}}this.option("socialCommentArea",this._createSocialCommentAreaHtml());
this.option("recommendDiscommendArea",this._createRecommendDiscommendAreaHtml());
var m=o.process(this.option());
var h=a.$Element(m);
if(g==0){var d=this.config.instance.core.getBody();
var l=a.$Element(d.query(this.config.element("bestCommentList")));
if(l==null||l.query(".first")==null){var f=a.$Element(d.query(this.config.element("list")));
if(!!f.query(".first")){f.query(".first").removeClass("first");
}h.addClass("first");
}else{h.addClass("best");
}q.prepend(h);
}else{var n=a.$Element(this.config.instance.listarea.getElCommentLiTag(g));
n.after(h);
}this._populateCommand(h);
this._createReplyWriteBox(h);
},createBestItem:function(f,n,l){var d=null;
if(this.option("isDeleted")){d=this.config.template("deleteComment");
}else{if(c.isInterruptedComment(this.option("status"))){d=this.config.template("blockComment");
}else{d=this.config.template("comment");
}}this.option("socialCommentArea",this._createSocialCommentAreaHtml());
this.option("recommendDiscommendArea",this._createRecommendDiscommendAreaHtml());
var m=d.process(this.option());
var g=a.$Element(m);
if(n==0){if(!l){g.addClass("first");
}f.prepend(g);
if(l){g.attr("tabindex","-1");
g.$value().focus();
g.$value().blur();
g.attr("tabindex",null);
}}else{var h=a.$Element(this.config.instance.bestlistarea.getElCommentLiTag(n));
h.after(g);
}this._populateCommand(g);
this._createReplyWriteBox(g);
},_createSocialCommentAreaHtml:function(){if(!b.SocialCommentArea||!this.config.option("isLogin")){return"";
}this.config.instance.socialCommentArea=b.SocialCommentArea.getInstance()[this.indexInstance];
return this.config.instance.socialCommentArea.createListAreaHtml(this.option());
},_createRecommendDiscommendAreaHtml:function(){if(!b.RecommendDiscommendArea){return"";
}this.config.instance.recommendDiscommendArea=b.RecommendDiscommendArea.getInstance()[this.indexInstance];
var d='<div class="u_comment_recomm __comment_recomm">'+this.config.instance.recommendDiscommendArea.createListAreaHtml(this.option())+"</div>";
return d;
},_populateCommand:function(g){if(g==null){return;
}var d=a.$Element(g.query(this.config.element("commandArea")));
if(d==null){return;
}var f=this._createCommand();
if(f==null){return;
}d.appendHTML(f);
},_createReplyWriteBox:function(d){this.option("isLogin",this.config.option("isLogin"));
this.option("maximumCommentLength",this.config.option("maximumCommentLength"));
this.config.instance.writearea.createReplyArea(d,this.option());
},_createCommand:function(){var d=this.config.option("commands");
var l="",f="",h=[];
for(var g=0;
g<d.length;
g++){f="";
l=d[g];
if(this.option("isDeleted")){continue;
}if(c.isInterruptedComment(this.option("status"))&&!(l==="delete")){continue;
}f=this.config.template(l+"Command").process(this.option());
if(f==""){continue;
}h.push(f);
}return h.join("");
},getCommentNo:function(){return this.option("commentNo");
},getReplyLevel:function(){return this.option("replyLevel");
},getRegisteredDate:function(){return this.option("registeredDate");
},isDeleted:function(){return this.option("isDeleted")==true;
}}).extend(a.Component);
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=nhn.comment.mobile.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.Command=a.$Class({$init:function(){this.indexInstance=b.Command.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
},deleteComment:function(f,d){f.stop();
var g=this.config.message.DELETE_CONFIRM;
if(!confirm(g)){return false;
}var h=this.config.instance.ajax.getListParams();
h.comment_no=this.getCommentNo(d);
h.page_no=this.config.instance.pagearea.getPageNo();
h.best_yn=a.$Element(d).attr("best_yn");
h.sort=this.config.option("currentSortOption");
this.config.instance.ajax.call({operation:"delete",onSuccess:a.$Fn(this._onDeleteComment,this).bind(),param:h});
},deleteBestReplyComment:function(f,d){f.stop();
var h=c.DomData.get(d,this.config.css("parentCommentNo"))[0];
if(h==0||h==null){a.$Element(d).attr("best_yn","Y");
this.deleteComment(f,d);
return;
}var g=this.config.message.DELETE_CONFIRM;
if(!confirm(g)){return false;
}var l=this.config.instance.ajax.getListParams();
l.comment_no=this.getCommentNo(d);
l.page_no=this.config.instance.pagearea.getPageNo();
l.parent_comment_no=h;
this.config.instance.ajax.call({operation:"delete",onSuccess:a.$Fn(this._onDeleteBestReplyComment,this).bind(),param:l});
},reportComment:function(g,f){g.stop();
var l={};
l.ticket=this.config.option("ticket");
l.object_id=this.config.option("objectId");
l.comment_no=this.getCommentNo(f);
var d=this.config.instance.ajax.callSync("isReport",l);
if(d){if(d.reported_yn===0){var h=document.location.protocol+"//"+document.location.host+"/comments/get_report_information.nhn";
if(l.ticket==""||l.commentNo=="-1"){alert(commonMessage.openFail);
}a.$Ajax(h,{async:false,onload:this.redirectCommonReport}).request({comment_no:l.comment_no,ticket:l.ticket,object_id:l.object_id,is_mobile:l.is_mobile,retUrl:l.retUrl});
}else{alert(this.config.message.ALREADY_REPORT);
}}},redirectCommonReport:function(r){var o=r.json();
var n=o.category;
var h=a.$Form("commentReportForm");
h.$value().action=o.srp_url;
h.value("itemVirtualSvcCd",o.virtual_service_code);
h.value("itemId",o.content_id);
h.value("itemTitle",o.contents);
var g="";
var l=new Array();
var q=new Array();
var f=new Array();
for(var m in n){var d=n[m];
if(g.length>0){g+=";";
}g+=d.category_id;
l.push(g);
q.push(d.category_name);
f.push(d.category_level);
}h.value("itemCateId",l);
h.value("itemCateName",q);
h.value("itemCateLevel",f);
h.value("itemWriterId",o.masked_writer_id);
h.value("itemEncyptWriterId",unescape(o.writer_id));
h.value("itemWriterNick",o.writer_nickname);
h.value("itemDt",o.registered_ymdt);
h.value("retUrl",encodeURIComponent(window.location.href));
h.submit();
},getCommentNo:function(d){var f=this.config.css("commentItem");
var g=c.DomData.getParent(d,f);
c.DomData.get(g,f);
return c.DomData.last();
},_onDeleteComment:function(f,h){this.config.instance.sortListArea.resetArea();
if(this.config.option("useMoreContent")&&!this.config.option("isRedirectAfterDelete")&&h.best_yn!="Y"){this.config.instance.listarea.deleteCommentForIos(h.comment_no);
}else{if(!this.config.option("isRedirectAfterDelete")){this.config.instance.listarea.refreshWithTheResult(f);
}else{var g={};
g[this.config.option("pagingParameterName")]=this.config.option("pageNo");
c.movePage(this.config.option("objectUrl"),g);
}}var d={};
d.commentNo=h.comment_no;
d.totalCount=this.config.instance.pagearea.getTotalCount();
this._processAfterDelete(d);
},_onDeleteBestReplyComment:function(d,f){this.config.instance.bestlistarea.callReplyList(f.parent_comment_no,1);
},_processAfterDelete:function(d){this.config.fireEvent("afterDelete",{result:d});
},toggleReplyForm:function(g,f){g.stop();
var h=this.getCommentNo(f);
var d=a.$Element(c.DomData.getChild(this.config.instance.listarea.getAreaElement().$value(),this.config.css("replyItem"),[h]));
if(!this.config.instance.listarea.toggleTargetAreaDependsOnLoginAndAuth(d)){return;
}this.config.instance.listarea.toogleReplyBtn(a.$Element(f));
},toggleReplyFormBest:function(f,d){f.stop();
var g=this.getCommentNo(d);
this.config.instance.bestlistarea.toogleReplyBtnBest(g);
},toggleReplyFormBestBottom:function(g,f){g.stop();
var h=this.getCommentNo(f);
this.config.instance.bestlistarea.toogleReplyBtnBest(h);
var d=this.config.instance.bestlistarea._getAreaChildElement("replyButtonBest",h);
d.$value().focus();
}}).extend(a.Component);
nhn.comment.command=new b.Command();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=nhn.comment.mobile.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.CountArea=a.$Class({$init:function(){this._welArea=null;
this.indexInstance=b.CountArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
},createArea:function(){this._welArea=a.$Element(this.config.template("countArea").process());
return this._welArea;
},afterCreateArea:function(){this.update(0);
this._createBubbler();
},getAreaElement:function(){return this._welArea;
},update:function(d){var f=null;
this.getAreaElement().empty();
f=this.config.template("countSimple").process({count:d});
this.getAreaElement().append(f);
},_createBubbler:function(){this._oBubbler=new c.Bubbler(this.getAreaElement().$value()).attach({"__comment_writebox_view:click":a.$Fn(this._onClickWriteboxView,this).bind(),"__comment_refresh_btn:click":a.$Fn(this._onClickRefreshButton,this).bind()});
this.getAreaElement().preventTapHighlight(true);
},_onClickWriteboxView:function(d){d.stop();
top.location=this.config.option("writeLinkUrl");
},_onClickRefreshButton:function(d){d.stop();
this.config.instance.listarea.refresh();
}}).extend(a.Component);
nhn.comment.countarea=new b.CountArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.WriteArea=a.$Class({$init:function(){this._whtWriteArea=a.$H({});
this._welArea=null;
this._welTextarea=null;
this.indexInstance=b.WriteArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
},createArea:function(){this._welArea=a.$Element(this.config.template("rootWriteBoxArea").process());
return this._welArea;
},afterCreateArea:function(){this._createWriteBox();
this._createBubbler(this._welArea,this._welTextarea);
},createReplyArea:function(h,l){if(h==null||l==null){return;
}var f=h.query(".__comment_reply");
if(f==null){return;
}var d=this.config.template("replyWriteBoxArea").process(l);
var n=a.$Element(d);
l.writePrompt=this._createWritePromptHtml(0);
l.socialCommentArea=this._createSocialCommentAreaHtml(false);
var m=this.config.template("writeBox").process(l);
n.append(a.$Element(m));
f.append(n);
var g=a.$Element(c.DomData.getChild(n.$value(),this.config.css("textarea")));
g.text(this.config.message.DEFAULT_TEXT);
this._createBubbler(n,g);
},_createReplyWriterAreaHtml:function(d){var f={};
f.replyLevel=d;
f.myNickName=this.config.option("myNickName");
return this.config.template("replyWriterArea").process(f);
},_createWritePromptHtml:function(d){return this.config.template("writePrompt").process({maximumCommentLength:this.config.option("maximumCommentLength"),inputCommentLength:d});
},_updatePromptArea:function(f,l,h){var g=null;
if(l=="Y"){g=c.DomData.getChild(this.config.instance.bestlistarea.getAreaElement().$value(),this.config.css("writePrompt"),[f]);
}else{g=c.DomData.getChild(this.config.instance.core.getBody().$value(),this.config.css("writePrompt"),[f]);
}if(g==null){return;
}var d=this._createWritePromptHtml(h);
a.$Element(g).html(d);
},getAreaElement:function(){return this._welArea;
},show:function(){this._welArea.show();
},focus:function(d,f){this._getTargetTextarea(d,f).$value().focus();
},blur:function(d,f){this._getTargetTextarea(d,f).$value().blur();
},_createSocialCommentAreaHtml:function(d){if(!b.SocialCommentArea){return"";
}this.config.instance.socialCommentArea=b.SocialCommentArea.getInstance()[this.indexInstance];
return this.config.instance.socialCommentArea.createWriteBoxAreaHtml(d);
},_createSocialCommentBubbler:function(d){if(!b.SocialCommentArea){return;
}this.config.instance.socialCommentArea=b.SocialCommentArea.getInstance()[this.indexInstance];
if(this.config.instance.socialCommentArea){this.config.instance.socialCommentArea.createWriteBoxBubbler(d.query(this.config.element("socialCommentWriteBoxArea")));
}},_getSocialCommentParams:function(f,d){if(!b.SocialCommentArea){return d;
}this.config.instance.socialCommentArea=b.SocialCommentArea.getInstance()[this.indexInstance];
if(this.config.instance.socialCommentArea){return this.config.instance.socialCommentArea.getParams(f,d);
}return d;
},_createWriteBox:function(){var f=this._createWritePromptHtml(0);
var d=this._createSocialCommentAreaHtml(true);
var h=this.config.template("writeBox").process({isLogin:this.config.option("isLogin"),writePrompt:f,socialCommentArea:d,commentNo:0});
var g=a.$Element(h);
this._welArea.append(g);
this._welTextarea=a.$Element(g.query(this.config.element("textarea")));
this._welTextarea.text(this.config.message.DEFAULT_TEXT);
if(this.config.option("isHideWriteForm")){this._welArea.hide();
}else{this._welArea.show();
}},_createBubbler:function(f,d){this._oBubbler=new c.Bubbler(f.$value()).attach({"__comment_textarea:keydown":a.$Fn(this._onKeyDownWriteBox,this).bind(),"__comment_write_btn:click":a.$Fn(this._onClickWriteBtn,this).bind(),"__comment_textarea:click":a.$Fn(this._onClickWriteBox,this).bind()});
a.$Fn(this._onBlurWriteBox,this).attach(d.$value(),"blur");
a.$Fn(this._onFocusWriteBox,this).attach(d.$value(),"focus");
f.preventTapHighlight(true);
this._createSocialCommentBubbler(f);
},releaseBubbler:function(f){var d=c.DomData.getChild(this.config.instance.listarea.getAreaElement().$value(),this.config.css("textarea"),[f]);
if(d==null){return;
}a.$Fn(this._onBlurWriteBox,this).detach(d,"blur");
a.$Fn(this._onFocusWriteBox,this).detach(d,"focus");
},_onFocusWriteBox:function(d){this._afterFocus(d);
},_afterFocus:function(d){var f=a.$Element(d.$value().target);
if(f==null){f=a.$Element(d.element);
}this._hideDefaultText(f);
},_onBlurWriteBox:function(d){var f=a.$Element(d.$value().target);
if(f==null){f=a.$Element(d.element);
}this._showDefaultText(f);
},_onKeyDownWriteBox:function(d){if(!this.config.instance.auth.redirectLogin()){return;
}setTimeout(a.$Fn(this._doAfterKeyDownEvent,this).bind(d),10);
},_onClickWriteBox:function(d){if(!this.config.instance.auth.redirectLogin()){var f=c.DomData.get(d.element,this.config.css("textarea"))[0];
var g=c.DomData.get(d.element,this.config.css("userRecommendYn"))[0];
this.blur(f,g);
return;
}},_doAfterKeyDownEvent:function(d){var h=d.$value().target;
if(h==null){h=d.element;
}var g=c.DomData.get(h,this.config.css("textarea"))[0];
var l=c.DomData.get(h,this.config.css("userRecommendYn"))[0];
if(c.isFunctionalKey(d.key().keyCode)){var f=this._getTargetTextarea(g,l);
this._whtWriteArea.$(g,f.text());
this._updatePromptArea(g,l,a.$S(f.text()).trim().$value().length);
return;
}this._detectOverMaxLength(g,l);
},_onClickWriteBtn:function(d){d.stop();
if(!this.config.instance.auth.redirectLogin()){return;
}if(!this.config.instance.auth.redirectAuth()){return;
}var m=a.$Element(d.element).parent(function(q){return q.tag=="form";
})[0];
var l=c.DomData.getChild(m.$value(),this.config.css("textarea"));
var o=a.$Element(l);
var h=c.DomData.get(l,this.config.css("textarea"))[0];
var f=c.trim(o.text());
if(f==this.config.message.DEFAULT_TEXT){f="";
}var n=c.DomData.get(l,this.config.css("userRecommendYn"))[0];
if(!c.validation(f,1,this.config.option("maximumCommentLength"),this.config.message.NO_CONTENTS,false,this.config.message.EXCEED_MAX_LENGTH)){this.focus(h,n);
return;
}if(f.length===0||c.compareTextWithoutRetuneChar(f,this.config.message.DEFAULT_TEXT)){alert(this.config.message.NO_CONTENTS);
this.focus(h,n);
return;
}var g={};
g.parent_comment_no=h;
g.user_recommend_yn=n;
g=this._getSocialCommentParams(m,g);
this._requestWrite(f,g);
},_requestWrite:function(d,f){var h=this.config.instance.ajax.getCommonParams();
h.page_size=this.config.option("pageSize");
h.object_url=this.config.option("objectUrl");
h.contents=d;
h.mobile_yn="Y";
for(var g in f){h[g]=f[g];
}if(!this._processBeforeWrite(h)){return;
}this.config.instance.ajax.call({operation:"create",onSuccess:a.$Fn((h.user_recommend_yn=="Y"?this._onWriteBestReply:this._onWrite),this).bind(),errorMessage:this.config.message.UNAVAILABLE_OPERATION,param:h});
},_onWrite:function(d,f){this.config.option("currentSortOption","newest");
this.config.instance.sortListArea.resetArea();
this._initTargetWriteArea(f.parent_comment_no);
if(!this._processAfterWrite(this._extractCreatedCommentFromResponse(d))){return;
}if(this.config.option("useMoreContent")){this._writeForIos(d,f);
return;
}this._writeForAndroid(d,f);
},_onWriteBestReply:function(d,f){this._initTargetWriteAreaBestReply(f.parent_comment_no);
this.config.instance.bestlistarea.callReplyList(f.parent_comment_no,0);
},_initTargetWriteArea:function(d){this._hideTargetReplyForm(d);
this._getTargetTextarea(d,"N").text(this.config.message.DEFAULT_TEXT);
this._updatePromptArea(d,"N",0);
},_initTargetWriteAreaBestReply:function(d){this._getTargetTextarea(d,"Y").text(this.config.message.DEFAULT_TEXT);
this._updatePromptArea(d,"Y",0);
},_writeForAndroid:function(d,f){this.config.instance.listarea.refreshWithTheResult(d);
},_processBeforeWrite:function(d){return this.config.fireEvent("beforeWrite",{oParam:d});
},_processAfterWrite:function(d){return this.config.fireEvent("afterWrite",{oResultComment:d});
},_writeForIos:function(g,m){var f=this._extractCreatedCommentFromResponse(g);
f=this.config.instance.listarea.preProcessForRawComment(f,g.author_yn);
var l=new b.CommentItem(f);
var h=this.config.instance.commentListModel.findPreSiblingCommentNoOfCreatedComment(f.parent_comment_no,f.reply_level);
if(h!="empty"){l.createItem(this.config.instance.listarea.getAreaElement(),h);
this.config.instance.commentListModel.addComment(l,h);
}this.config.instance.listarea.showOrHideEmptyLiTag();
this.config.instance.listarea.showOrHideNoListLiTag();
this.config.instance.pagearea.update(g.page_no,this.config.instance.pagearea.getTotalCount()+1);
this.config.instance.countarea.update(this.config.instance.pagearea.getTotalCount());
var d=a.$Element(c.DomData.getChild(this.config.instance.listarea.getAreaElement().$value(),this.config.css("replyButton"),[f.parent_comment_no]));
this.config.instance.listarea.toogleReplyBtn(d);
},_hideTargetReplyForm:function(f){if(f==null||f==0){return;
}var d=c.DomData.getChild(this.config.instance.listarea.getAreaElement().$value(),this.config.css("replyItem"),[f]);
if(d==null){return;
}a.$Element(d).hide();
},_extractCreatedCommentFromResponse:function(g){if(g==null||g.comment_list==null||g.create_result==null||g.create_result.comment_no==null){return null;
}var f=g.comment_list;
for(var d in f){if(f[d].comment_no==g.create_result.comment_no){return f[d];
}}return null;
},_detectOverMaxLength:function(l,m){var d=this._getTargetTextarea(l,m);
var g=d.text();
var h=c.validation(g,1,this.config.option("maximumCommentLength"),false,false,this.config.message.EXCEED_MAX_LENGTH);
if(h){this._whtWriteArea.$(l,g);
this._updatePromptArea(l,m,g.trim().length);
return;
}var f=this._whtWriteArea.$(l);
d.text(f==null?"":f);
},_getTargetTextarea:function(d,f){if(d==0){return this._welTextarea;
}if(f=="Y"){return a.$Element(c.DomData.getChild(this.config.instance.bestlistarea.getAreaElement().$value(),this.config.css("textarea"),[d]));
}else{return a.$Element(c.DomData.getChild(this.config.instance.listarea.getAreaElement().$value(),this.config.css("textarea"),[d]));
}},_showDefaultText:function(f){var d=f.text();
if(c.trim(d)==""){f.text(this.config.message.DEFAULT_TEXT);
}},_hideDefaultText:function(f){var d=f.text();
if(c.compareTextWithoutRetuneChar(d,this.config.message.DEFAULT_TEXT)){f.text("");
}}}).extend(a.Component);
nhn.comment.writearea=new b.WriteArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=nhn.comment.mobile.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.BestListArea=a.$Class({$init:function(){this._welArea=null;
this.indexInstance=b.BestListArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
this._oResult=null;
},createArea:function(){this._welArea=a.$Element(this.config.template("bestList").process());
if(this.config.option("useSortList")!=true&&this.config.option("useRecommendArea")==true){this._welArea.attr("id",this.config.element("focusTarget"));
}return this._welArea;
},afterCreateArea:function(){this._createBubbler();
},getAreaElement:function(){return this._welArea;
},_createBubbler:function(){this._oBubbler=new c.Bubbler(this.getAreaElement().$value()).attach({"__comment_del_btn:click":a.$Fn(this.config.instance.command.deleteBestReplyComment,this.config.instance.command).bind(),"__comment_report_btn:click":a.$Fn(this.config.instance.command.reportComment,this.config.instance.command).bind(),"__comment_reply_form_btn_best:click":a.$Fn(this.config.instance.command.toggleReplyFormBest,this.config.instance.command).bind(),"__comment_reply_close_btn_area:click":a.$Fn(this.config.instance.command.toggleReplyFormBestBottom,this.config.instance.command).bind(),"__comment_reply_prev_btn:click":a.$Fn(this.movePrevReplyList,this).bind(),"__comment_reply_next_btn:click":a.$Fn(this.moveNextReplyList,this).bind()});
this.getAreaElement().preventTapHighlight(true);
this._createRecommendDiscommendBubbler(this.getAreaElement());
},empty:function(){this.getAreaElement().empty();
},showBestList:function(d){if(d==null||d.comment_list==null||d.total_count==null||d.page_no==null){return;
}this._addBestComment(d.recommended_list,d.author_yn);
this._oResult=d;
},_addBestComment:function(l,g){if(l==null){return;
}var f=null,m=null;
var h=0;
for(var d=0;
d<l.length;
d++){f=this.preProcessForRawComment(l[d],g);
m=new b.CommentItem(f);
m.createBestItem(this.getAreaElement(),h,false);
h=l[d].comment_no;
}},getElCommentLiTag:function(d){if(d==null){return null;
}return c.DomData.getChild(this.getAreaElement().$value(),this.config.css("commentItem"),[d]);
},preProcessForRawComment:function(d,f){if(d.done_preprocessing){return d;
}d.registered_ymdt=b.Util.dateFormat(d.registered_ymdt,this.config.option("dateFormat"));
d.modified_ymdt=b.Util.dateFormat(d.modified_ymdt,this.config.option("dateFormat"));
if(this.config.option("useEscapeHtml")){d.contents=d.contents.replace("<!-- Not Allowed Tag Filtered -->","");
d.contents=a.$S(d.contents).unescapeHTML().escapeHTML().$value();
}d.contents=b.Util.multiLine(d.contents,this.config.option("enableMultiLine"));
d.indexInstance=this.indexInstance;
d.is_author=f;
d.done_preprocessing=true;
return d;
},_getAreaChildElement:function(f,d){return a.$Element(c.DomData.getChild(this.getAreaElement().$value(),this.config.css(f),[d]));
},toogleReplyBtnBest:function(g){var f=this._getAreaChildElement("replyButtonBest",g);
var h=this._getAreaChildElement("replyList",g);
if(f==null||h==null){return;
}f.toggleClass("open");
f.toggleClass("close");
if(f.hasClass("open")){this.callReplyList(g,1);
}else{var d=a.$Element(c.DomData.getChild(this.getAreaElement().$value(),this.config.css("replyItemBest"),[g]));
d.hide();
f.query("span").text("답글");
f.query("b").text(c.setNumberFormat(f.attr("replyCount")));
h.hide();
this._getAreaChildElement("replyListPaging",g).hide();
}},callReplyList:function(f,d){var g=this.config.instance.ajax.getListParams();
g.page_size=this.config.option("replyPageSize");
g.parent_comment_no=f;
if(d>0){g.page_no=d;
}this.config.instance.ajax.call({operation:"replyList",onSuccess:a.$Fn(this.displayReplyList,this).bind(),param:g});
},displayReplyList:function(f){if(f==null||f.reply_lists[0]==null){return;
}var d=f.reply_lists[0].parent_comment_no;
var g=f.reply_lists[0].reply_list;
if(g==null){return;
}this._openReplyListBest(d,f.reply_lists[0].reply_count);
this._getAreaChildElement("replyList",d).empty();
this._addReplyCommentToBest(d,g,f.author_yn);
this.displayReplyListPaging(f.reply_lists[0]);
},_addReplyCommentToBest:function(f,m,h){if(m==null){return;
}var g=null,o=null;
var l=0;
for(var d=0;
d<m.length;
d++){g=this.preProcessForRawComment(m[d],h);
o=new b.CommentItem(g);
var n=a.$Element(c.DomData.getChild(this.getAreaElement().$value(),this.config.css("replyList"),[f]));
o.createBestItem(n,l,true);
l=m[d].comment_no;
}},_openReplyListBest:function(g,h){var f=this._getAreaChildElement("replyButtonBest",g);
if(f==null){return;
}var l=this._getAreaChildElement("replyList",g);
if(l==null){return;
}var d=a.$Element(c.DomData.getChild(this.getAreaElement().$value(),this.config.css("replyItemBest"),[g]));
d.show("block");
f.attr("replyCount",h);
if(h==0){l.hide();
f.query("span").text("답글취소");
f.query("b").text("");
this._getAreaChildElement("replyCloseBtnArea",g).hide();
this._getAreaChildElement("replyListPaging",g).hide();
}else{l.show("block");
f.query("span").text("답글");
f.query("b").text(c.setNumberFormat(h));
this._getAreaChildElement("replyCloseBtnArea",g).show("block");
this._getAreaChildElement("replyListPaging",g).show("block");
}},displayReplyListPaging:function(g){var o=g.parent_comment_no;
var m=g.page_no;
var l=this._getAreaChildElement("replyListPaging",o);
var d=a.$Element(c.DomData.getChild(l.$value(),this.config.css("replyPrevButton")));
d.attr("parent_comment_no",o);
d.attr("page_no",m);
if(g.is_have_prev_page=="Y"){d.removeClass("u_rpg_dim");
d.attr("href","#");
}else{d.addClass("u_rpg_dim");
d.attr("href",null);
}var f=a.$Element(c.DomData.getChild(l.$value(),this.config.css("replyPageInfo")));
if(f!=null){l.remove(f);
}var h=Math.ceil(Number(g.reply_count)/Number(g.page_size));
f=a.$Element(this.config.template("replyPageInfo").process({curPage:m,totalPage:h}));
d.after(f);
var n=a.$Element(c.DomData.getChild(l.$value(),this.config.css("replyNextButton")));
n.attr("parent_comment_no",o);
n.attr("page_no",m);
n.attr("total_page",h);
if(g.is_have_next_page=="Y"){n.removeClass("u_rpg_dim");
n.attr("href","#");
}else{n.addClass("u_rpg_dim");
n.attr("href",null);
}},movePrevReplyList:function(d){d.stop();
if(Number(a.$Element(d.element).attr("page_no"))==1){return;
}this.callReplyList(a.$Element(d.element).attr("parent_comment_no"),Number(a.$Element(d.element).attr("page_no"))-1);
},moveNextReplyList:function(d){if(a.$Element(d.element).attr("page_no")==a.$Element(d.element).attr("total_page")){return;
}d.stop();
this.callReplyList(a.$Element(d.element).attr("parent_comment_no"),Number(a.$Element(d.element).attr("page_no"))+1);
},_createRecommendDiscommendBubbler:function(d){if(!b.RecommendDiscommendArea){return;
}this.config.instance.recommendDiscommendArea=b.RecommendDiscommendArea.getInstance()[this.indexInstance];
if(this.config.instance.recommendDiscommendArea){this.config.instance.recommendDiscommendArea.createListBubbler(d);
}}}).extend(a.Component);
nhn.comment.bestlistarea=new b.BestListArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=nhn.comment.mobile.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.ListArea=a.$Class({$init:function(){this._welArea=null;
this.indexInstance=b.ListArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
this._oResult=null;
},createArea:function(){this._welArea=a.$Element(this.config.template("list").process());
if(!(this.config.option("useSortList")==true||this.config.option("useRecommendArea")==true)){this._welArea.attr("id",this.config.element("focusTarget"));
}return this._welArea;
},createEmptyArea:function(){this._welNoListArea=a.$Element(this.config.template("noList").process());
return this._welNoListArea;
},afterCreateArea:function(){this._createBubbler();
},getAreaElement:function(){return this._welArea;
},_createBubbler:function(){this._oBubbler=new c.Bubbler(this.getAreaElement().$value()).attach({"__comment_del_btn:click":a.$Fn(this.config.instance.command.deleteComment,this.config.instance.command).bind(),"__comment_report_btn:click":a.$Fn(this.config.instance.command.reportComment,this.config.instance.command).bind(),"__comment_reply_form_btn:click":a.$Fn(this.config.instance.command.toggleReplyForm,this.config.instance.command).bind()});
this.getAreaElement().preventTapHighlight(true);
this._createRecommendDiscommendBubbler(this.getAreaElement());
},requestList:function(l,d,f){var h=this.config.instance.ajax.getListParams();
if(l=="page"){h.page_no=d;
}if(this.config.option("currentSortOption")){h.sort=this.config.option("currentSortOption");
}if(this.config.option("listType")=="u_comment_v1"){if(this.config.option("useInnerSvcShowReply")==false){h.depth=1;
}h.page_size=this.config.option("innerSvcListSize");
h.sort=this.config.option("innerSvcListSort");
}if(this.config.option("landingCommentNo")!=null){h.comment_no=this.config.option("landingCommentNo");
h.up_to_date_yn="Y";
this.config.option("landingCommentNo",null);
}var g=false;
if(typeof f=="boolean"){g=f;
}else{if(typeof this.config.option("listAsync")=="boolean"){g=this.config.option("listAsync");
}}this.config.instance.ajax.call({operation:"list",async:g,onSuccess:a.$Fn(this.showList,this).bind(),param:h});
},empty:function(){this.getAreaElement().empty();
this.config.instance.commentListModel.reset();
this.config.instance.pagearea.reset();
},refresh:function(d){this.empty();
this.requestList("page",1,d);
this.config.instance.sortListArea.resetArea();
},refreshWithTheResult:function(d){this.empty();
this.showList(d);
},showList:function(g){if(g==null||g.comment_list==null||g.total_count==null||g.page_no==null){return;
}this._processBeforeShowList(g);
if(this.config.option("useRecommendArea")){if(!(this.config.option("useMoreContent")&&g.more_yn=="Y")){this.config.instance.bestlistarea.empty();
}if(g.page_no==1&&g.more_yn!="Y"){this.config.instance.bestlistarea.showBestList(g);
}}var f=this.config.instance.commentListModel.getBaseLastCommentNo();
this._addCommentToBaseAndRemoveBottom(g);
this.showOrHideEmptyLiTag();
this.showOrHideNoListLiTag();
if(this.config.option("useRecommendArea")==true&&this.config.option("listType")=="u_comment_v1"){var d=g.comment_list.length+g.recommended_list.length;
if(d>0){this._welNoListArea.hide();
this._welArea.show();
}}if(this.config.option("useMoreContent")&&(g.comment_list==null||g.comment_list.length<this.config.option("pageSize"))){this.config.instance.pagearea.makeLastPage();
}this._removeAndReturnTheCount(f);
this.config.instance.pagearea.update(g.page_no,g.total_count,true);
this.config.instance.countarea.update(this.config.instance.pagearea.getTotalCount());
this.config.instance.listFooterArea.update(this.config.instance.pagearea.getTotalCount());
this._processAfterShowList(g);
this._oResult=g;
},_addCommentToBaseAndRemoveBottom:function(m){var q=m.comment_list;
var d=m.author_yn;
if(q==null){return;
}var l=null,g=null;
if(this.config.option("useRecommendArea")==true&&this.config.option("listType")=="u_comment_v1"){var h=Number(this.config.option("innerSvcListSize"))-m.recommended_list.length;
var n=0;
for(var f=0;
f<q.length;
f++){if(h<=n){break;
}if(this._notExistBestComment(q[f].comment_no,q[f].parent_comment_no,m.recommended_list)){l=this.preProcessForRawComment(q[f],d);
g=new b.CommentItem(l);
this._removeBottomCommentWhenListing(g.getCommentNo());
var o=this.config.instance.commentListModel.getBaseLastCommentNo();
g.createItem(this.getAreaElement(),o);
this.config.instance.commentListModel.addComment(g);
n++;
}}}else{for(var f=0;
f<q.length;
f++){l=this.preProcessForRawComment(q[f],d);
g=new b.CommentItem(l);
this._removeBottomCommentWhenListing(g.getCommentNo());
var o=this.config.instance.commentListModel.getBaseLastCommentNo();
g.createItem(this.getAreaElement(),o);
this.config.instance.commentListModel.addComment(g);
}}},_notExistBestComment:function(l,f,g){var h=true;
for(var d in g){if(l==g[d].comment_no||f==g[d].comment_no){h=false;
break;
}}return h;
},_removeBottomCommentWhenListing:function(d){if(!this.config.option("useMoreContent")||!this.config.instance.commentListModel.isExistInBottomCommentList(d)){return;
}this.config.instance.commentListModel.removeComment(d);
this._removeElCommentLiTag(d);
},getElCommentLiTag:function(d){if(d==null){return null;
}return c.DomData.getChild(this.getAreaElement().$value(),this.config.css("commentItem"),[d]);
},_removeElCommentLiTag:function(f){this.config.instance.writearea.releaseBubbler(f);
var d=this.getElCommentLiTag(f);
this.getAreaElement().remove(d);
},_processBeforeShowList:function(d){this.config.fireEvent("beforeList",{result:d});
},_processAfterShowList:function(d){this.config.fireEvent("afterList",{result:d});
},showOrHideEmptyLiTag:function(){},showOrHideNoListLiTag:function(){if(this.config.instance.commentListModel.isEmptyBaseComment()){this._welNoListArea.show();
this._welArea.hide();
return;
}this._welNoListArea.hide();
this._welArea.show();
},deleteCommentForIos:function(f){if(f==null){return;
}this.config.instance.commentListModel.markTargetCommentDeleted(f);
if(!this.config.instance.commentListModel.canRemoveTargetComment(f)){this._makeDeletedComment(f);
return;
}var d=this._removeAndReturnTheCount(f);
this.showOrHideEmptyLiTag();
this.showOrHideNoListLiTag();
this.config.instance.pagearea.update(this.config.instance.pagearea.getPageNo(),this.config.instance.pagearea.getTotalCount()-d);
this.config.instance.countarea.update(this.config.instance.pagearea.getTotalCount());
},_makeDeletedComment:function(l){var h=this.config.instance.commentListModel.getCommentInfoFromBaseAndBottom(l);
if(h==null){return;
}var g=this._preProcessForDeleteComment(h);
var d=new b.CommentItem(g);
var f=this.getElCommentLiTag(l);
if(f==null){return;
}a.$Element(f).hide();
d.createItem(this.getAreaElement(),l);
this.getAreaElement().remove(f);
},_preProcessForDeleteComment:function(f){var d={};
d.indexInstance=this.indexInstance;
d.writer_id="********";
d.writer_nickname="";
d.comment_no=f.commentNo;
d.registered_ymdt=f.registeredDate;
d.reply_level=f.replyLevel;
d.deleted_yn="Y";
return d;
},_removeAndReturnTheCount:function(g){var d=0;
if(!this.config.option("useMoreContent")){return d;
}while(this.config.instance.commentListModel.canRemoveTargetComment(g)){var f=this.config.instance.commentListModel.getPreSiblingCommentInfo(g);
this.config.instance.commentListModel.removeComment(g);
this._removeElCommentLiTag(g);
d++;
if(f==null){break;
}g=f.commentNo;
}return d;
},preProcessForRawComment:function(d,f){if(d.done_preprocessing){return d;
}d.registered_ymdt=b.Util.dateFormat(d.registered_ymdt,this.config.option("dateFormat"));
d.modified_ymdt=b.Util.dateFormat(d.modified_ymdt,this.config.option("dateFormat"));
if(this.config.option("useEscapeHtml")){d.contents=d.contents.replace("<!-- Not Allowed Tag Filtered -->","");
d.contents=a.$S(d.contents).unescapeHTML().escapeHTML().$value();
}d.contents=b.Util.multiLine(d.contents,this.config.option("enableMultiLine"));
d.indexInstance=this.indexInstance;
d.is_author=f;
d.done_preprocessing=true;
return d;
},toggleTargetAreaDependsOnLoginAndAuth:function(d){if(d==null){return false;
}if(!this.config.instance.auth.redirectLogin()){return false;
}if(!this.config.instance.auth.redirectAuth()){return false;
}d.toggle();
return true;
},toogleReplyBtn:function(d){if(d==null){return;
}var f=d.text();
if(f=="답글"){d.text("답글취소");
}else{d.text("답글");
}},_createRecommendDiscommendBubbler:function(d){if(!b.RecommendDiscommendArea){return;
}this.config.instance.recommendDiscommendArea=b.RecommendDiscommendArea.getInstance()[this.indexInstance];
if(this.config.instance.recommendDiscommendArea){this.config.instance.recommendDiscommendArea.createListBubbler(d);
}},setFocusList:function(){if(this.config.option("useFocus")==true){window.scrollTo(0,a.$Element(this.config.element("focusTarget")).offset().top);
}}}).extend(a.Component);
nhn.comment.listarea=new b.ListArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.CommonPageArea=a.$Class({$init:function(){this._welArea=null;
this._nPageNo=1;
this._nTotalCount=0;
this.indexInstance=b.PageArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
},getAreaElement:function(){return this._welArea;
},show:function(){this._welArea.show();
},hide:function(){this._welArea.hide();
},isNeedToHidePageArea:function(d){if(!this.config.option("hidePageAreaIfOnlyOnePageExist")){return false;
}if(this.config.option("pageSize")<d){return false;
}return true;
},setPageNo:function(d){if(d==null){return;
}this._nPageNo=d;
},getPageNo:function(){return this._nPageNo;
},setTotalCount:function(d){this._nTotalCount=d;
},getTotalCount:function(){return this._nTotalCount;
}}).extend(a.Component);
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.PageArea=a.$Class({$init:function(){this._oPageNavigation=null;
},createArea:function(){this._welArea=a.$Element(this.config.template("pageArea").process());
return this._welArea;
},afterCreateArea:function(){this._wel=a.$Element(this.config.template("pageNavigation").process());
this._welArea.append(this._wel);
this._initComponent();
this.hide();
},update:function(f,d,g){this.setPageNo(f);
this.setTotalCount(d);
this._oPageNavigation.reset((d==0?1:d));
this._oPageNavigation.movePageTo(f,false);
this._oPageNavigation.updateInfo();
if(this.isNeedToHidePageArea(d)){this.hide();
return;
}this.show();
},_initComponent:function(){var d=this;
this._oPageNavigation=new a.m.PageNavigation(this._wel.$value(),{sClassPrefix:"__comment_page_",nItemPerPage:this.config.option("pageSize"),sInfoTemplate:this.config.template("pageInfoTemplate")._str}).attach({beforeMove:function(f){f.stop();
d.hide();
d.config.instance.listarea.empty();
d.config.instance.listarea.requestList("page",f.nPage,false);
d.config.instance.listarea.setFocusList();
}});
},isLastPage:function(){return(this.config.option("pageSize")*this._nPageNo)>=this._nTotalCount;
},reset:function(){}}).extend(b.CommonPageArea);
nhn.comment.pagearea=new b.PageArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.CurrentCountChangeableMoreContentButton=a.$Class({_nCurrentPage:1,$init:function(f,g,d){this.config=f;
this.option({nItem:10,nItemPerPage:10,nPage:1,bActivateOnload:true});
this.option(d||{});
this._nCurrentPage=this.option("nPage");
this.option({sClassPrefix:"more_",nTotalItem:10,nShowMaxItem:10,nItemPerPage:10,nPage:1,bActivateOnload:true,htAjax:{}});
this.option(d||{});
this.option("nItem",this.option("nShowMaxItem"));
this._initVar();
this._setWrapperElement(g);
if(this.option("bActivateOnload")){this.activate();
this._nCurrentPage=this.option("nPage");
}this._nBaseCommentCount=0;
this._bLastPage=false;
},getItemCount:function(){return this.option("nItem");
},getItemPerPage:function(){return this.option("nItemPerPage");
},getCurrentPage:function(){return this._nCurrentPage;
},setItemCount:function(d){this.option("nItem",d);
},setItemPerPage:function(d){this.option("nItemPerPage",d);
},nextPageTo:function(){var d=this._nCurrentPage+1;
this.movePageTo(d);
},previousPageTo:function(){var d=this._nCurrentPage-1;
this.movePageTo(d);
},getTotalPages:function(){var f=this.option("nItem"),d=this.option("nItemPerPage");
if(!d){return null;
}return Math.ceil(f/d);
},hasPreviousPage:function(){return(this.getCurrentPage()>1);
},getPageItemIndex:function(h){h=this._convertToAvailPage(h);
var g=this.option("nItem"),f=this.option("nItemPerPage"),l,d;
if(!h||!f){return null;
}l=(h-1)*f;
d=Math.min(l+f,g)-1;
return{nStart:l,nEnd:d};
},getPageOfItem:function(d){return Math.ceil(d/this.getItemPerPage());
},_convertToAvailPage:function(d){var f=this.getTotalPages();
d=Math.max(d,1);
d=Math.min(d,f);
return d;
},_initVar:function(){var f={sApi:null,htAjaxOption:{type:"xhr"},htQuery:{},sStart:"start",sDisplay:"display"};
var d=this.option("htAjax");
if(!d){this.option("htAjax",f);
return;
}for(var g in f){if(typeof d[g]=="undefined"){d[g]=f[g];
}}for(var g in f.htAjaxOption){if(typeof d.htAjaxOption[g]=="undefined"){d.htAjaxOption[g]=f.htAjaxOption[g];
}}for(var g in f.htQuery){if(typeof d.htQuery[g]=="undefined"){d.htQuery[g]=f.htQuery[g];
}}if(!!d.sApi){this.oAjax=new a.$Ajax(d.sApi,d.htAjaxOption);
}},_setWrapperElement:function(d){this._htWElement={};
d=a.$(d);
var f="."+this.option("sClassPrefix");
this._htWElement.elBase=a.$Element(d);
this._htWElement.elMoreButton=a.$Element(a.$$.getSingle(f+"button",d));
this._htWElement.elTop=a.$Element(a.$$.getSingle(f+"top",d));
this._htWElement.elLoading=a.$Element(a.$$.getSingle(f+"loading",d));
this._htWElement.elMoreCnt=a.$Element(a.$$.getSingle(f+"moreCnt",d));
this._htWElement.elTotal=a.$Element(a.$$.getSingle(f+"total",d));
this._htWElement.elCurrent=a.$Element(a.$$.getSingle(f+"current",d));
this._htWElement.elLast=a.$Element(a.$$.getSingle(f+"last",d));
if(!!this._htWElement.elLast){this._htWElement.elLastTotal=a.$Element(a.$$.getSingle(f+"total",this._htWElement.elLast.$value()));
this._htWElement.elLastCurrent=a.$Element(a.$$.getSingle(f+"current",this._htWElement.elLast.$value()));
}},_onClickMore:function(d){d.stop(a.$Event.CANCEL_DEFAULT);
if(this.hasNextPage()){this.more();
}},_onClickTop:function(d){d.stop(a.$Event.CANCEL_DEFAULT);
this.fireEvent("goTop",{element:d.element});
},more:function(h){if(typeof h=="undefined"){h=true;
}var g=this._nCurrentPage+1;
var f=this.getCurrentPage();
if(h){if(!this.fireEvent("beforeMore",{nPage:g,nCurrentPage:f})){return;
}}this.showLoadingImg();
if(!!this.option("htAjax").sApi){this._callAjax(g,true,h);
}else{this._move(g);
var d=this.getPageItemIndex(g);
if(h){this.fireEvent("more",{nPage:g,nStartIndex:d.nStart,nEndIndex:d.nEnd});
}this.updateInfo();
}},movePageTo:function(g,h){if(typeof h=="undefined"){h=true;
}var f=this.getCurrentPage();
if(h){if(!this.fireEvent("beforeMovePage",{nPage:g,nCurrentPage:f})){return;
}}this.showLoadingImg();
if(!!this.option("htAjax").sApi){this._callAjax(g,false,h);
}else{this._move(g);
var d=this.getPageItemIndex(g);
if(h){this.fireEvent("movePage",{nPage:g,nBeforePage:f,nStartIndex:0,nEndIndex:d.nEnd});
}this.updateInfo();
}},_move:function(d){var f=this._convertToAvailPage(d);
if(f!=this._nCurrentPage){this._nCurrentPage=f;
}},_callAjax:function(f,h,l){var d=this;
this.oAjax.option("onload",null);
this.oAjax.option("onload",function(m){d._onAjaxResponse(m,f,h,l);
});
var g=this._getQueryString(f,h);
if(g.sort!="best"&&g.comment_no!="0"){this.oAjax.request(g);
}},_onAjaxResponse:function(g,f,h,l){if(l){this._move(f);
var m=h?"more":"movePage";
var d=this.getPageItemIndex(f);
this.fireEvent(m,{oResponse:g,nPage:f,nStartIndex:h?d.nStart:0,nEndIndex:d.nEnd});
}this.updateInfo();
},getShowMaxItem:function(){return this.option("nShowMaxItem");
},_setNumberFormat:function(d){d=d.toString();
var h="";
var m=0;
var g=d.length;
for(var f=g;
f>=0;
f--){var l=d.charAt(f);
if(f>g){h=l+h;
continue;
}if(/[0-9]/.test(l)){if(m>=3){h=","+h;
m=0;
}m++;
h=l+h;
}}return h;
},showLoadingImg:function(){if(!!this._htWElement.elLoading){this._htWElement.elLoading.show();
}},hideLoadingImg:function(){if(!!this._htWElement.elLoading){this._htWElement.elLoading.hide();
}},reset:function(d){if(typeof d=="undefined"){d=this.option("nShowMaxItem");
}this.setShowMaxItem(d);
this.movePageTo(1,false);
this._bLastPage=false;
},getTotalItem:function(){return this.option("nTotalItem");
},setTotalItem:function(d){this.option("nTotalItem",d);
},setShowMaxItem:function(d){this.option("nShowMaxItem",d);
this.option("nItem",d);
},_onActivate:function(){this._attachEvent();
},_onDeactivate:function(){this._detachEvent();
},_attachEvent:function(){this._htEvent={};
if(!!this._htWElement.elMoreButton){this._htEvent.click_More={ref:a.$Fn(this._onClickMore,this).attach(this._htWElement.elMoreButton,"click"),el:this._htWElement.elMoreButton.$value()};
}if(!!this._htWElement.elTop){this._htEvent.click_Top={ref:a.$Fn(this._onClickTop,this).attach(this._htWElement.elTop,"click"),el:this._htWElement.elTop.$value()};
}},_detachEvent:function(){for(var f in this._htEvent){var d=this._htEvent[f];
d.ref.detach(d.el,f.substring(0,f.indexOf("_")));
}this._htEvent=null;
},header:function(d,f){if(this.oAjax){return this.oAjax.header(d,f);
}},destroy:function(){this._detachEvent();
for(var d in this._htWElement){this._htWElement[d]=null;
}this._htWElement=null;
},_getQueryString:function(d,g){if(typeof g==="undefined"){g=true;
}var f=this.option("htAjax").htQuery||{};
f[this.option("htAjax").sDisplay]=this.getItemPerPage();
f.sort=this.config.option("currentSortOption");
return f;
},updateInfo:function(){if(this._bLastPage||this._nBaseCommentCount>=this.option("nTotalItem")){this._bLastPage=true;
this.setTotalItem(this._nBaseCommentCount);
}else{this._bLastPage=false;
}},updateView:function(){this.hideLoadingImg();
if(this._bLastPage){this._htWElement.elBase.addClass("u_pg_end");
if(!!this._htWElement.elMoreButton){this._htWElement.elMoreButton.hide();
}if(!!this._htWElement.elLast){this._htWElement.elLast.show("block");
}}else{this._htWElement.elBase.removeClass("u_pg_end");
if(!!this._htWElement.elMoreButton){this._htWElement.elMoreButton.show("block");
}if(!!this._htWElement.elLast){this._htWElement.elLast.hide();
}}if(!!this._htWElement.elCurrent){this._htWElement.elCurrent.text(this._nBaseCommentCount);
}if(typeof this._htWElement.elLastCurrent!="undefined"){this._htWElement.elLastCurrent.text(this._setNumberFormat(this._nBaseCommentCount));
}if(!!this._htWElement.elTotal){this._htWElement.elTotal.text(this._setNumberFormat(this.option("nTotalItem")));
}if(typeof this._htWElement.elLastTotal!="undefined"){this._htWElement.elLastTotal.text(this._setNumberFormat(this.option("nTotalItem")));
}if(!!this._htWElement.elMoreCnt){var d=Math.min(this.getItemPerPage(),this.option("nTotalItem")-this._nBaseCommentCount);
this._htWElement.elMoreCnt.text(this._setNumberFormat(d));
}},isLastPage:function(){return this._bLastPage;
},makeLastPage:function(){this._bLastPage=true;
},hasNextPage:function(){return this._nBaseCommentCount<this.option("nTotalItem");
},setBaseCommentCount:function(d){this._nBaseCommentCount=d;
}}).extend(a.UIComponent);
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.MoreContentArea=a.$Class({$init:function(){this._wel=null;
this._oMoreContent=null;
this._bInitComponent=false;
},createArea:function(){this._welArea=a.$Element(this.config.template("pageArea").process());
return this._welArea;
},afterCreateArea:function(){this._wel=a.$Element(this.config.template("pageMore").process());
this._welArea.append(this._wel);
this._initComponent();
this.hide();
},update:function(f,d,g){this.setPageNo(f);
var h=this.config.instance.ajax.getListParams();
h.comment_no=this.config.instance.commentListModel.getBaseLastCommentNo();
this._oMoreContent.option("htAjax").htQuery=h;
this._oMoreContent.setTotalItem(d);
this._oMoreContent.setShowMaxItem(d);
this._oMoreContent.setItemCount(d);
this._oMoreContent.setBaseCommentCount(this.config.instance.commentListModel.getBaseCommentCount());
if(g){this._oMoreContent.updateInfo();
}this._oMoreContent.updateView();
if(this.isNeedToHidePageArea(d)){this.hide();
return;
}this.show();
},getTotalCount:function(){if(this._oMoreContent.getTotalItem()==null){return 0;
}return this._oMoreContent.getTotalItem();
},_initComponent:function(){var d=this;
var f=this.config.instance.ajax.getListParams();
this._oMoreContent=new b.CurrentCountChangeableMoreContentButton(this.config,this._wel.$value(),{sClassPrefix:"__comment_more_",nItemPerPage:this.config.option("pageSize"),htAjax:{sApi:this.config.instance.ajax.getUrl("moreList"),sDisplay:"page_size",htQuery:f},nTotalItem:1,nShowMaxItem:1}).attach({goTop:function(){c.scrollTop();
},more:function(g){d._afterMore(g.oResponse);
}});
},_afterMore:function(d){d=d.json();
d.more_yn="Y";
this.config.instance.listarea.showList(d);
},isNeedToHidePageArea:function(d){if(!this.config.option("hidePageAreaIfOnlyOnePageExist")){return false;
}if(!this._isFirstPageWasLastPage()){return false;
}return true;
},_isFirstPageWasLastPage:function(){if(this._bFirstPageWasLastPage!=null){return this._bFirstPageWasLastPage;
}this._bFirstPageWasLastPage=this.isLastPage();
return this._bFirstPageWasLastPage;
},isLastPage:function(){return this._oMoreContent.isLastPage();
},makeLastPage:function(){this._oMoreContent.makeLastPage();
},reset:function(){this._oMoreContent.reset();
}}).extend(b.CommonPageArea);
nhn.comment.morecontentarea=new b.MoreContentArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.Auth=a.$Class({$init:function(){this.indexInstance=b.Auth.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
},checkLogin:function(){var c={};
c.ticket=this.config.option("ticket");
this.config.instance.ajax.call({operation:"isLogin",async:false,onSuccess:a.$Fn(this._onCheckLogin,this).bind(),param:c});
},redirectLogin:function(){if(this._isLoginNow()){return true;
}if(confirm(this.config.message.NOT_LOGIN)){var c=this.config.option("loginUrl")||"https://nid.naver.com/nidlogin.login";
top.location=c+"&url="+encodeURIComponent(this.config.option("objectUrl"));
}return false;
},_isLoginNow:function(){if(this.config.option("isLogin")){return true;
}this.checkLogin();
return this.config.option("isLogin");
},checkAuth:function(){if(this.config.option("isAuth")!==undefined){return;
}var c={};
c.ticket=this.config.option("ticket");
this.config.instance.ajax.call({operation:"checkAuth",async:false,onSuccess:a.$Fn(this._onCheckAuth,this).bind(),param:c});
},redirectAuth:function(){if(this.config.option("isAuth")){return true;
}if(confirm(this.config.message.NOT_AUTHENTICATED)){var g=this.config.option("certUrl")||"https://nid.naver.com/user/mobile_rncheck.nhn?todo=start";
var c=this.config.option("certRurl")||this.config.option("objectUrl");
var f=this.config.option("certSurl")||this.config.option("objectUrl");
var d=this.config.option("certSvc")||"";
top.location=g+"&rurl="+encodeURIComponent(c)+"&surl="+encodeURIComponent(f)+"&svc="+d;
}else{this.checkAuth();
}return false;
},_onCheckAuth:function(c){this.config.option("isAuth",c.is_authenticated_name=="Y");
},_onCheckLogin:function(c){if(c.is_logged_in=="Y"){this.config.option("isLogin",true);
}}}).extend(a.Component);
nhn.comment.auth=new b.Auth();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){document.domain="naver.com";
var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.Core=a.$Class({$init:function(){this.indexInstance=b.Core.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
this._welBody=null;
},initialize:function(){this._saveInstanceInConfig();
this._doAfterInstanceCreated();
this._createArea();
this.option("initialized",true);
this.config.fireEvent("initialized");
},getBody:function(){return this._welBody;
},_doAfterInstanceCreated:function(){this.config.instance.ajax.initErrorHandler();
this.config.setTicketConfig();
this.config.getUrlList();
},_saveInstanceInConfig:function(){var c=a.m.getDeviceInfo();
this.config.instance.core=b.Core.getInstance()[this.indexInstance];
this.config.instance.ajax=b.Ajax.getInstance()[this.indexInstance];
this.config.instance.command=b.Command.getInstance()[this.indexInstance];
this.config.instance.countarea=b.CountArea.getInstance()[this.indexInstance];
this.config.instance.writearea=b.WriteArea.getInstance()[this.indexInstance];
this.config.instance.bestlistarea=b.BestListArea.getInstance()[this.indexInstance];
this.config.instance.listarea=b.ListArea.getInstance()[this.indexInstance];
this.config.instance.auth=b.Auth.getInstance()[this.indexInstance];
this.config.instance.commentListModel=b.CommentListModel.getInstance()[this.indexInstance];
this.config.instance.sortListArea=b.SortListArea.getInstance()[this.indexInstance];
this.config.instance.listFooterArea=b.ListFooterArea.getInstance()[this.indexInstance];
if(this.config.option("useMoreContent")){this.config.instance.pagearea=b.MoreContentArea.getInstance()[this.indexInstance];
}else{this.config.instance.pagearea=b.PageArea.getInstance()[this.indexInstance];
}},_createArea:function(){var f=false;
this._welBody=a.$Element(a.$$.getSingle(this.config.element("body")));
this._welBody.addClass(this.config.option("listType"));
if(this.config.option("isBlackMode")){this._welBody.addClass("c_black");
}if(this.config.option("listType")=="u_comment_v1"&&this.config.option("isSimpleList")){this._welBody.addClass("u_comment_hc");
}var l=this.config.option("formation");
var c;
var h={count:this.config.instance.countarea,bestList:this.config.instance.bestlistarea,list:this.config.instance.listarea,page:this.config.instance.pagearea,write:this.config.instance.writearea,listFooter:this.config.instance.listFooterArea,sort:this.config.instance.sortListArea,};
for(var d=0,g=l.length;
d<g;
d++){c=l[d];
if(c=="list"){f=true;
this._welBody.append(this.config.instance.listarea.createEmptyArea());
}this._welBody.append(h[c].createArea());
h[c].afterCreateArea();
}if(f){this.config.instance.listarea.requestList("page",this.config.option("pageNo"),false);
}this._welBody.append(a.$Element(this.config.template("reportForm").process()));
}}).extend(a.Component);
nhn.comment.core=new b.Core();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.Controller=a.$Class({_sTarget:null,_htOptions:null,_htTemplates:null,_htMessage:null,$init:function(){this._htTemplates={};
this._htMessage={};
this._htOptions={};
},create:function(D,B,o,g){if(!D||!(a.$$.getSingle(D))){throw TypeError("Invalid target element selector argument.");
}if(!B){throw TypeError("Invalid ticket argument.");
}if(!o){throw TypeError("Invalid objectId argument.");
}var h=b.Core.getInstance();
var u=h[h.length-1];
if(u.initialized){var v=new b.Config();
var d=new b.Auth();
var m=new b.Ajax();
var C=new b.Core();
var n=new b.CountArea();
var y=new b.WriteArea();
var z=new b.BestListArea();
var f=new b.ListArea();
var l=new b.PageArea();
var t=new b.MoreContentArea();
var s=new b.Command();
var r=new b.CommentListModel();
if(b.SocialCommentArea){var c=new b.SocialCommentArea();
}if(b.RecommendDiscommendArea){var q=new b.RecommendDiscommendArea();
}var w=new b.SortListArea();
var A=new b.ListFooterArea();
u=h[h.length-1];
}this.resetConfig(u);
u.config.option("ticket",B);
u.config.option("objectId",o);
if(g){u.config.option("categoryId",g);
u.config.option("viewCategoryId",g);
}u.config.element("body",D);
u.initialized=true;
return u;
},initialize:function(c){c.initialize();
},addEventHandler:function(c,d){if(c&&c.initialized){c.config.attach(d);
}},setOptions:function(f,c){if(typeof f=="object"){for(var d in f){this._htOptions[d]=f[d];
}}else{if(typeof f=="string"&&c){this._htOptions[f]=c;
}}},setTemplates:function(d,c){if(typeof d=="object"){for(var f in d){this._htTemplates[f]=d[f];
}}else{if(typeof d=="string"&&c){this._htTemplates[d]=c;
}}},setMessages:function(c,f){if(typeof c=="object"){for(var d in c){this._htMessage[d]=c[d];
}}else{if(typeof c=="string"&&f){this._htMessage[c]=f;
}}},resetConfig:function(f){var g;
if(f&&f.name=="nhn.comment.mobile.Core"){g=[f];
}else{g=b.Core.getInstance();
}for(var d=0;
d<g.length;
d++){var c=g[d];
c.config.option(this._htOptions);
c.config.template(this._htTemplates);
c.config.message(this._htMessage);
}}}).extend(a.Component);
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=nhn.comment.mobile.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.CommentListModel=a.$Class({$init:function(){this.reset();
this.indexInstance=b.CommentListModel.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
},_getCommentIndex:function(g,f){var d=null;
if(g==null||f==null){return null;
}g.forEach(function(m,h,l){if(m.commentNo==f){d=h;
a.$A.Break();
}});
return d;
},markTargetCommentDeleted:function(g){var f=this._findTargetCommentList(g);
var d=this._getCommentIndex(f,g);
var h=f.get(d);
h.isDeleted=true;
f.set(d,h);
},_findTargetCommentList:function(d){if(this._isExistInBaseCommentList(d)){return this._waBaseCommentList;
}return this._waBottomCommentList;
},_generateCommentInfo:function(f){var d={};
d.commentNo=f.getCommentNo();
d.replyLevel=f.getReplyLevel();
d.registeredDate=f.getRegisteredDate();
d.isDeleted=f.isDeleted();
return d;
},_isPossibleToAddBaseCommentList:function(d){if(d==0){return true;
}if(this.config.instance.pagearea.isLastPage()){return true;
}if(this._isExistInBaseCommentList(d)&&!this._isHighReplyLevelOnlyExistAfterComment(d)){return true;
}return false;
},_isHighReplyLevelOnlyExistAfterComment:function(f){var h=this._getBaseCommentInfo(f);
var d=this._getSlicedListAfterCommentNo(this._waBaseCommentList,f);
if(d==null){return true;
}var g=true;
d.forEach(function(n,l,m){if(n.replyLevel<=h.replyLevel){g=false;
a.$A.Break();
}});
return g;
},_getSlicedListAfterCommentNo:function(g,f){var d=this._getCommentIndex(g,f);
if(d==null){return null;
}return g.slice(d+1,g.length());
},findPreSiblingCommentNoOfCreatedComment:function(h,g){var n=this._waBaseCommentList;
var m=0;
if(!this._isPossibleToAddBaseCommentList(h)){n=this._waBottomCommentList;
if(this._isExistInBaseCommentList(h)){h="empty";
}}var d=this._getCommentIndex(n,h);
if(d==null){return 0;
}var f=this.getCommentInfoFromBaseAndBottom(h);
var l=this._getSlicedListAfterCommentNo(n,h);
var m=h;
l.forEach(function(r,o,q){if(r.replyLevel<g){a.$A.Break();
}m=r.commentNo;
});
return m;
},isEmptyBottomComment:function(){if(this._waBottomCommentList.length()==1){return true;
}return false;
},isEmptyBaseComment:function(){if(this._waBaseCommentList.length()>0){return false;
}return true;
},addComment:function(g,d){if(g==null){return;
}var f=this._generateCommentInfo(g);
if(d==null){this._waBaseCommentList.push(f);
return;
}if(d==0){this._waBaseCommentList.unshift(f);
return;
}this._createListWithCommentInserted(f,d);
},_createListWithCommentInserted:function(l,h){var g=this._findTargetCommentList(h);
var f=this._getCommentIndex(g,h)+1;
var d=a.$A([]);
d=g.slice(0,f);
d.push(l);
g.slice(f,g.length()).forEach(function(o,m,n){d.push(o);
});
if(this._isExistInBaseCommentList(h)){this._waBaseCommentList=d;
return;
}this._waBottomCommentList=d;
},_isLastBaseCommentNo:function(d){return this.getBaseLastCommentNo()==d;
},_getBaseLastComment:function(){if(this._waBaseCommentList.length()==0){return null;
}return this._waBaseCommentList.get(this._waBaseCommentList.length()-1);
},getBaseLastCommentNo:function(){var d=this._getBaseLastComment();
if(d==null){return 0;
}return d.commentNo;
},removeComment:function(f){if(f==null){return;
}var d=null;
this._waBaseCommentList=this._getListWithoutTargetComment(this._waBaseCommentList,f);
this._waBottomCommentList=this._getListWithoutTargetComment(this._waBottomCommentList,f);
},_getListWithoutTargetComment:function(f,d){return f.filter(function(l,g,h){if(l.commentNo==d){return false;
}return true;
});
},reset:function(){this._waBaseCommentList=a.$A([]);
this._waBottomCommentList=a.$A([]);
var d={};
d.commentNo="empty";
d.replyLevel=1;
d.isDeleted=false;
this._waBottomCommentList.push(d);
},_getBaseCommentInfo:function(f){var g=null;
var d=this._getCommentIndex(this._waBaseCommentList,f);
if(d==null){return null;
}return this._waBaseCommentList.get(d);
},_isExistInBaseCommentList:function(d){if(d==null||this._getBaseCommentInfo(d)==null){return false;
}return true;
},isExistInBottomCommentList:function(f){if(f==null){return false;
}var d=false;
this._waBottomCommentList.forEach(function(l,g,h){if(l.commentNo==f){d=true;
a.$A.Break();
}});
return d;
},getCommentInfoFromBaseAndBottom:function(d){var f=this._getBaseCommentInfo(d);
if(f!=null){return f;
}this._waBottomCommentList.forEach(function(h,g,l){if(h.commentNo==d){f=h;
a.$A.Break();
}});
return f;
},canRemoveTargetComment:function(g){var d=this.getCommentInfoFromBaseAndBottom(g);
var f=this._getNextSiblingCommentInfo(g);
if(d==null||!d.isDeleted){return false;
}if(d.replyLevel<this.config.option("maxDepth")&&!this.config.instance.pagearea.isLastPage()&&this._isLastBaseCommentNo(g)){return false;
}if(f!=null&&f.replyLevel>d.replyLevel){return false;
}return true;
},getPreSiblingCommentInfo:function(g){var f=this._findTargetCommentList(g);
var d=this._getCommentIndex(f,g);
if(d==null){return null;
}return f.get(d-1);
},_getNextSiblingCommentInfo:function(g){var f=this._findTargetCommentList(g);
var d=this._getCommentIndex(f,g);
if(d==null){return null;
}return f.get(d+1);
},getBaseCommentCount:function(){return this._waBaseCommentList.length();
},findBottomSequentialDeletedCommentCountFromBase:function(){var f=0;
for(var d=this._waBaseCommentList.length();
d>0;
d--){var g=this._waBaseCommentList.get(d-1);
if(!g.isDeleted){break;
}f++;
}return f;
}}).extend(a.Component);
nhn.comment.commentListModel=new b.CommentListModel();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.SocialCommentArea=a.$Class({$init:function(){this._welArea=null;
this.indexInstance=b.SocialCommentArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
this._initConfig();
},_initConfig:function(){this.config.element({socialCommentWriteBoxArea:".__comment_sns"});
this.config.template({socialCommentWriteBoxArea:'<div class="u_socail __comment_sns"><span class="u_socail_ch"><input type="checkbox" name="check1" id="me2day_{=level}" value="미투데이 동시 등록하기" class="chb _me2day {if !isMe2day}disabled{/if} __comment_sns_checkbox()"><label for="me2day_{=level}" class="lbl_me2 c_line c_bak">미투데이 동시 등록하기</label></span><span class="u_socail_ch"><input type="checkbox" name="check2" id="facebook_{=level}" value="페이스북 동시 등록하기" class="chb _facebook {if !isFacebook}disabled{/if} __comment_sns_checkbox()"><label for="facebook_{=level}" class="lbl_facebook c_line c_bak">페이스북 동시 등록하기</label></span><span class="u_socail_ch"><input type="checkbox" name="check3" id="twitter_{=level}" value="트위터 동시 등록하기" class="chb _twitter {if !isTwitter}disabled{/if} __comment_sns_checkbox()"><label for="twitter_{=level}" class="lbl_twitter c_line c_bak">트위터 동시 등록하기</label></span><span class="u_set"><a href="#" class="u_setting c_line c_bak __comment_sns_config()">SNS 설정</a></span></div>',socialCommentListArea:'{if \'true\'== isMe2day}<a href="{js jindo.$S((=config.option(\'urlList\').social.redirectSns)).format((=ticket),(=commentNo),\'ME2DAY\')}" {if !isSocialLinkOpen}onclick="return false;"{/if} target="_blank"><span class="ico_socail ico_me2">미투데이 동시 등록</span></a>{/if}{if \'true\'== isFacebook}<a href="{js jindo.$S((=config.option(\'urlList\').social.redirectSns)).format((=ticket),(=commentNo),\'FACEBOOK\')}" {if !isSocialLinkOpen}onclick="return false;"{/if} target="_blank"><span class="ico_socail ico_facebook">페이스북 동시 등록</span></a>{/if}{if \'true\'== isTwitter}<a href="{js jindo.$S((=config.option(\'urlList\').social.redirectSns)).format((=ticket),(=commentNo),\'TWITTER\')}" {if !isSocialLinkOpen}onclick="return false;"{/if} target="_blank"><span class="ico_socail twitter">트위터 동시 등록</span></a>{/if}{if \'true\'== isYozm}<a href="{js jindo.$S((=config.option(\'urlList\').social.redirectSns)).format((=ticket),(=commentNo),\'YOZM\')}" {if !isSocialLinkOpen}onclick="return false;"{/if} target="_blank"><span class="ico_socail ico_yozm">다음 요즘  동시 등록</span></a>{/if}'});
this.config.option("nidManageSocialAuthUrl","https://nid.naver.com/mobile/user/help/externalAuth.nhn?&menu=nid4");
this.config.option("socialAuthUrl","http://nid.naver.com/oauth/idLink.nhn?");
this.config.option("useSocialComment",false);
this.config.option("snsAuthStatus",{});
this.config.option("social",{active:false,link_open:false,reply_active:false});
var f=this.config.option("comment");
f.push("isMe2day");
f.push("isFacebook");
f.push("isTwitter");
f.push("isYozm");
f.push("isSocialLinkOpen");
this.config.option("comment",f);
var d=this.config.option("convention");
d.isMe2day="is_me2day";
d.isFacebook="is_facebook";
d.isTwitter="is_twitter";
d.isYozm="is_yozm";
this.config.option("convention",d);
this.config.attach("afterSocialAuth",a.$Fn(this._changeSnsCheckBoxIcon,this).bind());
},_changeSnsCheckBoxIcon:function(m){var h=m.sns;
var f=a.$$(".__comment_sns input._"+h);
for(var g=0;
g<f.length;
++g){var l=a.$Element(f[g]);
var d=l.next();
l.removeClass("disabled");
l.attr("checked","checked");
d.removeClass("off");
d.addClass("on");
}},createWriteBoxAreaHtml:function(f){var g=this.config.option("social");
var h=f?g.active:g.reply_active;
if(!this.config.option("useSocialComment")||!h){return"";
}if(!this.config.option("isLogin")){d=new a.$H({isMe2day:false,isFacebook:false,isTwitter:false,isYozm:false});
d.level=f?1:2;
return this.config.template("socialCommentWriteBoxArea").process(d.$value());
}else{var d=this._getSnsAuthStatus();
d.level=f?1:2;
return this.config.template("socialCommentWriteBoxArea").process(d);
}},createListAreaHtml:function(f){var d=this.config.option("social");
if(this.config.option("useSocialComment")&&d.active&&f.isMine&&(f.isMe2day||f.isFacebook||f.isTwitter||f.isYozm)){if(f.replyLevel>1&&!d.reply_active){return"";
}f.isSocialLinkOpen=d.link_open;
return this.config.template("socialCommentListArea").process(f);
}return"";
},createWriteBoxBubbler:function(d){if(d==null){return;
}this._oWriteBoxBubbler=new c.Bubbler(d.$value()).attach({"__comment_sns_checkbox:click":a.$Fn(this._onClickSnsCheckBox,this).bind(),"__comment_sns_config:click":a.$Fn(this._onClickSnsConfigBtn,this).bind()});
d.preventTapHighlight(true);
},getParams:function(g,f){if(this.config.option("useSocialComment")){var d=g.query(this.config.element("socialCommentWriteBoxArea"));
if(d){if(d.query("input._me2day")){f.add_post_me2day=d.query("input._me2day").attr("checked")?"Y":"N";
}if(d.query("input._facebook")){f.add_post_facebook=d.query("input._facebook").attr("checked")?"Y":"N";
}if(d.query("input._twitter")){f.add_post_twitter=d.query("input._twitter").attr("checked")?"Y":"N";
}if(d.query("input._yozm")){f.add_post_yozm=d.query("input._yozm").attr("checked")?"Y":"N";
}}}return f;
},_onClickSnsCheckBox:function(f){if(!this.config.option("isLogin")){this.config.instance.auth.redirectLogin();
f.stop();
return;
}var l=a.$Element(f.element);
var d=a.$Element(l.next());
if(l.tag.toLowerCase()=="label"){d=l;
l=a.$Element(l.prev());
}if(l.hasClass("disabled")){var g=d.attr("for").match(/(\w+)_\d+/)[1];
if(g=="me2day"){alert("미투데이 아이디 인증이 필요합니다.");
f.stopDefault();
return;
}var h=a.$H({servicekey:"COMMON_COMMENT",type:g,viewtype:2,svcurl:this.config.option("objectUrl")});
location.href=this.config.option("socialAuthUrl")+h.toQueryString();
f.stopDefault();
return;
}if(d.hasClass("on")){d.removeClass("on");
}else{d.addClass("on");
}},_onClickSnsConfigBtn:function(d){if(!this.config.option("isLogin")){this.config.instance.auth.redirectLogin();
d.stop();
return;
}c.popUp(this.config.option("nidManageSocialAuthUrl"),"socialComment");
d.stopDefault();
},_getSnsAuthStatus:function(){var d=a.$H(this.config.option("snsAuthStatus"));
if(d.length()==0){var f={ticket:this.config.option("ticket")};
this.config.instance.ajax.call({operation:"snsAuthStatus",async:false,onSuccess:a.$Fn(function(h){var g=h.sns_auth_status;
if(g instanceof Array){g={};
}this.config.option("snsAuthStatus",g);
},this).bind(),param:f});
}return this.config.option("snsAuthStatus");
}}).extend(a.Component);
nhn.comment.socialCommentArea=new b.SocialCommentArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.RecommendDiscommendArea=a.$Class({$init:function(){this._welArea=null;
this.indexInstance=b.RecommendDiscommendArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
this._initConfig();
},_initConfig:function(){this.config.element({recommendDiscommendBtnArea:".__comment_recomm"});
this.config.template({recommendCommand:'<a href="#" title="공감" class="__comment_rec" commentNo="{=commentNo}"><span class="u_hc">공감</span> <em>{=upCount}</em></a>',discommendCommand:'<a href="#" title="비공감" class="__comment_disc" commentNo="{=commentNo}"><span class="u_hc">비공감</span> <em>{=downCount}</em></a>'});
this.config.option("useRecommendBtn",0);
},createListAreaHtml:function(d){if(d.replyLevel>this.config.option("useRecommendBtnLevel")){return"";
}var f=this.config.template("recommendCommand").process(d);
if(this.config.option("useRecommendBtn")==0){return"";
}if(this.config.option("useRecommendBtn")>1){return this.config.template("recommendCommand").process(d)+this.config.template("discommendCommand").process(d);
}return f;
},createListBubbler:function(d){if(d==null){return;
}a.$Element(d.$value()).delegate("click",".__comment_rec",a.$Fn(this._recommendCommand,this).bind());
a.$Element(d.$value()).delegate("click",".__comment_disc",a.$Fn(this._discommendCommand,this).bind());
d.preventTapHighlight(true);
},_recommendCommand:function(d){d.stopDefault();
this.vote("recommend",d.element);
},_discommendCommand:function(d){d.stopDefault();
this.vote("discommend",d.element);
},vote:function(d,g){var f={};
f.ticket=this.config.option("ticket");
f.object_id=this.config.option("objectId");
f.comment_no=a.$Element(g).attr("commentNo");
if(d=="recommend"){f.recommend_up_yn="Y";
}else{f.recommend_up_yn="N";
}this.config.instance.ajax.call({operation:"vote",onSuccess:a.$Fn(this._processVote,this).bind(g),param:f});
},_processVote:function(h,d){var g=a.$Element(a.$$.getSingle("em",h));
var f=Number(g.text());
g.text(f+1);
}}).extend(a.Component);
nhn.comment.recommendDiscommendArea=new b.RecommendDiscommendArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.SortListArea=a.$Class({$init:function(){this._htSortTypeNameList=a.$H({newest:"최신순",oldest:"등록순",recommend:"공감순"});
this.indexInstance=b.SortListArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
this._initConfig();
},_initConfig:function(){this._welSortAreaRoot=null;
this.config.element({sortArea:".__sort_area"});
this.config.template({sortAreaRoot:'<div class="u_sort __sort_area"></div>',sortRadioButtonRoot:'<div class="u_sr"></div>',sortRadioButtonItem:'<a href="#" class="__sortList" id="{=sortId}"><input type="radio" name="radio" class="u_rio __sortListRadio({=sortId})" value="{=sortName}" id="{=sortId}" {if checked}checked="checked"{/if}><label for="radio1" id="{=sortId}">{=sortName}</label></a>',sortSelectBoxRoot:'<select class="u_sl __sortList"></select>',sortSelectBoxItem:'<option value="{=sortId}" {if selected}selected="selected"{/if} >{=sortName}</option>'});
this.config.option("useSortList",true);
this.config.option("sortListUiType","radio");
this.config.option("currentSortOption","newest");
this.config.option("sortOptionList",["newest","oldest"]);
},createArea:function(){this._welSortAreaRoot=a.$Element(this.config.template("sortAreaRoot").process());
if(!this.config.option("useSortList")){return this._welSortAreaRoot;
}this._welSortAreaRoot.attr("id",this.config.element("focusTarget"));
var h=this.config.option("sortOptionList");
if(this.config.option("sortListUiType")=="select"){var m=a.$Element(this.config.template("sortSelectBoxRoot").process());
for(var l=0;
l<h.length;
++l){var g=a.$Element(this.config.template("sortSelectBoxItem").process({sortId:h[l],sortName:this._htSortTypeNameList.$(h[l]),selected:this.config.option("currentSortOption")==h[l]}));
m.append(g);
}this._welSortAreaRoot.append(m);
}else{var d=a.$Element(this.config.template("sortRadioButtonRoot").process());
for(var l=0;
l<h.length;
++l){var f=a.$Element(this.config.template("sortRadioButtonItem").process({sortId:h[l],sortName:this._htSortTypeNameList.$(h[l]),checked:this.config.option("currentSortOption")==h[l]}));
d.append(f);
}this._welSortAreaRoot.append(d);
}return this._welSortAreaRoot;
},resetArea:function(){if(!this.config.option("useSortList")){return;
}var m=this.getAreaElement();
if(m==null){return;
}var h=this.config.option("sortOptionList");
if(this.config.option("sortListUiType")=="select"){var n=a.$Element(this.config.template("sortSelectBoxRoot").process());
for(var l=0;
l<h.length;
++l){var g=a.$Element(this.config.template("sortSelectBoxItem").process({sortId:h[l],sortName:this._htSortTypeNameList.$(h[l]),selected:this.config.option("currentSortOption")==h[l]}));
n.append(g);
}m.empty();
m.append(n);
}else{var d=a.$Element(this.config.template("sortRadioButtonRoot").process());
for(var l=0;
l<h.length;
++l){var f=a.$Element(this.config.template("sortRadioButtonItem").process({sortId:h[l],sortName:this._htSortTypeNameList.$(h[l]),checked:this.config.option("currentSortOption")==h[l]}));
d.append(f);
}m.empty();
m.append(d);
}},_createBubbler:function(){if(this.config.option("sortListUiType")=="select"){this._oBubbler=new c.Bubbler(this.getAreaElement().$value()).attach({"__sortList:change":a.$Fn(this._onClickSelectSort,this).bind()});
}else{this._oBubbler=new c.Bubbler(this.getAreaElement().$value()).attach({"__sortList:click":a.$Fn(this._onClickRadioSort,this).bind()});
}this.getAreaElement().preventTapHighlight(true);
},getAreaElement:function(){return this._welSortAreaRoot;
},afterCreateArea:function(){this._createBubbler();
},_onClickRadioSort:function(f){f.stopDefault();
var d=a.$Element(f.element).attr("id");
this.config.option("currentSortOption",d);
this.config.instance.listarea.refresh(false);
this.config.instance.listarea.setFocusList();
},_onClickSelectSort:function(d){this.config.option("currentSortOption",d.element.value);
this.config.instance.listarea.refresh();
}}).extend(a.Component);
nhn.comment.sortListArea=new b.SortListArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.ListFooterArea=a.$Class({$init:function(){this.indexInstance=b.ListFooterArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
this._initConfig();
},_initConfig:function(){this.config.template({commentListFooterRoot:'<div class="u_comment_lst_count"></div>',commentListLink:'<a href="{=url}" ><span class="c_fnt"><em> {=count} </em> 개 댓글 전체보기</span></a>'});
this.config.option("viewAllLinkUrl","#");
},createArea:function(){this.welRoot=a.$Element(this.config.template("commentListFooterRoot").process());
return this.welRoot;
},update:function(d){if(this.welRoot==null){return;
}var f=a.$Element(this.config.template("commentListLink").process({url:this.config.option("viewAllLinkUrl"),count:d}));
this.welRoot.empty();
if(d>0){this.welRoot.append(f);
}},afterCreateArea:function(){}}).extend(a.Component);
nhn.comment.listFooterArea=new b.ListFooterArea();
})();
