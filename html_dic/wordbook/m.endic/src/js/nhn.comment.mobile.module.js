nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.Util={trim:function(c){var d=/^\s+|\s+$/g;
return c.replace(d,"");
},dateFormat:function(j,l){var i=j.split(/\+/);
i=i[0].split(/T/);
if(i.length>1){var c=i[0].split(/-/);
var d=i[1].split(/:/);
var m=c[0];
var k=c[1];
var o=c[2];
var f=d[0];
var g=d[1];
var e=d[2].split(/\./);
var h=e[1];
e=e[0];
m=Number(m);
k=Number(k)-1;
var n=Number(o);
f=Number(f);
g=Number(g);
e=Number(e);
var p=a.$Date(m,k,n,f,g,e,h);
return p.format(l);
}else{return i[0];
}},setNumberFormat:function(c){c=c.toString();
var f="";
var h=0;
var e=c.length;
for(var d=e;
d>=0;
d--){var g=c.charAt(d);
if(d>e){f=g+f;
continue;
}if(/[0-9]/.test(g)){if(h>=3){f=","+f;
h=0;
}h++;
f=g+f;
}}return f;
},multiLine:function(c,d){c=c.split(/\r/).join("");
if(d){c=c.split(/\n/).join("<br/>");
}else{c=c.split(/\n/).join(" ");
}return c;
},scrollTop:function(){window.scrollTo(0,1);
},isInterruptedComment:function(c){return c>=7&&c<=9;
},compareTextWithoutRetuneChar:function(d,c){var f=d;
var e=c;
f=f.replace(/\r/g,"");
f=f.replace(/\n/g,"");
e=e.replace(/\r/g,"");
e=e.replace(/\n/g,"");
if(f==e){return true;
}return false;
},validation:function(h,c,g,e,d,f){h=a.$S(h).trim().$value();
if(e&&h.length===0){alert(e);
return false;
}if(d&&h.length<c){alert(a.$Template(d).process({min:escape(c.toString())}));
return false;
}if(f&&h.length>g){alert(a.$Template(f).process({max:escape(g.toString())}));
return false;
}return true;
},isFunctionalKey:function(c){if(c==null){return false;
}switch(c){case 8:case 18:case 17:case 37:case 38:case 39:case 40:case 33:case 34:case 46:case 16:case 35:case 36:case 45:case 20:case 27:return true;
}return false;
},movePage:function(d,e){d=this.removeParamsInUrl(d,e);
var c=this.makeQueryString(e);
if(d.indexOf("?")>-1){d+="&"+c;
}else{d+="?"+c;
}this.redirect(d);
},redirect:function(c){if(!c){return;
}window.location.href=c;
},removeParamsInUrl:function(d,e){if(e){for(var c in e){d=d.replace(new RegExp("\\b"+c+"=[^&#]*","g"),"");
}d=d.replace("&&","&").replace("?&","?").replace("&#","#").replace(/(.*)[&?]$/,"$1");
}return d;
},makeQueryString:function(f){var d=[],e="";
if(f){for(var c in f){e=f[c];
if(!e){continue;
}d.push(c+"="+encodeURIComponent(f[c]));
}}return d.join("&");
},preventTapHighlightForJindoNotSupported:function(){if(typeof a.$Element.prototype.preventTapHighlight==="function"){return;
}(function(){if(a.$Agent().navigator().msafari){var d="no_tap_highlight"+new Date().getTime();
var f=document.createElement("style");
var e=document.getElementsByTagName("html")[0];
f.type="text/css";
e.insertBefore(f,e.firstChild);
var c=f.sheet||f.styleSheet;
c.insertRule("."+d+" { -webkit-tap-highlight-color: rgba(0,0,0,0); }",0);
c.insertRule("."+d+" * { -webkit-tap-highlight-color: rgba(0,0,0,.25); }",0);
a.$Element.prototype.preventTapHighlight=function(g){return this[g?"addClass":"removeClass"](d);
};
}else{a.$Element.prototype.preventTapHighlight=function(g){return this;
};
}})();
},arraySetJindoNotSupported:function(){if(typeof a.$Element.prototype.set==="function"){return;
}(function(){a.$A.prototype.set=function(c,d){this._array[c]=d;
return this;
};
})();
},popUp:function(f,e,g,c){var d=window.open(f,e,"width="+g+",height="+c+",status=no,left=0,top=0");
if(d){d.focus();
return d;
}}};
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
nhn.comment.mobile.Util=nhn.comment.mobile.Util||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=nhn.comment.mobile.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
c.DomData={set:function(f,e,d){if(this.get(f,e)){this.remove(f,e);
}f.className+=(f.className?" ":"")+e+(d instanceof Array?"("+this._encode(d).join(",")+")":"");
return f;
},_encode:function(d){if(!d){return d;
}if(d instanceof Array){var f=[];
for(var e=0,g=d.length;
e<g;
e++){f.push(arguments.callee(d[e]));
}return f;
}return String(d).replace(/(["',\(\)\\])/g,function(h,i){switch(i){case",":i=".";
break;
case"(":i="[";
break;
case")":i="]";
break;
}return"\\"+i;
});
},_decode:function(d){if(!d){return d;
}if(d instanceof Array){var f=[];
for(var e=0,g=d.length;
e<g;
e++){f.push(arguments.callee(d[e]));
}return f;
}return String(d).replace(/\\(["'\.\[\]\\])/g,function(h,i){switch(i){case".":i=",";
break;
case"[":i="(";
break;
case"]":i=")";
break;
}return i;
});
},get:function(g,e){var f=this._getRegExp(e);
var d=this._checkElement(g,f);
if(d){return(this.last()||"").split(",");
}return null;
},remove:function(f,d){var e=this._getRegExp(d);
f.className=f.className.replace(e,"$4").replace(/(^\s+|\s+$)/g,"");
return f;
},last:function(){return this._lastValue;
},getParent:function(k,h,f){var j=this._getRegExp(h,f);
var g;
var d=false;
try{d="className" in k;
}catch(i){}for(;
k&&d;
k=k.parentNode){if(g=this._checkElement(k,j)){return g;
}}return null;
},getChild:function(l,h,e){if(l===document&&typeof e==="undefined"){this._gatherCollection();
var g=this._oCollection[h];
if(g&&this._isInHTML(g)){return g;
}return a.$$.getSingle("div."+h)||a.$$.getSingle("."+h);
}var j=this._getRegExp(h,e);
var f=l.getElementsByTagName("*");
for(var d=0,k;
k=f[d];
d++){if(g=this._checkElement(k,j)){return g;
}}return null;
},getChildAll:function(h,m,k){var f=[];
var d="*";
if(/^([a-z0-9]+)\./.test(m)){d=RegExp.$1;
m=m.replace(/^([a-z0-9]+)\./,"");
}var e=this._getRegExp(m,k);
var l;
var j=h.getElementsByTagName(d);
for(var g=0,n;
n=j[g];
g++){if(l=this._checkElement(n,e)){f.push(l);
}}return f;
},_getRegExp:function(f,e){if(e){var d=f+("("+this._encode(e).join(",")+")").replace(/([\/\(\)\[\]\+\.\*\?\|\{\}\\])/g,"\\$1");
return new RegExp("(^|\\s+)"+d+"(\\s+|$)","i");
}return new RegExp("(^|\\s+)"+f+"(\\(([^)]*)\\))?(\\s+|$)","i");
},_checkElement:function(e,d){if(d.test(e.className)){this._lastValue=this._decode(RegExp.$3);
return e;
}return null;
},_gatherCollection:function(){if(this._oCollection){return;
}var e={};
var h=document.getElementsByTagName("*");
var d=/(^|\b)_(\w+)(?=\(|\b|$)/g;
for(var g=0,m;
m=h[g];
g++){var l=m.className.match(d);
if(l){for(var f=0,k=l.length;
f<k;
f++){if(!e[l[f]]){e[l[f]]=m;
}}}}this._oCollection=e;
},_isInHTML:function(d){do{if(d===document.body){return true;
}}while(d=d.parentNode);
return false;
}};
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
nhn.comment.mobile.Util=nhn.comment.mobile.Util||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=nhn.comment.mobile.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
c.Bubbler=a.$Class({$init:function(d){this._el=d;
this._eventTypes={};
this._fpEventHandler=a.$Fn(this._eventHandler,this);
},attach:function(e,k){if(typeof e=="object"){var j=arguments.callee;
a.$H(e).forEach(function(n,m){j.call(this,m,n);
},this);
return this;
}if(a.$Agent().navigator().msafari){e=e.replace(/:mousedown$/,":touchstart").replace(/:mousemove$/,":touchmove").replace(/:mouseup$/,":touchend");
}var i=e.split(":");
var g=i[0];
var d=i[1].toLowerCase();
var h=/^!/.test(g)?"T":"F";
g=g.replace(/^!/,"");
var f=d;
if(f=="mouseenter"){f="mouseover";
}else{if(f=="mouseleave"){f="mouseout";
}}if(!(d in this._eventTypes)){this._eventTypes[d]=a.$H();
this._fpEventHandler.attach(this._el,f);
}var l=this._eventTypes[d];
if(!l.hasKey(g)){l.$(g,{T:a.$A(),F:a.$A()});
}l.$(g)[h].push(k);
return this;
},detach:function(e,k){if(typeof e=="object"){var j=arguments.callee;
a.$H(e).forEach(function(o,n){j.call(this,n,o);
},this);
return this;
}if(a.$Agent().navigator().msafari){e=e.replace(/:mousedown$/,":touchstart").replace(/:mousemove$/,":touchmove").replace(/:mouseup$/,":touchend");
}var h=e.split(":");
var f=h[0];
var d=h[1].toLowerCase();
var g=/^!/.test(f)?"T":"F";
f=f.replace(/^!/,"");
var m=this._eventTypes[d];
var l=m.$(f)[g];
if(l){var i=l.indexOf(k);
if(i!=-1){l.splice(i,1);
}}},_eventHandler:function(d){var f=d.type.toLowerCase();
var e=null;
if(f=="mouseover"){e="mouseenter";
}else{if(f=="mouseout"){e="mouseleave";
}}if(e){this._launchEventHandlers(d,this._eventTypes[e],true);
}this._launchEventHandlers(d,this._eventTypes[f]);
d=null;
},_launchEventHandlers:function(g,h,f){if(!h){return;
}var e=g.element;
var d=g.relatedElement;
h.forEach(function(m,j){var i=m.F;
var o=m.T;
var l=c.DomData.getParent(e,j);
if(!l){o.forEach(function(p){p(g);
});
a.$H.Continue();
}if(f){var k=c.DomData.getParent(d,j);
if(l===k){o.forEach(function(p){p(g);
});
a.$H.Continue();
}}var n=c.DomData.get(l,j);
i.forEach(function(p){p(g,l,n);
});
l=null;
},this);
}});
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=nhn.comment.mobile.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.Config=a.$Class({message:{},$init:function(d){this.instance={};
this._initDefaultConfig();
this._initConvertOption();
if(typeof d=="object"){this.option(d);
}c.preventTapHighlightForJindoNotSupported();
c.arraySetJindoNotSupported();
},_initDefaultConfig:function(){this.option("servicePath","comments");
this.option("isLogin",false);
this.option("objectUrl",""+document.location);
this.option("certUrl","https://nid.naver.com/user/mobile_rncheck.nhn?todo=start");
this.option("loginUrl","https://nid.naver.com/nidlogin.login?svctype=262144");
this.option("browser",a.$Agent().navigator().getName());
var d=document.location.protocol+"//";
d+=document.location.host+"/";
d+=this.option("servicePath")+"/";
this.option("serviceAddress",d);
this.option("categoryId","default");
this.option("viewCategoryId",undefined);
this.option("method","post");
this.option("pageSize",25);
this.option("pageNo",1);
this.option("isRedirectAfterDelete",false);
this.option("formation",["count","write","sort","bestList","list","listFooter","page"]);
this.option("commands",[]);
this.option("isHideWriteForm",false);
this.option("maximumCommentLength",500);
this.option("enableMultiLine",false);
this.option("useEscapeHtml",true);
this.option("myNickName","");
this.option("dateFormat","Y-m-d H:i");
this.option("urlList",{});
this.option("booleans",{});
this.option("comment",[]);
this.option("convention",{});
this.option("initialized",false);
this.option("pagingParameterName","page");
this.option("hidePageAreaIfOnlyOnePageExist",true);
this.option("maxDepth",2);
var e=a.m.getDeviceInfo();
this.option("useMoreContent",false);
if(e.iphone||e.ipad){this.option("useMoreContent",true);
}this.option("errorHandlers",{});
this.option("isBlackMode",false);
this.option("listType","u_comment_v2");
this.option("writeLinkUrl","#");
this.option("innerSvcListSize","3");
this.option("innerSvcListSort","newest");
this.option("useInnerSvcShowReply",true);
this.option("isSimpleList",false);
this.option("useRecommendArea",false);
this.option("replyPageSize",10);
this.option("useRecommendBtnLevel",2);
this.option("listAsync",false);
this.option("useFocus",true);
this.option("landingCommentNo",null);
this.option({elements:{body:"#comment_module",focusTarget:"comment_focus",countArea:".__comment_info",count:".__comment_count",writeboxRoot:".__comment_writebox_root_area",writebox:".__comment_writebox",textarea:"textarea",writeButton:".__comment_write_btn",list:".__comment_list",paginate:".__comment_page_area",pagemore:".__comment_page_more",pagenavigation:".__comment_page_navigation",commandArea:".__comment_command",bestCommentList:".__best_comment_list"}});
this.option({css:{commentItem:"__comment_item",commendDel:"__comment_del_btn",commendReport:"__comment_report_btn",textarea:"__comment_textarea",writeButton:"__comment_write_btn",replyItem:"__reply_item",noList:"__comment_no_list",writePrompt:"__comment_write_prompt",replyButton:"__comment_reply_form_btn",replyItemBest:"__reply_item_best",replyButtonBest:"__comment_reply_form_btn_best",replyCloseButton:"__comment_reply_close_btn",replyList:"__comment_reply_List",replyCloseBtnArea:"__comment_reply_close_btn_area",userRecommendYn:"__comment_user_recommend_yn",replyListPaging:"__comment_reply_list_paging",replyPrevButton:"__comment_reply_prev_btn",replyNextButton:"__comment_reply_next_btn",replyPageInfo:"__comment_reply_page",parentCommentNo:"__parent_comment_no"}});
this.option({templates:{countArea:'<div class="u_comment_top __comment_info"></div>',countSimple:'<div class="u_section"><h2 class="c_fnt">댓글 <span class="u_count __comment_count">{=count}</span></h2><a class="u_btn_refresh c_line c_bak __comment_refresh_btn" href="#">새로고침</a><a class="u_btn_write c_line c_bak c_fnt __comment_writebox_view" href="#">댓글쓰기</a></div>',rootWriteBoxArea:'<div class="u_comment_writebox __comment_writebox_root_area"></div>',replyWriteBoxArea:'<div class="u_comment_writebox __reply_item{if isUserRecommend}_best{/if}({=commentNo})" style="display:none;"></div>',writeBox:'<form action=""><fieldset class="u_comment_write __comment_writebox"><legend class="u_hc">댓글입력</legend><div class="u_writebox c_line"><span class="u_write_text"><textarea id="upload_txt" rows="3" cols="30" class="__comment_textarea({=commentNo}) __comment_user_recommend_yn({if isUserRecommend}Y{else}N{/if})"></textarea></span><span class="u_data __comment_write_prompt({=commentNo})">{=writePrompt}</span></div>{=socialCommentArea}<span class="u_btn_upload"><input type="submit" title="등록" value="등록" class="u_btn_w c_fnt __comment_write_btn"></span></fieldset>{if isUserRecommend}<a href="#" class="u_btn_more __comment_reply_close_btn_area({=commentNo})"><span class="u_btn_wrap"><span class="u_btm_txt open">답글접기</span></span></a>{/if}</form>',replyWriterArea:'<span class="u_comment_reply_writer u_comment_reply_writer{=replyLevel} __reply_writer">{=myNickName}</span>',replyBox:'<div class="u_comment_write u_comment_reply_area u_comment_reply_area{=replyLevel} __reply_item({=commentNo})"><form action="#" method="post"><fieldset><legend class="u_hc">댓글입력</legend><div><label class="u_hc" for="upload_txt{=commentNo}">댓글</label><span class="u_comment_input"><textarea id="upload_txt{=commentNo}" class="u_comment_upload __comment_textarea({=commentNo})" rows="5" cols="30"></textarea></span><input class="u_comment_reply_ulbtn __comment_write_btn" type="button" value="등록"></div>{=socialCommentArea}<p class="u_comment_promt __comment_write_prompt({=commentNo})">{=writePrompt}</p></fieldset></form></div>',writePrompt:"<em>{=inputCommentLength}</em> / {=maximumCommentLength}",bestList:'<ul class="u_comment_lst __best_comment_list"></ul>',list:'<ul class="u_comment_lst __comment_list"></ul>',noList:'<div class="u_comment_none"><p>댓글이 없습니다.<br>첫번째 댓글을 남겨주세요.</p></div>',comment:'<li class="u_comment_depth{if isUserRecommend} best{/if} __comment_item({=commentNo}) {if replyLevel > 1}u_comment_depth{=replyLevel}{/if}">{if replyLevel > 1}<span class="u_depth">└</span>{/if}<div class="u_comment_info"><em class="u_name">{=writerNickName} <span class="u_id">({=writerId})</span></em> {=registeredDate}{if !isMine} <span class="u_bar">|</span> <a href="#" class="u_report __comment_report_btn">신고</a></div>{/if}{if isMine}<a href="#" class="u_btn_del __comment_del_btn __parent_comment_no({=parentCommentNo})">댓글삭제</a></div>{/if}<p class="u_comment_text u_comment_txt{=replyLevel}">{if isUserRecommend}<span class="u_recomm">공감댓글</span> {/if}{=contents}</p><div class="u_comment_reply __comment_reply"><div class="u_comment_btns">{if maxDepth > replyLevel}{if isUserRecommend}<a href="#" class="u_btn c_fnt c_line bt_arw close __comment_reply_form_btn_best({=commentNo})" ><span>답글</span> <b>{if replyCount != null}{=replyCount}{else}0{/if}</b></a>{else}<a href="#" class="u_btn c_fnt c_line __comment_reply_form_btn({=commentNo})" >답글</a>{/if}{/if}{=socialCommentArea}{=recommendDiscommendArea}</div><ul class="u_comment_reply_list __comment_reply_List({=commentNo})" style="display:none;"></ul><div class="u_comment_reply_list_paging __comment_reply_list_paging({=commentNo})" style="display:none;"><a href="#" class="u_rpg_pre __comment_reply_prev_btn" title="이전">이전 답글</a><a href="#" class="u_rpg_next __comment_reply_next_btn" title="다음">다음 답글</a></div></div></li>',deleteComment:'<li class="u_comment_depth __comment_item({=commentNo}) {if replyLevel > 1}u_comment_depth{=replyLevel}{/if}">{if replyLevel > 1}<span class="u_depth">└</span>{/if}<div class="u_comment_del">{if replyLevel > 1}답글{/if}{if replyLevel < 2}댓글{/if}이 삭제되었습니다.</div></li>',blockComment:'<li class="u_comment_depth __comment_item({=commentNo}) {if replyLevel > 1}u_comment_depth{=replyLevel}{/if}">{if replyLevel > 1}<span class="u_depth">└</span>{/if}<div class="u_comment_del">{if status == 7 }본 게시물은 저작권법 제103조에 의거하여 저작권자의 요청으로 임시 게시중단 되었습니다.{elseif status == 8 || status == 9}본 게시물은 정보통신망이용촉진및정보보호등에 관한 법률 제44조의2를 준수하기 위해 다른 이용자의 요청으로 임시 게시중단 되었습니다.{/if}</div></li>',emptyComment:'<li class="u_comment_lst u_empty_comment_lst __comment_item(empty)" style="display:none;"><div><p class="u_comment_txt u_emtpy_comment_txt" style="word-break:break-all;line-break: all;word-wrap:break-word;">. . .</p></div></li>',reportForm:'<form id="commentReportForm" method="GET" target="_parent"><input type="hidden" name="itemSvcCd" id="itemSvcCd" value="CBM"/><input type="hidden" name="itemType" id="itemType" value="CMNT"/><input type="hidden" name="itemVirtualSvcCd" id="itemVirtualSvcCd" value=""/><input type="hidden" name="itemId" id="itemId" value=""/><input type="hidden" name="itemTitle" id="itemTitle" value=""/><input type="hidden" name="itemCateId" id="itemCateId" class="itemCateId0" value=""/><input type="hidden" name="itemCateName" id="itemCateName" class="itemCateName0" value=""/><input type="hidden" name="itemCateLevel" id="itemCateLevel" class="itemCateLevel0" value=""/><input type="hidden" name="itemWriterId" id="itemWriterId" value=""/><input type="hidden" name="itemEncyptWriterId" id="itemEncyptWriterId" value=""/><input type="hidden" name="itemWriterNick" id="itemWriterNick"/><input type="hidden" name="itemDt" id="itemDt" value=""/><input type="hidden" name="m" id="m" value="rprtMobileFrm"/><input type="hidden" name="retUrl" id="retUrl" value=""/><input type="submit" style="display:none;"/></form>',pageArea:'<div class="__comment_page_area"></div>',pageMore:'<div class="u_pg __comment_page_more"><a href="#" class="u_pg_btn __comment_more_button"><span class="u_pg_wrap"><span class="u_pg_area"><span class="u_pg_lod __comment_more_loading" style="display:none;"><span class="u_pg_lodic">로딩중..</span></span><span class="u_pg_txt"><span><span class="__comment_more_moreCnt"></span>개 더보기</span><br/><span class="u_pg_cnt"><span class="__comment_more_current"></span> / <span class="u_pg_total __comment_more_total"></span></span></span></span></span></a><span class="u_pg_btn __comment_more_last" style="display:none;"><span class="u_pg_wrap"><span class="u_pg_area"><span class="u_pg_txt"><span class="u_pg_cnt"><span class="__comment_more_current"></span> / <span class="u_pg_total __comment_more_total"></span></span></span></span></span></span><a href="#" class="u_pg_top __comment_more_top">맨위로</a></div>',pageNavigation:'<div class="u_pg2 __comment_page_navigation"><a href="#" class="u_pg2_btn u_pg2_prev __comment_page_prev"><span class="">이전</span></a><span class="u_pg2_btn u_pg2_prev __comment_page_prev-off"><span class="">이전</span></span><em class="u_pg2_pg __comment_page_info">1-10 <span class="u_pg2_total">/ </span></em><a href="#" class="u_pg2_btn u_pg2_next __comment_page_next"><span class="">다음</span></a><span class="u_pg2_btn u_pg2_next  __comment_page_next-off"><span class="">다음</span></span></div>',pageInfoTemplate:'{=STARTINDEX}-{=ENDINDEX}<span class="u_pg2_total"> / {=ITEMCOUT}</span>',replyPageInfo:'<span class="u_comment_reply_page __comment_reply_page"><em><span>현재페이지 </span>{=curPage}<span>페이지</span></em> / <span>전체페이지 </span>{=totalPage}<span>페이지</span></span>'}});
},_initConvertOption:function(){var e=this.option("booleans");
e.isMine=true;
e.isAdmin=true;
e.isReply=true;
e.isDeleted=true;
e.isVisible=true;
e.isAuthor=true;
e.isAuthorComment=true;
e.isUserRecommend=true;
e.isAuthorRecommend=true;
e.isRecommendArea=true;
e.isMobile=true;
var f=this.option("comment");
f.push("parentCommentNo");
f.push("commentNo");
f.push("writerNickName");
f.push("writerId");
f.push("writerIp");
f.push("maskedWriterId");
f.push("isMine");
f.push("isAdmin");
f.push("contents");
f.push("registeredDate");
f.push("modifiedDate");
f.push("replyLevel");
f.push("isReply");
f.push("isDeleted");
f.push("isVisible");
f.push("writerProfileUrl");
f.push("writerProfileType");
f.push("isMe2DayPosted");
f.push("upCount");
f.push("downCount");
f.push("isUserRecommend");
f.push("isAuthorRecommend");
f.push("isRecommendArea");
f.push("isAuthor");
f.push("isAuthorComment");
f.push("replyCount");
f.push("objectScore");
f.push("status");
f.push("isMobile");
f.push("personacon");
f.push("categoryId");
f.push("ticket");
var d=this.option("convention");
d={parentCommentNo:"parent_comment_no",commentNo:"comment_no",groupNo:"group_no",writerNickName:"writer_nickname",writerId:"writer_id",encodedWriterId:"enc_writer_id",maskedWriterId:"masked_writer_id",writerIp:"writer_ip",registeredDate:"registered_ymdt",modifiedDate:"modified_ymdt",replyLevel:"reply_level",typeCode:"comment_type_code",isMine:"is_mine",isAdmin:"is_admin",isReply:"is_reply",isDeleted:"deleted_yn",isVisible:"visible_yn",isMe2DayPosted:"is_me2day_posted",ticket:"ticket",objectId:"object_id",objectUrl:"object_url",replyCount:"reply_count",writerProfileUrl:"writer_profile_url",writerProfileType:"writer_profile_type",upCount:"up_count",downCount:"down_count",isUserRecommend:"user_recommend_yn",isAuthorRecommend:"author_recommend_yn",isRecommendArea:"is_recommend_area",isAuthor:"is_author",isAuthorComment:"is_author_comment",objectScore:"object_score",status:"status",isMobile:"mobile_yn",personacon:"personacon",categoryId:"category_id"};
this.option("convention",d);
},element:function(f,d){var e=this.option("elements");
if(typeof e=="undefined"||e===null){e={};
this.option("elements",e);
}if(typeof f=="object"){for(var g in f){e[g]=f[g];
}}else{if(typeof f=="string"){if(typeof d=="string"){e[f]=d;
}else{return e[f];
}}else{return null;
}}},template:function(f,d){var e=this.option("templates");
if(typeof e=="undefined"||e===null){e={};
this.option("templates",e);
}if(typeof f=="object"){for(var g in f){e[g]=f[g];
}}else{if(typeof f=="string"){if(typeof d=="string"){e[f]=d;
}else{return a.$Template(e[f]);
}}else{return null;
}}},css:function(d,g){var f=this.option("css");
if(typeof f=="undefined"||f===null){f={};
this.option("css",f);
}if(typeof d=="object"){for(var e in d){f[e]=d[e];
}}else{if(typeof d=="string"){if(typeof g=="string"){f[d]=g;
}else{return f[d];
}}else{return null;
}}},message:function(e,d){var g=this.message;
if(typeof e=="object"){for(var f in e){g[f]=e[f];
}}else{if(typeof e=="string"){if(typeof d=="string"){g[e]=d;
}}}},setTicketConfig:function(){var d={ticket:this.option("ticket")};
this.instance.ajax.call({operation:"ticketConfig",onSuccess:a.$Fn(function(e){this.option("social",e.social);
},this).bind(),param:d});
},getUrlList:function(){var d=a.$H(this.option("urlList"));
if(d.length()==0){this.instance.ajax.call({operation:"urlList",onSuccess:a.$Fn(function(e){this.option("urlList",e.url_list);
},this).bind(),param:{}});
}return this.option("urlList");
}}).extend(a.Component);
b.Config.prototype.message.UNAVAILABLE_OPERATION="요청한 동작을 수행할 수 없습니다.";
b.Config.prototype.message.ALREADY_REPORT="이미 신고된 글입니다.";
b.Config.prototype.message.REPORT_COMPLETE="신고 완료 처리 되었습니다.";
b.Config.prototype.message.NOT_LOGIN="로그인이 필요한 서비스 입니다.\n로그인 하시겠습니까?";
b.Config.prototype.message.EXCEED_MAX_LENGTH="최대 {=max}자까지 입력할 수 있습니다.";
b.Config.prototype.message.NO_CONTENTS="내용을 입력해주세요.";
b.Config.prototype.message.DELETE_CONFIRM="정말 삭제하시겠습니까?";
b.Config.prototype.message.CREATE_ERROR_PWORD_BLOCK="작성하신 내용에 금칙어가 포함되어 있습니다. [{=pwords}]";
b.Config.prototype.message.CREATE_ERROR_PWORD_ABUSING="작성하신 내용에 사용이 제한된 문구가 포함되어 일시적으로 등록이 제한됩니다.";
b.Config.prototype.message.DEFAULT_TEXT="주제와 무관한 댓글, 악플은 삭제될 수 있습니다.";
b.Config.prototype.message.NOT_AUTHENTICATED="정보통신망법에 따라 게시판에 글 작성 시 실명확인이 필요합니다.\n실명확인을 하시겠습니까?";
nhn.comment.config=new b.Config();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.Ajax=a.$Class({message:{},_htDefaultErrors:{},error:{create:{}},$init:function(){this.option("handlers",{});
this.option("list","list_comment.nhn");
this.option("moreList","list_next_comment.nhn");
this.option("create","set_comment.nhn");
this.option("delete","delete_comment.nhn");
this.option("isReport","isreported_comment.nhn");
this.option("report","report_comment.nhn");
this.option("isLogin","is_logged_in.nhn");
this.option("vote","vote_comment.nhn");
this.option("checkAuth","is_authenticated_name.nhn");
this.option("snsAuthStatus","get_sns_auth_status.nhn");
this.option("ticketConfig","get_ticket_config.nhn");
this.option("urlList","get_url_list.nhn");
this.option("replyList","list_reply_comment.nhn");
this.indexInstance=b.Ajax.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
},initErrorHandler:function(){this.setErrorHandlers({"403101":a.$Fn(this._handleNotLoginError,this).bind(),"301":a.$Fn(this._handleNotAuthError,this).bind()});
this.setErrorHandlers(this.config.option("errorHandlers"));
},getCommonParams:function(){var c={};
c.ticket=this.config.option("ticket");
c.object_id=this.config.option("objectId");
c._ts=(new Date().getTime());
if(typeof this.config.option("lkey")!="undefined"){c.lkey=this.config.option("lkey");
}if(typeof this.config.option("viewCategoryId")!="undefined"){c.view_category_id=this.config.option("viewCategoryId");
}if(typeof this.config.option("categoryId")!="undefined"){c.category_id=this.config.option("categoryId");
}return c;
},getListParams:function(){var c=this.getCommonParams();
c.page_size=this.config.option("pageSize");
return c;
},getUrl:function(d){var c=this.config.option("serviceAddress")+this.option(d);
return c;
},call:function(f){var c=this.option("handlers");
delete c[f.operation];
c[f.operation]=f.onSuccess;
var e=this.getUrl(f.operation);
var d=a.$Ajax(e,{method:this.config.option("method")||"post",async:f.async?f.async:false,onload:a.$Fn(this._onSuccess,this).bind(f.operation,f.param),onerror:a.$Fn(this._onError,this).bind(f.errorMessage)});
d.request(f.param);
},callSync:function(c,h){var f=this.getUrl(c);
var d={success:undefined,response:undefined};
var e=a.$Ajax(f,{method:this.config.option("method")||"post",async:false,onload:a.$Fn(this._onSuccessSync,this).bind(d),onerror:a.$Fn(this._onErrorSync,this).bind(d)});
e.request(h);
if(d.success){var g=this._errorHandler(d.response,this.error[c]);
if(g==0){return d.response;
}}},_onSuccessSync:function(d,c){d.success=true;
d.response=c.json();
},_onErrorSync:function(d,c){d.success=false;
},_onSuccess:function(g,f,d){var e=d.json();
if(this._errorHandler(e,this.error[g])===0){var c=this.option("handlers")[g];
c(e,f);
}},_onError:function(d,c){if(typeof d!="undefined"){alert(d);
}},_errorHandler:function(e,d){if(!e.error){return -1;
}var c=e.error;
if(!c.no||c.no=="0"){return Number(c.no);
}if(c.no=="-1"){alert(this.config.message.UNAVAILABLE_OPERATION);
return Number(c.no);
}if(d&&d[c.no]){var f=a.$Fn(d[c.no],this).bind();
f(e);
}else{if(this._htDefaultErrors&&this._htDefaultErrors[c.no]){this._htDefaultErrors[c.no](e,this);
}else{alert(c.message);
}}return Number(c.no);
},setErrorHandlers:function(d){if(typeof d!="object"){return;
}for(var c in d){this._htDefaultErrors[c]=d[c];
}},_handleNotLoginError:function(d,c){c.config.option("isLogin",false);
c.config.instance.auth.redirectLogin();
},_handleNotAuthError:function(d,c){c.config.option("isAuth",false);
c.config.instance.auth.redirectAuth();
}}).extend(a.Component);
nhn.comment.ajax=new b.Ajax();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.CommentItem=a.$Class({$init:function(h){this.indexInstance=h.indexInstance;
this.config=b.Config.getInstance()[this.indexInstance];
var g=this.config.option("comment");
var d=this.config.option("convention");
var k=this.config.option("booleans");
for(var f=0;
f<g.length;
f++){var e=d[g[f]];
if(typeof e=="undefined"){e=g[f];
}var j=h[e];
if(k[g[f]]){j=(j=="Y");
}if(e=="reply_count"){j=c.setNumberFormat(j==null?0:j);
}this.option(g[f],j);
}this.option("maxDepth",this.config.option("maxDepth"));
this.option("config",this.config);
},createItem:function(l,f){var k=null;
if(this.option("isDeleted")){k=this.config.template("deleteComment");
}else{if(c.isInterruptedComment(this.option("status"))){k=this.config.template("blockComment");
}else{k=this.config.template("comment");
}}this.option("socialCommentArea",this._createSocialCommentAreaHtml());
this.option("recommendDiscommendArea",this._createRecommendDiscommendAreaHtml());
var i=k.process(this.option());
var g=a.$Element(i);
if(f==0){var d=this.config.instance.core.getBody();
var h=a.$Element(d.query(this.config.element("bestCommentList")));
if(h==null||h.query(".first")==null){var e=a.$Element(d.query(this.config.element("list")));
if(!!e.query(".first")){e.query(".first").removeClass("first");
}g.addClass("first");
}else{g.addClass("best");
}l.prepend(g);
}else{var j=a.$Element(this.config.instance.listarea.getElCommentLiTag(f));
j.after(g);
}this._populateCommand(g);
this._createReplyWriteBox(g);
},createBestItem:function(e,j,h){var d=null;
if(this.option("isDeleted")){d=this.config.template("deleteComment");
}else{if(c.isInterruptedComment(this.option("status"))){d=this.config.template("blockComment");
}else{d=this.config.template("comment");
}}this.option("socialCommentArea",this._createSocialCommentAreaHtml());
this.option("recommendDiscommendArea",this._createRecommendDiscommendAreaHtml());
var i=d.process(this.option());
var f=a.$Element(i);
if(j==0){if(!h){f.addClass("first");
}e.prepend(f);
if(h){f.attr("tabindex","-1");
f.$value().focus();
f.$value().blur();
f.attr("tabindex",null);
}}else{var g=a.$Element(this.config.instance.bestlistarea.getElCommentLiTag(j));
g.after(f);
}this._populateCommand(f);
this._createReplyWriteBox(f);
},_createSocialCommentAreaHtml:function(){if(!b.SocialCommentArea||!this.config.option("isLogin")){return"";
}this.config.instance.socialCommentArea=b.SocialCommentArea.getInstance()[this.indexInstance];
return this.config.instance.socialCommentArea.createListAreaHtml(this.option());
},_createRecommendDiscommendAreaHtml:function(){if(!b.RecommendDiscommendArea){return"";
}this.config.instance.recommendDiscommendArea=b.RecommendDiscommendArea.getInstance()[this.indexInstance];
var d='<div class="u_comment_recomm __comment_recomm">'+this.config.instance.recommendDiscommendArea.createListAreaHtml(this.option())+"</div>";
return d;
},_populateCommand:function(f){if(f==null){return;
}var d=a.$Element(f.query(this.config.element("commandArea")));
if(d==null){return;
}var e=this._createCommand();
if(e==null){return;
}d.appendHTML(e);
},_createReplyWriteBox:function(d){this.option("isLogin",this.config.option("isLogin"));
this.option("maximumCommentLength",this.config.option("maximumCommentLength"));
this.config.instance.writearea.createReplyArea(d,this.option());
},_createCommand:function(){var d=this.config.option("commands");
var h="",e="",g=[];
for(var f=0;
f<d.length;
f++){e="";
h=d[f];
if(this.option("isDeleted")){continue;
}if(c.isInterruptedComment(this.option("status"))&&!(h==="delete")){continue;
}e=this.config.template(h+"Command").process(this.option());
if(e==""){continue;
}g.push(e);
}return g.join("");
},getCommentNo:function(){return this.option("commentNo");
},getReplyLevel:function(){return this.option("replyLevel");
},getRegisteredDate:function(){return this.option("registeredDate");
},isDeleted:function(){return this.option("isDeleted")==true;
}}).extend(a.Component);
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=nhn.comment.mobile.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.Command=a.$Class({$init:function(){this.indexInstance=b.Command.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
},deleteComment:function(e,d){e.stop();
var f=this.config.message.DELETE_CONFIRM;
if(!confirm(f)){return false;
}var g=this.config.instance.ajax.getListParams();
g.comment_no=this.getCommentNo(d);
g.page_no=this.config.instance.pagearea.getPageNo();
g.best_yn=a.$Element(d).attr("best_yn");
g.sort=this.config.option("currentSortOption");
this.config.instance.ajax.call({operation:"delete",onSuccess:a.$Fn(this._onDeleteComment,this).bind(),param:g});
},deleteBestReplyComment:function(e,d){e.stop();
var g=c.DomData.get(d,this.config.css("parentCommentNo"))[0];
if(g==0||g==null){a.$Element(d).attr("best_yn","Y");
this.deleteComment(e,d);
return;
}var f=this.config.message.DELETE_CONFIRM;
if(!confirm(f)){return false;
}var h=this.config.instance.ajax.getListParams();
h.comment_no=this.getCommentNo(d);
h.page_no=this.config.instance.pagearea.getPageNo();
h.parent_comment_no=g;
this.config.instance.ajax.call({operation:"delete",onSuccess:a.$Fn(this._onDeleteBestReplyComment,this).bind(),param:h});
},reportComment:function(f,e){f.stop();
var h={};
h.ticket=this.config.option("ticket");
h.object_id=this.config.option("objectId");
h.comment_no=this.getCommentNo(e);
var d=this.config.instance.ajax.callSync("isReport",h);
if(d){if(d.reported_yn===0){var g=document.location.protocol+"//"+document.location.host+"/comments/get_report_information.nhn";
if(h.ticket==""||h.commentNo=="-1"){alert(commonMessage.openFail);
}a.$Ajax(g,{async:false,onload:this.redirectCommonReport}).request({comment_no:h.comment_no,ticket:h.ticket,object_id:h.object_id,is_mobile:h.is_mobile,retUrl:h.retUrl});
}else{alert(this.config.message.ALREADY_REPORT);
}}},redirectCommonReport:function(m){var k=m.json();
var j=k.category;
var g=a.$Form("commentReportForm");
g.$value().action=k.srp_url;
g.value("itemVirtualSvcCd",k.virtual_service_code);
g.value("itemId",k.content_id);
g.value("itemTitle",k.contents);
var f="";
var h=new Array();
var l=new Array();
var e=new Array();
for(var i in j){var d=j[i];
if(f.length>0){f+=";";
}f+=d.category_id;
h.push(f);
l.push(d.category_name);
e.push(d.category_level);
}g.value("itemCateId",h);
g.value("itemCateName",l);
g.value("itemCateLevel",e);
g.value("itemWriterId",k.masked_writer_id);
g.value("itemEncyptWriterId",unescape(k.writer_id));
g.value("itemWriterNick",k.writer_nickname);
g.value("itemDt",k.registered_ymdt);
g.value("retUrl",encodeURIComponent(window.location.href));
g.submit();
},getCommentNo:function(d){var e=this.config.css("commentItem");
var f=c.DomData.getParent(d,e);
c.DomData.get(f,e);
return c.DomData.last();
},_onDeleteComment:function(e,g){this.config.instance.sortListArea.resetArea();
if(this.config.option("useMoreContent")&&!this.config.option("isRedirectAfterDelete")&&g.best_yn!="Y"){this.config.instance.listarea.deleteCommentForIos(g.comment_no);
}else{if(!this.config.option("isRedirectAfterDelete")){this.config.instance.listarea.refreshWithTheResult(e);
}else{var f={};
f[this.config.option("pagingParameterName")]=this.config.option("pageNo");
c.movePage(this.config.option("objectUrl"),f);
}}var d={};
d.commentNo=g.comment_no;
d.totalCount=this.config.instance.pagearea.getTotalCount();
this._processAfterDelete(d);
},_onDeleteBestReplyComment:function(d,e){this.config.instance.bestlistarea.callReplyList(e.parent_comment_no,1);
},_processAfterDelete:function(d){this.config.fireEvent("afterDelete",{result:d});
},toggleReplyForm:function(f,e){f.stop();
var g=this.getCommentNo(e);
var d=a.$Element(c.DomData.getChild(this.config.instance.listarea.getAreaElement().$value(),this.config.css("replyItem"),[g]));
if(!this.config.instance.listarea.toggleTargetAreaDependsOnLoginAndAuth(d)){return;
}this.config.instance.listarea.toogleReplyBtn(a.$Element(e));
},toggleReplyFormBest:function(e,d){e.stop();
var f=this.getCommentNo(d);
this.config.instance.bestlistarea.toogleReplyBtnBest(f);
},toggleReplyFormBestBottom:function(f,e){f.stop();
var g=this.getCommentNo(e);
this.config.instance.bestlistarea.toogleReplyBtnBest(g);
var d=this.config.instance.bestlistarea._getAreaChildElement("replyButtonBest",g);
d.$value().focus();
}}).extend(a.Component);
nhn.comment.command=new b.Command();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=nhn.comment.mobile.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.CountArea=a.$Class({$init:function(){this._welArea=null;
this.indexInstance=b.CountArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
},createArea:function(){this._welArea=a.$Element(this.config.template("countArea").process());
return this._welArea;
},afterCreateArea:function(){this.update(0);
this._createBubbler();
},getAreaElement:function(){return this._welArea;
},update:function(d){var e=null;
this.getAreaElement().empty();
e=this.config.template("countSimple").process({count:d});
this.getAreaElement().append(e);
},_createBubbler:function(){this._oBubbler=new c.Bubbler(this.getAreaElement().$value()).attach({"__comment_writebox_view:click":a.$Fn(this._onClickWriteboxView,this).bind(),"__comment_refresh_btn:click":a.$Fn(this._onClickRefreshButton,this).bind()});
this.getAreaElement().preventTapHighlight(true);
},_onClickWriteboxView:function(d){d.stop();
top.location=this.config.option("writeLinkUrl");
},_onClickRefreshButton:function(d){d.stop();
this.config.instance.listarea.refresh();
}}).extend(a.Component);
nhn.comment.countarea=new b.CountArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.WriteArea=a.$Class({$init:function(){this._whtWriteArea=a.$H({});
this._welArea=null;
this._welTextarea=null;
this.indexInstance=b.WriteArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
},createArea:function(){this._welArea=a.$Element(this.config.template("rootWriteBoxArea").process());
return this._welArea;
},afterCreateArea:function(){this._createWriteBox();
this._createBubbler(this._welArea,this._welTextarea);
},createReplyArea:function(g,h){if(g==null||h==null){return;
}var e=g.query(".__comment_reply");
if(e==null){return;
}var d=this.config.template("replyWriteBoxArea").process(h);
var j=a.$Element(d);
h.writePrompt=this._createWritePromptHtml(0);
h.socialCommentArea=this._createSocialCommentAreaHtml(false);
var i=this.config.template("writeBox").process(h);
j.append(a.$Element(i));
e.append(j);
var f=a.$Element(c.DomData.getChild(j.$value(),this.config.css("textarea")));
f.text(this.config.message.DEFAULT_TEXT);
this._createBubbler(j,f);
},_createReplyWriterAreaHtml:function(d){var e={};
e.replyLevel=d;
e.myNickName=this.config.option("myNickName");
return this.config.template("replyWriterArea").process(e);
},_createWritePromptHtml:function(d){return this.config.template("writePrompt").process({maximumCommentLength:this.config.option("maximumCommentLength"),inputCommentLength:d});
},_updatePromptArea:function(e,h,g){var f=null;
if(h=="Y"){f=c.DomData.getChild(this.config.instance.bestlistarea.getAreaElement().$value(),this.config.css("writePrompt"),[e]);
}else{f=c.DomData.getChild(this.config.instance.core.getBody().$value(),this.config.css("writePrompt"),[e]);
}if(f==null){return;
}var d=this._createWritePromptHtml(g);
a.$Element(f).html(d);
},getAreaElement:function(){return this._welArea;
},show:function(){this._welArea.show();
},focus:function(d,e){this._getTargetTextarea(d,e).$value().focus();
},blur:function(d,e){this._getTargetTextarea(d,e).$value().blur();
},_createSocialCommentAreaHtml:function(d){if(!b.SocialCommentArea){return"";
}this.config.instance.socialCommentArea=b.SocialCommentArea.getInstance()[this.indexInstance];
return this.config.instance.socialCommentArea.createWriteBoxAreaHtml(d);
},_createSocialCommentBubbler:function(d){if(!b.SocialCommentArea){return;
}this.config.instance.socialCommentArea=b.SocialCommentArea.getInstance()[this.indexInstance];
if(this.config.instance.socialCommentArea){this.config.instance.socialCommentArea.createWriteBoxBubbler(d.query(this.config.element("socialCommentWriteBoxArea")));
}},_getSocialCommentParams:function(e,d){if(!b.SocialCommentArea){return d;
}this.config.instance.socialCommentArea=b.SocialCommentArea.getInstance()[this.indexInstance];
if(this.config.instance.socialCommentArea){return this.config.instance.socialCommentArea.getParams(e,d);
}return d;
},_createWriteBox:function(){var e=this._createWritePromptHtml(0);
var d=this._createSocialCommentAreaHtml(true);
var g=this.config.template("writeBox").process({isLogin:this.config.option("isLogin"),writePrompt:e,socialCommentArea:d,commentNo:0});
var f=a.$Element(g);
this._welArea.append(f);
this._welTextarea=a.$Element(f.query(this.config.element("textarea")));
this._welTextarea.text(this.config.message.DEFAULT_TEXT);
if(this.config.option("isHideWriteForm")){this._welArea.hide();
}else{this._welArea.show();
}},_createBubbler:function(e,d){this._oBubbler=new c.Bubbler(e.$value()).attach({"__comment_textarea:keydown":a.$Fn(this._onKeyDownWriteBox,this).bind(),"__comment_write_btn:click":a.$Fn(this._onClickWriteBtn,this).bind(),"__comment_textarea:click":a.$Fn(this._onClickWriteBox,this).bind()});
a.$Fn(this._onBlurWriteBox,this).attach(d.$value(),"blur");
a.$Fn(this._onFocusWriteBox,this).attach(d.$value(),"focus");
e.preventTapHighlight(true);
this._createSocialCommentBubbler(e);
},releaseBubbler:function(e){var d=c.DomData.getChild(this.config.instance.listarea.getAreaElement().$value(),this.config.css("textarea"),[e]);
if(d==null){return;
}a.$Fn(this._onBlurWriteBox,this).detach(d,"blur");
a.$Fn(this._onFocusWriteBox,this).detach(d,"focus");
},_onFocusWriteBox:function(d){this._afterFocus(d);
},_afterFocus:function(d){var e=a.$Element(d.$value().target);
if(e==null){e=a.$Element(d.element);
}this._hideDefaultText(e);
},_onBlurWriteBox:function(d){var e=a.$Element(d.$value().target);
if(e==null){e=a.$Element(d.element);
}this._showDefaultText(e);
},_onKeyDownWriteBox:function(d){if(!this.config.instance.auth.redirectLogin()){return;
}setTimeout(a.$Fn(this._doAfterKeyDownEvent,this).bind(d),10);
},_onClickWriteBox:function(d){if(!this.config.instance.auth.redirectLogin()){var e=c.DomData.get(d.element,this.config.css("textarea"))[0];
var f=c.DomData.get(d.element,this.config.css("userRecommendYn"))[0];
this.blur(e,f);
return;
}},_doAfterKeyDownEvent:function(d){var g=d.$value().target;
if(g==null){g=d.element;
}var f=c.DomData.get(g,this.config.css("textarea"))[0];
var h=c.DomData.get(g,this.config.css("userRecommendYn"))[0];
if(c.isFunctionalKey(d.key().keyCode)){var e=this._getTargetTextarea(f,h);
this._whtWriteArea.$(f,e.text());
this._updatePromptArea(f,h,a.$S(e.text()).trim().$value().length);
return;
}this._detectOverMaxLength(f,h);
},_onClickWriteBtn:function(d){d.stop();
if(!this.config.instance.auth.redirectLogin()){return;
}if(!this.config.instance.auth.redirectAuth()){return;
}var i=a.$Element(d.element).parent(function(l){return l.tag=="form";
})[0];
var h=c.DomData.getChild(i.$value(),this.config.css("textarea"));
var k=a.$Element(h);
var g=c.DomData.get(h,this.config.css("textarea"))[0];
var e=c.trim(k.text());
if(e==this.config.message.DEFAULT_TEXT){e="";
}var j=c.DomData.get(h,this.config.css("userRecommendYn"))[0];
if(!c.validation(e,1,this.config.option("maximumCommentLength"),this.config.message.NO_CONTENTS,false,this.config.message.EXCEED_MAX_LENGTH)){this.focus(g,j);
return;
}if(e.length===0||c.compareTextWithoutRetuneChar(e,this.config.message.DEFAULT_TEXT)){alert(this.config.message.NO_CONTENTS);
this.focus(g,j);
return;
}var f={};
f.parent_comment_no=g;
f.user_recommend_yn=j;
f=this._getSocialCommentParams(i,f);
this._requestWrite(e,f);
},_requestWrite:function(d,e){var g=this.config.instance.ajax.getCommonParams();
g.page_size=this.config.option("pageSize");
g.object_url=this.config.option("objectUrl");
g.contents=d;
g.mobile_yn="Y";
for(var f in e){g[f]=e[f];
}if(!this._processBeforeWrite(g)){return;
}this.config.instance.ajax.call({operation:"create",onSuccess:a.$Fn((g.user_recommend_yn=="Y"?this._onWriteBestReply:this._onWrite),this).bind(),errorMessage:this.config.message.UNAVAILABLE_OPERATION,param:g});
},_onWrite:function(d,e){this.config.option("currentSortOption","newest");
this.config.instance.sortListArea.resetArea();
this._initTargetWriteArea(e.parent_comment_no);
if(!this._processAfterWrite(this._extractCreatedCommentFromResponse(d))){return;
}if(this.config.option("useMoreContent")){this._writeForIos(d,e);
return;
}this._writeForAndroid(d,e);
},_onWriteBestReply:function(d,e){this._initTargetWriteAreaBestReply(e.parent_comment_no);
this.config.instance.bestlistarea.callReplyList(e.parent_comment_no,0);
},_initTargetWriteArea:function(d){this._hideTargetReplyForm(d);
this._getTargetTextarea(d,"N").text(this.config.message.DEFAULT_TEXT);
this._updatePromptArea(d,"N",0);
},_initTargetWriteAreaBestReply:function(d){this._getTargetTextarea(d,"Y").text(this.config.message.DEFAULT_TEXT);
this._updatePromptArea(d,"Y",0);
},_writeForAndroid:function(d,e){this.config.instance.listarea.refreshWithTheResult(d);
},_processBeforeWrite:function(d){return this.config.fireEvent("beforeWrite",{oParam:d});
},_processAfterWrite:function(d){return this.config.fireEvent("afterWrite",{oResultComment:d});
},_writeForIos:function(f,i){var e=this._extractCreatedCommentFromResponse(f);
e=this.config.instance.listarea.preProcessForRawComment(e,f.author_yn);
var h=new b.CommentItem(e);
var g=this.config.instance.commentListModel.findPreSiblingCommentNoOfCreatedComment(e.parent_comment_no,e.reply_level);
if(g!="empty"){h.createItem(this.config.instance.listarea.getAreaElement(),g);
this.config.instance.commentListModel.addComment(h,g);
}this.config.instance.listarea.showOrHideEmptyLiTag();
this.config.instance.listarea.showOrHideNoListLiTag();
this.config.instance.pagearea.update(f.page_no,this.config.instance.pagearea.getTotalCount()+1);
this.config.instance.countarea.update(this.config.instance.pagearea.getTotalCount());
var d=a.$Element(c.DomData.getChild(this.config.instance.listarea.getAreaElement().$value(),this.config.css("replyButton"),[e.parent_comment_no]));
this.config.instance.listarea.toogleReplyBtn(d);
},_hideTargetReplyForm:function(e){if(e==null||e==0){return;
}var d=c.DomData.getChild(this.config.instance.listarea.getAreaElement().$value(),this.config.css("replyItem"),[e]);
if(d==null){return;
}a.$Element(d).hide();
},_extractCreatedCommentFromResponse:function(f){if(f==null||f.comment_list==null||f.create_result==null||f.create_result.comment_no==null){return null;
}var e=f.comment_list;
for(var d in e){if(e[d].comment_no==f.create_result.comment_no){return e[d];
}}return null;
},_detectOverMaxLength:function(h,i){var d=this._getTargetTextarea(h,i);
var f=d.text();
var g=c.validation(f,1,this.config.option("maximumCommentLength"),false,false,this.config.message.EXCEED_MAX_LENGTH);
if(g){this._whtWriteArea.$(h,f);
this._updatePromptArea(h,i,f.trim().length);
return;
}var e=this._whtWriteArea.$(h);
d.text(e==null?"":e);
},_getTargetTextarea:function(d,e){if(d==0){return this._welTextarea;
}if(e=="Y"){return a.$Element(c.DomData.getChild(this.config.instance.bestlistarea.getAreaElement().$value(),this.config.css("textarea"),[d]));
}else{return a.$Element(c.DomData.getChild(this.config.instance.listarea.getAreaElement().$value(),this.config.css("textarea"),[d]));
}},_showDefaultText:function(e){var d=e.text();
if(c.trim(d)==""){e.text(this.config.message.DEFAULT_TEXT);
}},_hideDefaultText:function(e){var d=e.text();
if(c.compareTextWithoutRetuneChar(d,this.config.message.DEFAULT_TEXT)){e.text("");
}}}).extend(a.Component);
nhn.comment.writearea=new b.WriteArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=nhn.comment.mobile.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.BestListArea=a.$Class({$init:function(){this._welArea=null;
this.indexInstance=b.BestListArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
this._oResult=null;
},createArea:function(){this._welArea=a.$Element(this.config.template("bestList").process());
if(this.config.option("useSortList")!=true&&this.config.option("useRecommendArea")==true){this._welArea.attr("id",this.config.element("focusTarget"));
}return this._welArea;
},afterCreateArea:function(){this._createBubbler();
},getAreaElement:function(){return this._welArea;
},_createBubbler:function(){this._oBubbler=new c.Bubbler(this.getAreaElement().$value()).attach({"__comment_del_btn:click":a.$Fn(this.config.instance.command.deleteBestReplyComment,this.config.instance.command).bind(),"__comment_report_btn:click":a.$Fn(this.config.instance.command.reportComment,this.config.instance.command).bind(),"__comment_reply_form_btn_best:click":a.$Fn(this.config.instance.command.toggleReplyFormBest,this.config.instance.command).bind(),"__comment_reply_close_btn_area:click":a.$Fn(this.config.instance.command.toggleReplyFormBestBottom,this.config.instance.command).bind(),"__comment_reply_prev_btn:click":a.$Fn(this.movePrevReplyList,this).bind(),"__comment_reply_next_btn:click":a.$Fn(this.moveNextReplyList,this).bind()});
this.getAreaElement().preventTapHighlight(true);
this._createRecommendDiscommendBubbler(this.getAreaElement());
},empty:function(){this.getAreaElement().empty();
},showBestList:function(d){if(d==null||d.comment_list==null||d.total_count==null||d.page_no==null){return;
}this._addBestComment(d.recommended_list,d.author_yn);
this._oResult=d;
},_addBestComment:function(h,f){if(h==null){return;
}var e=null,i=null;
var g=0;
for(var d=0;
d<h.length;
d++){e=this.preProcessForRawComment(h[d],f);
i=new b.CommentItem(e);
i.createBestItem(this.getAreaElement(),g,false);
g=h[d].comment_no;
}},getElCommentLiTag:function(d){if(d==null){return null;
}return c.DomData.getChild(this.getAreaElement().$value(),this.config.css("commentItem"),[d]);
},preProcessForRawComment:function(d,e){if(d.done_preprocessing){return d;
}d.registered_ymdt=b.Util.dateFormat(d.registered_ymdt,this.config.option("dateFormat"));
d.modified_ymdt=b.Util.dateFormat(d.modified_ymdt,this.config.option("dateFormat"));
if(this.config.option("useEscapeHtml")){d.contents=d.contents.replace("<!-- Not Allowed Tag Filtered -->","");
d.contents=a.$S(d.contents).unescapeHTML().escapeHTML().$value();
}d.contents=b.Util.multiLine(d.contents,this.config.option("enableMultiLine"));
d.indexInstance=this.indexInstance;
d.is_author=e;
d.done_preprocessing=true;
return d;
},_getAreaChildElement:function(e,d){return a.$Element(c.DomData.getChild(this.getAreaElement().$value(),this.config.css(e),[d]));
},toogleReplyBtnBest:function(f){var e=this._getAreaChildElement("replyButtonBest",f);
var g=this._getAreaChildElement("replyList",f);
if(e==null||g==null){return;
}e.toggleClass("open");
e.toggleClass("close");
if(e.hasClass("open")){this.callReplyList(f,1);
}else{var d=a.$Element(c.DomData.getChild(this.getAreaElement().$value(),this.config.css("replyItemBest"),[f]));
d.hide();
e.query("span").text("답글");
e.query("b").text(c.setNumberFormat(e.attr("replyCount")));
g.hide();
this._getAreaChildElement("replyListPaging",f).hide();
}},callReplyList:function(e,d){var f=this.config.instance.ajax.getListParams();
f.page_size=this.config.option("replyPageSize");
f.parent_comment_no=e;
if(d>0){f.page_no=d;
}this.config.instance.ajax.call({operation:"replyList",onSuccess:a.$Fn(this.displayReplyList,this).bind(),param:f});
},displayReplyList:function(e){if(e==null||e.reply_lists[0]==null){return;
}var d=e.reply_lists[0].parent_comment_no;
var f=e.reply_lists[0].reply_list;
if(f==null){return;
}this._openReplyListBest(d,e.reply_lists[0].reply_count);
this._getAreaChildElement("replyList",d).empty();
this._addReplyCommentToBest(d,f,e.author_yn);
this.displayReplyListPaging(e.reply_lists[0]);
},_addReplyCommentToBest:function(e,i,g){if(i==null){return;
}var f=null,k=null;
var h=0;
for(var d=0;
d<i.length;
d++){f=this.preProcessForRawComment(i[d],g);
k=new b.CommentItem(f);
var j=a.$Element(c.DomData.getChild(this.getAreaElement().$value(),this.config.css("replyList"),[e]));
k.createBestItem(j,h,true);
h=i[d].comment_no;
}},_openReplyListBest:function(f,g){var e=this._getAreaChildElement("replyButtonBest",f);
if(e==null){return;
}var h=this._getAreaChildElement("replyList",f);
if(h==null){return;
}var d=a.$Element(c.DomData.getChild(this.getAreaElement().$value(),this.config.css("replyItemBest"),[f]));
d.show("block");
e.attr("replyCount",g);
if(g==0){h.hide();
e.query("span").text("답글취소");
e.query("b").text("");
this._getAreaChildElement("replyCloseBtnArea",f).hide();
this._getAreaChildElement("replyListPaging",f).hide();
}else{h.show("block");
e.query("span").text("답글");
e.query("b").text(c.setNumberFormat(g));
this._getAreaChildElement("replyCloseBtnArea",f).show("block");
this._getAreaChildElement("replyListPaging",f).show("block");
}},displayReplyListPaging:function(f){var k=f.parent_comment_no;
var i=f.page_no;
var h=this._getAreaChildElement("replyListPaging",k);
var d=a.$Element(c.DomData.getChild(h.$value(),this.config.css("replyPrevButton")));
d.attr("parent_comment_no",k);
d.attr("page_no",i);
if(f.is_have_prev_page=="Y"){d.removeClass("u_rpg_dim");
d.attr("href","#");
}else{d.addClass("u_rpg_dim");
d.attr("href",null);
}var e=a.$Element(c.DomData.getChild(h.$value(),this.config.css("replyPageInfo")));
if(e!=null){h.remove(e);
}var g=Math.ceil(Number(f.reply_count)/Number(f.page_size));
e=a.$Element(this.config.template("replyPageInfo").process({curPage:i,totalPage:g}));
d.after(e);
var j=a.$Element(c.DomData.getChild(h.$value(),this.config.css("replyNextButton")));
j.attr("parent_comment_no",k);
j.attr("page_no",i);
j.attr("total_page",g);
if(f.is_have_next_page=="Y"){j.removeClass("u_rpg_dim");
j.attr("href","#");
}else{j.addClass("u_rpg_dim");
j.attr("href",null);
}},movePrevReplyList:function(d){d.stop();
if(Number(a.$Element(d.element).attr("page_no"))==1){return;
}this.callReplyList(a.$Element(d.element).attr("parent_comment_no"),Number(a.$Element(d.element).attr("page_no"))-1);
},moveNextReplyList:function(d){if(a.$Element(d.element).attr("page_no")==a.$Element(d.element).attr("total_page")){return;
}d.stop();
this.callReplyList(a.$Element(d.element).attr("parent_comment_no"),Number(a.$Element(d.element).attr("page_no"))+1);
},_createRecommendDiscommendBubbler:function(d){if(!b.RecommendDiscommendArea){return;
}this.config.instance.recommendDiscommendArea=b.RecommendDiscommendArea.getInstance()[this.indexInstance];
if(this.config.instance.recommendDiscommendArea){this.config.instance.recommendDiscommendArea.createListBubbler(d);
}}}).extend(a.Component);
nhn.comment.bestlistarea=new b.BestListArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=nhn.comment.mobile.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.ListArea=a.$Class({$init:function(){this._welArea=null;
this.indexInstance=b.ListArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
this._oResult=null;
},createArea:function(){this._welArea=a.$Element(this.config.template("list").process());
if(!(this.config.option("useSortList")==true||this.config.option("useRecommendArea")==true)){this._welArea.attr("id",this.config.element("focusTarget"));
}return this._welArea;
},createEmptyArea:function(){this._welNoListArea=a.$Element(this.config.template("noList").process());
return this._welNoListArea;
},afterCreateArea:function(){this._createBubbler();
},getAreaElement:function(){return this._welArea;
},_createBubbler:function(){this._oBubbler=new c.Bubbler(this.getAreaElement().$value()).attach({"__comment_del_btn:click":a.$Fn(this.config.instance.command.deleteComment,this.config.instance.command).bind(),"__comment_report_btn:click":a.$Fn(this.config.instance.command.reportComment,this.config.instance.command).bind(),"__comment_reply_form_btn:click":a.$Fn(this.config.instance.command.toggleReplyForm,this.config.instance.command).bind()});
this.getAreaElement().preventTapHighlight(true);
this._createRecommendDiscommendBubbler(this.getAreaElement());
},requestList:function(h,d,e){var g=this.config.instance.ajax.getListParams();
if(h=="page"){g.page_no=d;
}if(this.config.option("currentSortOption")){g.sort=this.config.option("currentSortOption");
}if(this.config.option("listType")=="u_comment_v1"){if(this.config.option("useInnerSvcShowReply")==false){g.depth=1;
}g.page_size=this.config.option("innerSvcListSize");
g.sort=this.config.option("innerSvcListSort");
}if(this.config.option("landingCommentNo")!=null){g.comment_no=this.config.option("landingCommentNo");
g.up_to_date_yn="Y";
this.config.option("landingCommentNo",null);
}var f=false;
if(typeof e=="boolean"){f=e;
}else{if(typeof this.config.option("listAsync")=="boolean"){f=this.config.option("listAsync");
}}this.config.instance.ajax.call({operation:"list",async:f,onSuccess:a.$Fn(this.showList,this).bind(),param:g});
},empty:function(){this.getAreaElement().empty();
this.config.instance.commentListModel.reset();
this.config.instance.pagearea.reset();
},refresh:function(d){this.empty();
this.requestList("page",1,d);
this.config.instance.sortListArea.resetArea();
},refreshWithTheResult:function(d){this.empty();
this.showList(d);
},showList:function(f){if(f==null||f.comment_list==null||f.total_count==null||f.page_no==null){return;
}this._processBeforeShowList(f);
if(this.config.option("useRecommendArea")){if(!(this.config.option("useMoreContent")&&f.more_yn=="Y")){this.config.instance.bestlistarea.empty();
}if(f.page_no==1&&f.more_yn!="Y"){this.config.instance.bestlistarea.showBestList(f);
}}var e=this.config.instance.commentListModel.getBaseLastCommentNo();
this._addCommentToBaseAndRemoveBottom(f);
this.showOrHideEmptyLiTag();
this.showOrHideNoListLiTag();
if(this.config.option("useRecommendArea")==true&&this.config.option("listType")=="u_comment_v1"){var d=f.comment_list.length+f.recommended_list.length;
if(d>0){this._welNoListArea.hide();
this._welArea.show();
}}if(this.config.option("useMoreContent")&&(f.comment_list==null||f.comment_list.length<this.config.option("pageSize"))){this.config.instance.pagearea.makeLastPage();
}this._removeAndReturnTheCount(e);
this.config.instance.pagearea.update(f.page_no,f.total_count,true);
this.config.instance.countarea.update(this.config.instance.pagearea.getTotalCount());
this.config.instance.listFooterArea.update(this.config.instance.pagearea.getTotalCount());
this._processAfterShowList(f);
this._oResult=f;
},_addCommentToBaseAndRemoveBottom:function(i){var l=i.comment_list;
var d=i.author_yn;
if(l==null){return;
}var h=null,f=null;
if(this.config.option("useRecommendArea")==true&&this.config.option("listType")=="u_comment_v1"){var g=Number(this.config.option("innerSvcListSize"))-i.recommended_list.length;
var j=0;
for(var e=0;
e<l.length;
e++){if(g<=j){break;
}if(this._notExistBestComment(l[e].comment_no,l[e].parent_comment_no,i.recommended_list)){h=this.preProcessForRawComment(l[e],d);
f=new b.CommentItem(h);
this._removeBottomCommentWhenListing(f.getCommentNo());
var k=this.config.instance.commentListModel.getBaseLastCommentNo();
f.createItem(this.getAreaElement(),k);
this.config.instance.commentListModel.addComment(f);
j++;
}}}else{for(var e=0;
e<l.length;
e++){h=this.preProcessForRawComment(l[e],d);
f=new b.CommentItem(h);
this._removeBottomCommentWhenListing(f.getCommentNo());
var k=this.config.instance.commentListModel.getBaseLastCommentNo();
f.createItem(this.getAreaElement(),k);
this.config.instance.commentListModel.addComment(f);
}}},_notExistBestComment:function(h,e,f){var g=true;
for(var d in f){if(h==f[d].comment_no||e==f[d].comment_no){g=false;
break;
}}return g;
},_removeBottomCommentWhenListing:function(d){if(!this.config.option("useMoreContent")||!this.config.instance.commentListModel.isExistInBottomCommentList(d)){return;
}this.config.instance.commentListModel.removeComment(d);
this._removeElCommentLiTag(d);
},getElCommentLiTag:function(d){if(d==null){return null;
}return c.DomData.getChild(this.getAreaElement().$value(),this.config.css("commentItem"),[d]);
},_removeElCommentLiTag:function(e){this.config.instance.writearea.releaseBubbler(e);
var d=this.getElCommentLiTag(e);
this.getAreaElement().remove(d);
},_processBeforeShowList:function(d){this.config.fireEvent("beforeList",{result:d});
},_processAfterShowList:function(d){this.config.fireEvent("afterList",{result:d});
},showOrHideEmptyLiTag:function(){},showOrHideNoListLiTag:function(){if(this.config.instance.commentListModel.isEmptyBaseComment()){this._welNoListArea.show();
this._welArea.hide();
return;
}this._welNoListArea.hide();
this._welArea.show();
},deleteCommentForIos:function(e){if(e==null){return;
}this.config.instance.commentListModel.markTargetCommentDeleted(e);
if(!this.config.instance.commentListModel.canRemoveTargetComment(e)){this._makeDeletedComment(e);
return;
}var d=this._removeAndReturnTheCount(e);
this.showOrHideEmptyLiTag();
this.showOrHideNoListLiTag();
this.config.instance.pagearea.update(this.config.instance.pagearea.getPageNo(),this.config.instance.pagearea.getTotalCount()-d);
this.config.instance.countarea.update(this.config.instance.pagearea.getTotalCount());
},_makeDeletedComment:function(h){var g=this.config.instance.commentListModel.getCommentInfoFromBaseAndBottom(h);
if(g==null){return;
}var f=this._preProcessForDeleteComment(g);
var d=new b.CommentItem(f);
var e=this.getElCommentLiTag(h);
if(e==null){return;
}a.$Element(e).hide();
d.createItem(this.getAreaElement(),h);
this.getAreaElement().remove(e);
},_preProcessForDeleteComment:function(e){var d={};
d.indexInstance=this.indexInstance;
d.writer_id="********";
d.writer_nickname="";
d.comment_no=e.commentNo;
d.registered_ymdt=e.registeredDate;
d.reply_level=e.replyLevel;
d.deleted_yn="Y";
return d;
},_removeAndReturnTheCount:function(f){var d=0;
if(!this.config.option("useMoreContent")){return d;
}while(this.config.instance.commentListModel.canRemoveTargetComment(f)){var e=this.config.instance.commentListModel.getPreSiblingCommentInfo(f);
this.config.instance.commentListModel.removeComment(f);
this._removeElCommentLiTag(f);
d++;
if(e==null){break;
}f=e.commentNo;
}return d;
},preProcessForRawComment:function(d,e){if(d.done_preprocessing){return d;
}d.registered_ymdt=b.Util.dateFormat(d.registered_ymdt,this.config.option("dateFormat"));
d.modified_ymdt=b.Util.dateFormat(d.modified_ymdt,this.config.option("dateFormat"));
if(this.config.option("useEscapeHtml")){d.contents=d.contents.replace("<!-- Not Allowed Tag Filtered -->","");
d.contents=a.$S(d.contents).unescapeHTML().escapeHTML().$value();
}d.contents=b.Util.multiLine(d.contents,this.config.option("enableMultiLine"));
d.indexInstance=this.indexInstance;
d.is_author=e;
d.done_preprocessing=true;
return d;
},toggleTargetAreaDependsOnLoginAndAuth:function(d){if(d==null){return false;
}if(!this.config.instance.auth.redirectLogin()){return false;
}if(!this.config.instance.auth.redirectAuth()){return false;
}d.toggle();
return true;
},toogleReplyBtn:function(d){if(d==null){return;
}var e=d.text();
if(e=="답글"){d.text("답글취소");
}else{d.text("답글");
}},_createRecommendDiscommendBubbler:function(d){if(!b.RecommendDiscommendArea){return;
}this.config.instance.recommendDiscommendArea=b.RecommendDiscommendArea.getInstance()[this.indexInstance];
if(this.config.instance.recommendDiscommendArea){this.config.instance.recommendDiscommendArea.createListBubbler(d);
}},setFocusList:function(){if(this.config.option("useFocus")==true){window.scrollTo(0,a.$Element(this.config.element("focusTarget")).offset().top);
}}}).extend(a.Component);
nhn.comment.listarea=new b.ListArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.CommonPageArea=a.$Class({$init:function(){this._welArea=null;
this._nPageNo=1;
this._nTotalCount=0;
this.indexInstance=b.PageArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
},getAreaElement:function(){return this._welArea;
},show:function(){this._welArea.show();
},hide:function(){this._welArea.hide();
},isNeedToHidePageArea:function(d){if(!this.config.option("hidePageAreaIfOnlyOnePageExist")){return false;
}if(this.config.option("pageSize")<d){return false;
}return true;
},setPageNo:function(d){if(d==null){return;
}this._nPageNo=d;
},getPageNo:function(){return this._nPageNo;
},setTotalCount:function(d){this._nTotalCount=d;
},getTotalCount:function(){return this._nTotalCount;
}}).extend(a.Component);
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.PageArea=a.$Class({$init:function(){this._oPageNavigation=null;
},createArea:function(){this._welArea=a.$Element(this.config.template("pageArea").process());
return this._welArea;
},afterCreateArea:function(){this._wel=a.$Element(this.config.template("pageNavigation").process());
this._welArea.append(this._wel);
this._initComponent();
this.hide();
},update:function(e,d,f){this.setPageNo(e);
this.setTotalCount(d);
this._oPageNavigation.reset((d==0?1:d));
this._oPageNavigation.movePageTo(e,false);
this._oPageNavigation.updateInfo();
if(this.isNeedToHidePageArea(d)){this.hide();
return;
}this.show();
},_initComponent:function(){var d=this;
this._oPageNavigation=new a.m.PageNavigation(this._wel.$value(),{sClassPrefix:"__comment_page_",nItemPerPage:this.config.option("pageSize"),sInfoTemplate:this.config.template("pageInfoTemplate")._str}).attach({beforeMove:function(e){e.stop();
d.hide();
d.config.instance.listarea.empty();
d.config.instance.listarea.requestList("page",e.nPage,false);
d.config.instance.listarea.setFocusList();
}});
},isLastPage:function(){return(this.config.option("pageSize")*this._nPageNo)>=this._nTotalCount;
},reset:function(){}}).extend(b.CommonPageArea);
nhn.comment.pagearea=new b.PageArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.CurrentCountChangeableMoreContentButton=a.$Class({_nCurrentPage:1,$init:function(e,f,d){this.config=e;
this.option({nItem:10,nItemPerPage:10,nPage:1,bActivateOnload:true});
this.option(d||{});
this._nCurrentPage=this.option("nPage");
this.option({sClassPrefix:"more_",nTotalItem:10,nShowMaxItem:10,nItemPerPage:10,nPage:1,bActivateOnload:true,htAjax:{}});
this.option(d||{});
this.option("nItem",this.option("nShowMaxItem"));
this._initVar();
this._setWrapperElement(f);
if(this.option("bActivateOnload")){this.activate();
this._nCurrentPage=this.option("nPage");
}this._nBaseCommentCount=0;
this._bLastPage=false;
},getItemCount:function(){return this.option("nItem");
},getItemPerPage:function(){return this.option("nItemPerPage");
},getCurrentPage:function(){return this._nCurrentPage;
},setItemCount:function(d){this.option("nItem",d);
},setItemPerPage:function(d){this.option("nItemPerPage",d);
},nextPageTo:function(){var d=this._nCurrentPage+1;
this.movePageTo(d);
},previousPageTo:function(){var d=this._nCurrentPage-1;
this.movePageTo(d);
},getTotalPages:function(){var e=this.option("nItem"),d=this.option("nItemPerPage");
if(!d){return null;
}return Math.ceil(e/d);
},hasPreviousPage:function(){return(this.getCurrentPage()>1);
},getPageItemIndex:function(g){g=this._convertToAvailPage(g);
var f=this.option("nItem"),e=this.option("nItemPerPage"),h,d;
if(!g||!e){return null;
}h=(g-1)*e;
d=Math.min(h+e,f)-1;
return{nStart:h,nEnd:d};
},getPageOfItem:function(d){return Math.ceil(d/this.getItemPerPage());
},_convertToAvailPage:function(d){var e=this.getTotalPages();
d=Math.max(d,1);
d=Math.min(d,e);
return d;
},_initVar:function(){var e={sApi:null,htAjaxOption:{type:"xhr"},htQuery:{},sStart:"start",sDisplay:"display"};
var d=this.option("htAjax");
if(!d){this.option("htAjax",e);
return;
}for(var f in e){if(typeof d[f]=="undefined"){d[f]=e[f];
}}for(var f in e.htAjaxOption){if(typeof d.htAjaxOption[f]=="undefined"){d.htAjaxOption[f]=e.htAjaxOption[f];
}}for(var f in e.htQuery){if(typeof d.htQuery[f]=="undefined"){d.htQuery[f]=e.htQuery[f];
}}if(!!d.sApi){this.oAjax=new a.$Ajax(d.sApi,d.htAjaxOption);
}},_setWrapperElement:function(d){this._htWElement={};
d=a.$(d);
var e="."+this.option("sClassPrefix");
this._htWElement.elBase=a.$Element(d);
this._htWElement.elMoreButton=a.$Element(a.$$.getSingle(e+"button",d));
this._htWElement.elTop=a.$Element(a.$$.getSingle(e+"top",d));
this._htWElement.elLoading=a.$Element(a.$$.getSingle(e+"loading",d));
this._htWElement.elMoreCnt=a.$Element(a.$$.getSingle(e+"moreCnt",d));
this._htWElement.elTotal=a.$Element(a.$$.getSingle(e+"total",d));
this._htWElement.elCurrent=a.$Element(a.$$.getSingle(e+"current",d));
this._htWElement.elLast=a.$Element(a.$$.getSingle(e+"last",d));
if(!!this._htWElement.elLast){this._htWElement.elLastTotal=a.$Element(a.$$.getSingle(e+"total",this._htWElement.elLast.$value()));
this._htWElement.elLastCurrent=a.$Element(a.$$.getSingle(e+"current",this._htWElement.elLast.$value()));
}},_onClickMore:function(d){d.stop(a.$Event.CANCEL_DEFAULT);
if(this.hasNextPage()){this.more();
}},_onClickTop:function(d){d.stop(a.$Event.CANCEL_DEFAULT);
this.fireEvent("goTop",{element:d.element});
},more:function(g){if(typeof g=="undefined"){g=true;
}var f=this._nCurrentPage+1;
var e=this.getCurrentPage();
if(g){if(!this.fireEvent("beforeMore",{nPage:f,nCurrentPage:e})){return;
}}this.showLoadingImg();
if(!!this.option("htAjax").sApi){this._callAjax(f,true,g);
}else{this._move(f);
var d=this.getPageItemIndex(f);
if(g){this.fireEvent("more",{nPage:f,nStartIndex:d.nStart,nEndIndex:d.nEnd});
}this.updateInfo();
}},movePageTo:function(f,g){if(typeof g=="undefined"){g=true;
}var e=this.getCurrentPage();
if(g){if(!this.fireEvent("beforeMovePage",{nPage:f,nCurrentPage:e})){return;
}}this.showLoadingImg();
if(!!this.option("htAjax").sApi){this._callAjax(f,false,g);
}else{this._move(f);
var d=this.getPageItemIndex(f);
if(g){this.fireEvent("movePage",{nPage:f,nBeforePage:e,nStartIndex:0,nEndIndex:d.nEnd});
}this.updateInfo();
}},_move:function(d){var e=this._convertToAvailPage(d);
if(e!=this._nCurrentPage){this._nCurrentPage=e;
}},_callAjax:function(e,g,h){var d=this;
this.oAjax.option("onload",null);
this.oAjax.option("onload",function(i){d._onAjaxResponse(i,e,g,h);
});
var f=this._getQueryString(e,g);
if(f.sort!="best"&&f.comment_no!="0"){this.oAjax.request(f);
}},_onAjaxResponse:function(f,e,g,h){if(h){this._move(e);
var i=g?"more":"movePage";
var d=this.getPageItemIndex(e);
this.fireEvent(i,{oResponse:f,nPage:e,nStartIndex:g?d.nStart:0,nEndIndex:d.nEnd});
}this.updateInfo();
},getShowMaxItem:function(){return this.option("nShowMaxItem");
},_setNumberFormat:function(d){d=d.toString();
var g="";
var j=0;
var f=d.length;
for(var e=f;
e>=0;
e--){var h=d.charAt(e);
if(e>f){g=h+g;
continue;
}if(/[0-9]/.test(h)){if(j>=3){g=","+g;
j=0;
}j++;
g=h+g;
}}return g;
},showLoadingImg:function(){if(!!this._htWElement.elLoading){this._htWElement.elLoading.show();
}},hideLoadingImg:function(){if(!!this._htWElement.elLoading){this._htWElement.elLoading.hide();
}},reset:function(d){if(typeof d=="undefined"){d=this.option("nShowMaxItem");
}this.setShowMaxItem(d);
this.movePageTo(1,false);
this._bLastPage=false;
},getTotalItem:function(){return this.option("nTotalItem");
},setTotalItem:function(d){this.option("nTotalItem",d);
},setShowMaxItem:function(d){this.option("nShowMaxItem",d);
this.option("nItem",d);
},_onActivate:function(){this._attachEvent();
},_onDeactivate:function(){this._detachEvent();
},_attachEvent:function(){this._htEvent={};
if(!!this._htWElement.elMoreButton){this._htEvent.click_More={ref:a.$Fn(this._onClickMore,this).attach(this._htWElement.elMoreButton,"click"),el:this._htWElement.elMoreButton.$value()};
}if(!!this._htWElement.elTop){this._htEvent.click_Top={ref:a.$Fn(this._onClickTop,this).attach(this._htWElement.elTop,"click"),el:this._htWElement.elTop.$value()};
}},_detachEvent:function(){for(var e in this._htEvent){var d=this._htEvent[e];
d.ref.detach(d.el,e.substring(0,e.indexOf("_")));
}this._htEvent=null;
},header:function(d,e){if(this.oAjax){return this.oAjax.header(d,e);
}},destroy:function(){this._detachEvent();
for(var d in this._htWElement){this._htWElement[d]=null;
}this._htWElement=null;
},_getQueryString:function(d,f){if(typeof f==="undefined"){f=true;
}var e=this.option("htAjax").htQuery||{};
e[this.option("htAjax").sDisplay]=this.getItemPerPage();
e.sort=this.config.option("currentSortOption");
return e;
},updateInfo:function(){if(this._bLastPage||this._nBaseCommentCount>=this.option("nTotalItem")){this._bLastPage=true;
this.setTotalItem(this._nBaseCommentCount);
}else{this._bLastPage=false;
}},updateView:function(){this.hideLoadingImg();
if(this._bLastPage){this._htWElement.elBase.addClass("u_pg_end");
if(!!this._htWElement.elMoreButton){this._htWElement.elMoreButton.hide();
}if(!!this._htWElement.elLast){this._htWElement.elLast.show("block");
}}else{this._htWElement.elBase.removeClass("u_pg_end");
if(!!this._htWElement.elMoreButton){this._htWElement.elMoreButton.show("block");
}if(!!this._htWElement.elLast){this._htWElement.elLast.hide();
}}if(!!this._htWElement.elCurrent){this._htWElement.elCurrent.text(this._nBaseCommentCount);
}if(typeof this._htWElement.elLastCurrent!="undefined"){this._htWElement.elLastCurrent.text(this._setNumberFormat(this._nBaseCommentCount));
}if(!!this._htWElement.elTotal){this._htWElement.elTotal.text(this._setNumberFormat(this.option("nTotalItem")));
}if(typeof this._htWElement.elLastTotal!="undefined"){this._htWElement.elLastTotal.text(this._setNumberFormat(this.option("nTotalItem")));
}if(!!this._htWElement.elMoreCnt){var d=Math.min(this.getItemPerPage(),this.option("nTotalItem")-this._nBaseCommentCount);
this._htWElement.elMoreCnt.text(this._setNumberFormat(d));
}},isLastPage:function(){return this._bLastPage;
},makeLastPage:function(){this._bLastPage=true;
},hasNextPage:function(){return this._nBaseCommentCount<this.option("nTotalItem");
},setBaseCommentCount:function(d){this._nBaseCommentCount=d;
}}).extend(a.UIComponent);
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.MoreContentArea=a.$Class({$init:function(){this._wel=null;
this._oMoreContent=null;
this._bInitComponent=false;
},createArea:function(){this._welArea=a.$Element(this.config.template("pageArea").process());
return this._welArea;
},afterCreateArea:function(){this._wel=a.$Element(this.config.template("pageMore").process());
this._welArea.append(this._wel);
this._initComponent();
this.hide();
},update:function(e,d,f){this.setPageNo(e);
var g=this.config.instance.ajax.getListParams();
g.comment_no=this.config.instance.commentListModel.getBaseLastCommentNo();
this._oMoreContent.option("htAjax").htQuery=g;
this._oMoreContent.setTotalItem(d);
this._oMoreContent.setShowMaxItem(d);
this._oMoreContent.setItemCount(d);
this._oMoreContent.setBaseCommentCount(this.config.instance.commentListModel.getBaseCommentCount());
if(f){this._oMoreContent.updateInfo();
}this._oMoreContent.updateView();
if(this.isNeedToHidePageArea(d)){this.hide();
return;
}this.show();
},getTotalCount:function(){if(this._oMoreContent.getTotalItem()==null){return 0;
}return this._oMoreContent.getTotalItem();
},_initComponent:function(){var d=this;
var e=this.config.instance.ajax.getListParams();
this._oMoreContent=new b.CurrentCountChangeableMoreContentButton(this.config,this._wel.$value(),{sClassPrefix:"__comment_more_",nItemPerPage:this.config.option("pageSize"),htAjax:{sApi:this.config.instance.ajax.getUrl("moreList"),sDisplay:"page_size",htQuery:e},nTotalItem:1,nShowMaxItem:1}).attach({goTop:function(){c.scrollTop();
},more:function(f){d._afterMore(f.oResponse);
}});
},_afterMore:function(d){d=d.json();
d.more_yn="Y";
this.config.instance.listarea.showList(d);
},isNeedToHidePageArea:function(d){if(!this.config.option("hidePageAreaIfOnlyOnePageExist")){return false;
}if(!this._isFirstPageWasLastPage()){return false;
}return true;
},_isFirstPageWasLastPage:function(){if(this._bFirstPageWasLastPage!=null){return this._bFirstPageWasLastPage;
}this._bFirstPageWasLastPage=this.isLastPage();
return this._bFirstPageWasLastPage;
},isLastPage:function(){return this._oMoreContent.isLastPage();
},makeLastPage:function(){this._oMoreContent.makeLastPage();
},reset:function(){this._oMoreContent.reset();
}}).extend(b.CommonPageArea);
nhn.comment.morecontentarea=new b.MoreContentArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.Auth=a.$Class({$init:function(){this.indexInstance=b.Auth.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
},checkLogin:function(){var c={};
c.ticket=this.config.option("ticket");
this.config.instance.ajax.call({operation:"isLogin",async:false,onSuccess:a.$Fn(this._onCheckLogin,this).bind(),param:c});
},redirectLogin:function(){if(this._isLoginNow()){return true;
}if(confirm(this.config.message.NOT_LOGIN)){var c=this.config.option("loginUrl")||"https://nid.naver.com/nidlogin.login";
top.location=c+"&url="+encodeURIComponent(this.config.option("objectUrl"));
}return false;
},_isLoginNow:function(){if(this.config.option("isLogin")){return true;
}this.checkLogin();
return this.config.option("isLogin");
},checkAuth:function(){if(this.config.option("isAuth")!==undefined){return;
}var c={};
c.ticket=this.config.option("ticket");
this.config.instance.ajax.call({operation:"checkAuth",async:false,onSuccess:a.$Fn(this._onCheckAuth,this).bind(),param:c});
},redirectAuth:function(){if(this.config.option("isAuth")){return true;
}if(confirm(this.config.message.NOT_AUTHENTICATED)){var f=this.config.option("certUrl")||"https://nid.naver.com/user/mobile_rncheck.nhn?todo=start";
var c=this.config.option("certRurl")||this.config.option("objectUrl");
var e=this.config.option("certSurl")||this.config.option("objectUrl");
var d=this.config.option("certSvc")||"";
top.location=f+"&rurl="+encodeURIComponent(c)+"&surl="+encodeURIComponent(e)+"&svc="+d;
}else{this.checkAuth();
}return false;
},_onCheckAuth:function(c){this.config.option("isAuth",c.is_authenticated_name=="Y");
},_onCheckLogin:function(c){if(c.is_logged_in=="Y"){this.config.option("isLogin",true);
}}}).extend(a.Component);
nhn.comment.auth=new b.Auth();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){document.domain="naver.com";
var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.Core=a.$Class({$init:function(){this.indexInstance=b.Core.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
this._welBody=null;
},initialize:function(){this._saveInstanceInConfig();
this._doAfterInstanceCreated();
this._createArea();
this.option("initialized",true);
this.config.fireEvent("initialized");
},getBody:function(){return this._welBody;
},_doAfterInstanceCreated:function(){this.config.instance.ajax.initErrorHandler();
this.config.setTicketConfig();
this.config.getUrlList();
},_saveInstanceInConfig:function(){var c=a.m.getDeviceInfo();
this.config.instance.core=b.Core.getInstance()[this.indexInstance];
this.config.instance.ajax=b.Ajax.getInstance()[this.indexInstance];
this.config.instance.command=b.Command.getInstance()[this.indexInstance];
this.config.instance.countarea=b.CountArea.getInstance()[this.indexInstance];
this.config.instance.writearea=b.WriteArea.getInstance()[this.indexInstance];
this.config.instance.bestlistarea=b.BestListArea.getInstance()[this.indexInstance];
this.config.instance.listarea=b.ListArea.getInstance()[this.indexInstance];
this.config.instance.auth=b.Auth.getInstance()[this.indexInstance];
this.config.instance.commentListModel=b.CommentListModel.getInstance()[this.indexInstance];
this.config.instance.sortListArea=b.SortListArea.getInstance()[this.indexInstance];
this.config.instance.listFooterArea=b.ListFooterArea.getInstance()[this.indexInstance];
if(this.config.option("useMoreContent")){this.config.instance.pagearea=b.MoreContentArea.getInstance()[this.indexInstance];
}else{this.config.instance.pagearea=b.PageArea.getInstance()[this.indexInstance];
}},_createArea:function(){var e=false;
this._welBody=a.$Element(a.$$.getSingle(this.config.element("body")));
this._welBody.addClass(this.config.option("listType"));
if(this.config.option("isBlackMode")){this._welBody.addClass("c_black");
}if(this.config.option("listType")=="u_comment_v1"&&this.config.option("isSimpleList")){this._welBody.addClass("u_comment_hc");
}var h=this.config.option("formation");
var c;
var g={count:this.config.instance.countarea,bestList:this.config.instance.bestlistarea,list:this.config.instance.listarea,page:this.config.instance.pagearea,write:this.config.instance.writearea,listFooter:this.config.instance.listFooterArea,sort:this.config.instance.sortListArea,};
for(var d=0,f=h.length;
d<f;
d++){c=h[d];
if(c=="list"){e=true;
this._welBody.append(this.config.instance.listarea.createEmptyArea());
}this._welBody.append(g[c].createArea());
g[c].afterCreateArea();
}if(e){this.config.instance.listarea.requestList("page",this.config.option("pageNo"),false);
}this._welBody.append(a.$Element(this.config.template("reportForm").process()));
}}).extend(a.Component);
nhn.comment.core=new b.Core();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.Controller=a.$Class({_sTarget:null,_htOptions:null,_htTemplates:null,_htMessage:null,$init:function(){this._htTemplates={};
this._htMessage={};
this._htOptions={};
},create:function(x,v,k,f){if(!x||!(a.$$.getSingle(x))){throw TypeError("Invalid target element selector argument.");
}if(!v){throw TypeError("Invalid ticket argument.");
}if(!k){throw TypeError("Invalid objectId argument.");
}var g=b.Core.getInstance();
var p=g[g.length-1];
if(p.initialized){var q=new b.Config();
var d=new b.Auth();
var i=new b.Ajax();
var w=new b.Core();
var j=new b.CountArea();
var s=new b.WriteArea();
var t=new b.BestListArea();
var e=new b.ListArea();
var h=new b.PageArea();
var o=new b.MoreContentArea();
var n=new b.Command();
var m=new b.CommentListModel();
if(b.SocialCommentArea){var c=new b.SocialCommentArea();
}if(b.RecommendDiscommendArea){var l=new b.RecommendDiscommendArea();
}var r=new b.SortListArea();
var u=new b.ListFooterArea();
p=g[g.length-1];
}this.resetConfig(p);
p.config.option("ticket",v);
p.config.option("objectId",k);
if(f){p.config.option("categoryId",f);
p.config.option("viewCategoryId",f);
}p.config.element("body",x);
p.initialized=true;
return p;
},initialize:function(c){c.initialize();
},addEventHandler:function(c,d){if(c&&c.initialized){c.config.attach(d);
}},setOptions:function(e,c){if(typeof e=="object"){for(var d in e){this._htOptions[d]=e[d];
}}else{if(typeof e=="string"&&c){this._htOptions[e]=c;
}}},setTemplates:function(d,c){if(typeof d=="object"){for(var e in d){this._htTemplates[e]=d[e];
}}else{if(typeof d=="string"&&c){this._htTemplates[d]=c;
}}},setMessages:function(c,e){if(typeof c=="object"){for(var d in c){this._htMessage[d]=c[d];
}}else{if(typeof c=="string"&&e){this._htMessage[c]=e;
}}},resetConfig:function(e){var f;
if(e&&e.name=="nhn.comment.mobile.Core"){f=[e];
}else{f=b.Core.getInstance();
}for(var d=0;
d<f.length;
d++){var c=f[d];
c.config.option(this._htOptions);
c.config.template(this._htTemplates);
c.config.message(this._htMessage);
}}}).extend(a.Component);
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=nhn.comment.mobile.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.CommentListModel=a.$Class({$init:function(){this.reset();
this.indexInstance=b.CommentListModel.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
},_getCommentIndex:function(f,e){var d=null;
if(f==null||e==null){return null;
}f.forEach(function(i,g,h){if(i.commentNo==e){d=g;
a.$A.Break();
}});
return d;
},markTargetCommentDeleted:function(f){var e=this._findTargetCommentList(f);
var d=this._getCommentIndex(e,f);
var g=e.get(d);
g.isDeleted=true;
e.set(d,g);
},_findTargetCommentList:function(d){if(this._isExistInBaseCommentList(d)){return this._waBaseCommentList;
}return this._waBottomCommentList;
},_generateCommentInfo:function(e){var d={};
d.commentNo=e.getCommentNo();
d.replyLevel=e.getReplyLevel();
d.registeredDate=e.getRegisteredDate();
d.isDeleted=e.isDeleted();
return d;
},_isPossibleToAddBaseCommentList:function(d){if(d==0){return true;
}if(this.config.instance.pagearea.isLastPage()){return true;
}if(this._isExistInBaseCommentList(d)&&!this._isHighReplyLevelOnlyExistAfterComment(d)){return true;
}return false;
},_isHighReplyLevelOnlyExistAfterComment:function(e){var g=this._getBaseCommentInfo(e);
var d=this._getSlicedListAfterCommentNo(this._waBaseCommentList,e);
if(d==null){return true;
}var f=true;
d.forEach(function(j,h,i){if(j.replyLevel<=g.replyLevel){f=false;
a.$A.Break();
}});
return f;
},_getSlicedListAfterCommentNo:function(f,e){var d=this._getCommentIndex(f,e);
if(d==null){return null;
}return f.slice(d+1,f.length());
},findPreSiblingCommentNoOfCreatedComment:function(g,f){var j=this._waBaseCommentList;
var i=0;
if(!this._isPossibleToAddBaseCommentList(g)){j=this._waBottomCommentList;
if(this._isExistInBaseCommentList(g)){g="empty";
}}var d=this._getCommentIndex(j,g);
if(d==null){return 0;
}var e=this.getCommentInfoFromBaseAndBottom(g);
var h=this._getSlicedListAfterCommentNo(j,g);
var i=g;
h.forEach(function(m,k,l){if(m.replyLevel<f){a.$A.Break();
}i=m.commentNo;
});
return i;
},isEmptyBottomComment:function(){if(this._waBottomCommentList.length()==1){return true;
}return false;
},isEmptyBaseComment:function(){if(this._waBaseCommentList.length()>0){return false;
}return true;
},addComment:function(f,d){if(f==null){return;
}var e=this._generateCommentInfo(f);
if(d==null){this._waBaseCommentList.push(e);
return;
}if(d==0){this._waBaseCommentList.unshift(e);
return;
}this._createListWithCommentInserted(e,d);
},_createListWithCommentInserted:function(h,g){var f=this._findTargetCommentList(g);
var e=this._getCommentIndex(f,g)+1;
var d=a.$A([]);
d=f.slice(0,e);
d.push(h);
f.slice(e,f.length()).forEach(function(k,i,j){d.push(k);
});
if(this._isExistInBaseCommentList(g)){this._waBaseCommentList=d;
return;
}this._waBottomCommentList=d;
},_isLastBaseCommentNo:function(d){return this.getBaseLastCommentNo()==d;
},_getBaseLastComment:function(){if(this._waBaseCommentList.length()==0){return null;
}return this._waBaseCommentList.get(this._waBaseCommentList.length()-1);
},getBaseLastCommentNo:function(){var d=this._getBaseLastComment();
if(d==null){return 0;
}return d.commentNo;
},removeComment:function(e){if(e==null){return;
}var d=null;
this._waBaseCommentList=this._getListWithoutTargetComment(this._waBaseCommentList,e);
this._waBottomCommentList=this._getListWithoutTargetComment(this._waBottomCommentList,e);
},_getListWithoutTargetComment:function(e,d){return e.filter(function(h,f,g){if(h.commentNo==d){return false;
}return true;
});
},reset:function(){this._waBaseCommentList=a.$A([]);
this._waBottomCommentList=a.$A([]);
var d={};
d.commentNo="empty";
d.replyLevel=1;
d.isDeleted=false;
this._waBottomCommentList.push(d);
},_getBaseCommentInfo:function(e){var f=null;
var d=this._getCommentIndex(this._waBaseCommentList,e);
if(d==null){return null;
}return this._waBaseCommentList.get(d);
},_isExistInBaseCommentList:function(d){if(d==null||this._getBaseCommentInfo(d)==null){return false;
}return true;
},isExistInBottomCommentList:function(e){if(e==null){return false;
}var d=false;
this._waBottomCommentList.forEach(function(h,f,g){if(h.commentNo==e){d=true;
a.$A.Break();
}});
return d;
},getCommentInfoFromBaseAndBottom:function(d){var e=this._getBaseCommentInfo(d);
if(e!=null){return e;
}this._waBottomCommentList.forEach(function(g,f,h){if(g.commentNo==d){e=g;
a.$A.Break();
}});
return e;
},canRemoveTargetComment:function(f){var d=this.getCommentInfoFromBaseAndBottom(f);
var e=this._getNextSiblingCommentInfo(f);
if(d==null||!d.isDeleted){return false;
}if(d.replyLevel<this.config.option("maxDepth")&&!this.config.instance.pagearea.isLastPage()&&this._isLastBaseCommentNo(f)){return false;
}if(e!=null&&e.replyLevel>d.replyLevel){return false;
}return true;
},getPreSiblingCommentInfo:function(f){var e=this._findTargetCommentList(f);
var d=this._getCommentIndex(e,f);
if(d==null){return null;
}return e.get(d-1);
},_getNextSiblingCommentInfo:function(f){var e=this._findTargetCommentList(f);
var d=this._getCommentIndex(e,f);
if(d==null){return null;
}return e.get(d+1);
},getBaseCommentCount:function(){return this._waBaseCommentList.length();
},findBottomSequentialDeletedCommentCountFromBase:function(){var e=0;
for(var d=this._waBaseCommentList.length();
d>0;
d--){var f=this._waBaseCommentList.get(d-1);
if(!f.isDeleted){break;
}e++;
}return e;
}}).extend(a.Component);
nhn.comment.commentListModel=new b.CommentListModel();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.SocialCommentArea=a.$Class({$init:function(){this._welArea=null;
this.indexInstance=b.SocialCommentArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
this._initConfig();
},_initConfig:function(){this.config.element({socialCommentWriteBoxArea:".__comment_sns"});
this.config.template({socialCommentWriteBoxArea:'<div class="u_socail __comment_sns"><span class="u_socail_ch"><input type="checkbox" name="check1" id="me2day_{=level}" value="미투데이 동시 등록하기" class="chb _me2day {if !isMe2day}disabled{/if} __comment_sns_checkbox()"><label for="me2day_{=level}" class="lbl_me2 c_line c_bak">미투데이 동시 등록하기</label></span><span class="u_socail_ch"><input type="checkbox" name="check2" id="facebook_{=level}" value="페이스북 동시 등록하기" class="chb _facebook {if !isFacebook}disabled{/if} __comment_sns_checkbox()"><label for="facebook_{=level}" class="lbl_facebook c_line c_bak">페이스북 동시 등록하기</label></span><span class="u_socail_ch"><input type="checkbox" name="check3" id="twitter_{=level}" value="트위터 동시 등록하기" class="chb _twitter {if !isTwitter}disabled{/if} __comment_sns_checkbox()"><label for="twitter_{=level}" class="lbl_twitter c_line c_bak">트위터 동시 등록하기</label></span><span class="u_set"><a href="#" class="u_setting c_line c_bak __comment_sns_config()">SNS 설정</a></span></div>',socialCommentListArea:'{if \'true\'== isMe2day}<a href="{js jindo.$S((=config.option(\'urlList\').social.redirectSns)).format((=ticket),(=commentNo),\'ME2DAY\')}" {if !isSocialLinkOpen}onclick="return false;"{/if} target="_blank"><span class="ico_socail ico_me2">미투데이 동시 등록</span></a>{/if}{if \'true\'== isFacebook}<a href="{js jindo.$S((=config.option(\'urlList\').social.redirectSns)).format((=ticket),(=commentNo),\'FACEBOOK\')}" {if !isSocialLinkOpen}onclick="return false;"{/if} target="_blank"><span class="ico_socail ico_facebook">페이스북 동시 등록</span></a>{/if}{if \'true\'== isTwitter}<a href="{js jindo.$S((=config.option(\'urlList\').social.redirectSns)).format((=ticket),(=commentNo),\'TWITTER\')}" {if !isSocialLinkOpen}onclick="return false;"{/if} target="_blank"><span class="ico_socail twitter">트위터 동시 등록</span></a>{/if}{if \'true\'== isYozm}<a href="{js jindo.$S((=config.option(\'urlList\').social.redirectSns)).format((=ticket),(=commentNo),\'YOZM\')}" {if !isSocialLinkOpen}onclick="return false;"{/if} target="_blank"><span class="ico_socail ico_yozm">다음 요즘  동시 등록</span></a>{/if}'});
this.config.option("nidManageSocialAuthUrl","https://nid.naver.com/mobile/user/help/externalAuth.nhn?&menu=nid4");
this.config.option("socialAuthUrl","http://nid.naver.com/oauth/idLink.nhn?");
this.config.option("useSocialComment",false);
this.config.option("snsAuthStatus",{});
this.config.option("social",{active:false,link_open:false,reply_active:false});
var e=this.config.option("comment");
e.push("isMe2day");
e.push("isFacebook");
e.push("isTwitter");
e.push("isYozm");
e.push("isSocialLinkOpen");
this.config.option("comment",e);
var d=this.config.option("convention");
d.isMe2day="is_me2day";
d.isFacebook="is_facebook";
d.isTwitter="is_twitter";
d.isYozm="is_yozm";
this.config.option("convention",d);
this.config.attach("afterSocialAuth",a.$Fn(this._changeSnsCheckBoxIcon,this).bind());
},_changeSnsCheckBoxIcon:function(j){var g=j.sns;
var e=a.$$(".__comment_sns input._"+g);
for(var f=0;
f<e.length;
++f){var h=a.$Element(e[f]);
var d=h.next();
h.removeClass("disabled");
h.attr("checked","checked");
d.removeClass("off");
d.addClass("on");
}},createWriteBoxAreaHtml:function(e){var f=this.config.option("social");
var g=e?f.active:f.reply_active;
if(!this.config.option("useSocialComment")||!g){return"";
}if(!this.config.option("isLogin")){d=new a.$H({isMe2day:false,isFacebook:false,isTwitter:false,isYozm:false});
d.level=e?1:2;
return this.config.template("socialCommentWriteBoxArea").process(d.$value());
}else{var d=this._getSnsAuthStatus();
d.level=e?1:2;
return this.config.template("socialCommentWriteBoxArea").process(d);
}},createListAreaHtml:function(e){var d=this.config.option("social");
if(this.config.option("useSocialComment")&&d.active&&e.isMine&&(e.isMe2day||e.isFacebook||e.isTwitter||e.isYozm)){if(e.replyLevel>1&&!d.reply_active){return"";
}e.isSocialLinkOpen=d.link_open;
return this.config.template("socialCommentListArea").process(e);
}return"";
},createWriteBoxBubbler:function(d){if(d==null){return;
}this._oWriteBoxBubbler=new c.Bubbler(d.$value()).attach({"__comment_sns_checkbox:click":a.$Fn(this._onClickSnsCheckBox,this).bind(),"__comment_sns_config:click":a.$Fn(this._onClickSnsConfigBtn,this).bind()});
d.preventTapHighlight(true);
},getParams:function(f,e){if(this.config.option("useSocialComment")){var d=f.query(this.config.element("socialCommentWriteBoxArea"));
if(d){if(d.query("input._me2day")){e.add_post_me2day=d.query("input._me2day").attr("checked")?"Y":"N";
}if(d.query("input._facebook")){e.add_post_facebook=d.query("input._facebook").attr("checked")?"Y":"N";
}if(d.query("input._twitter")){e.add_post_twitter=d.query("input._twitter").attr("checked")?"Y":"N";
}if(d.query("input._yozm")){e.add_post_yozm=d.query("input._yozm").attr("checked")?"Y":"N";
}}}return e;
},_onClickSnsCheckBox:function(e){if(!this.config.option("isLogin")){this.config.instance.auth.redirectLogin();
e.stop();
return;
}var h=a.$Element(e.element);
var d=a.$Element(h.next());
if(h.tag.toLowerCase()=="label"){d=h;
h=a.$Element(h.prev());
}if(h.hasClass("disabled")){var f=d.attr("for").match(/(\w+)_\d+/)[1];
if(f=="me2day"){alert("미투데이 아이디 인증이 필요합니다.");
e.stopDefault();
return;
}var g=a.$H({servicekey:"COMMON_COMMENT",type:f,viewtype:2,svcurl:this.config.option("objectUrl")});
location.href=this.config.option("socialAuthUrl")+g.toQueryString();
e.stopDefault();
return;
}if(d.hasClass("on")){d.removeClass("on");
}else{d.addClass("on");
}},_onClickSnsConfigBtn:function(d){if(!this.config.option("isLogin")){this.config.instance.auth.redirectLogin();
d.stop();
return;
}c.popUp(this.config.option("nidManageSocialAuthUrl"),"socialComment");
d.stopDefault();
},_getSnsAuthStatus:function(){var d=a.$H(this.config.option("snsAuthStatus"));
if(d.length()==0){var e={ticket:this.config.option("ticket")};
this.config.instance.ajax.call({operation:"snsAuthStatus",async:false,onSuccess:a.$Fn(function(g){var f=g.sns_auth_status;
if(f instanceof Array){f={};
}this.config.option("snsAuthStatus",f);
},this).bind(),param:e});
}return this.config.option("snsAuthStatus");
}}).extend(a.Component);
nhn.comment.socialCommentArea=new b.SocialCommentArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.RecommendDiscommendArea=a.$Class({$init:function(){this._welArea=null;
this.indexInstance=b.RecommendDiscommendArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
this._initConfig();
},_initConfig:function(){this.config.element({recommendDiscommendBtnArea:".__comment_recomm"});
this.config.template({recommendCommand:'<a href="#" title="공감" class="__comment_rec" commentNo="{=commentNo}"><span class="u_hc">공감</span> <em>{=upCount}</em></a>',discommendCommand:'<a href="#" title="비공감" class="__comment_disc" commentNo="{=commentNo}"><span class="u_hc">비공감</span> <em>{=downCount}</em></a>'});
this.config.option("useRecommendBtn",0);
},createListAreaHtml:function(d){if(d.replyLevel>this.config.option("useRecommendBtnLevel")){return"";
}var e=this.config.template("recommendCommand").process(d);
if(this.config.option("useRecommendBtn")==0){return"";
}if(this.config.option("useRecommendBtn")>1){return this.config.template("recommendCommand").process(d)+this.config.template("discommendCommand").process(d);
}return e;
},createListBubbler:function(d){if(d==null){return;
}a.$Element(d.$value()).delegate("click",".__comment_rec",a.$Fn(this._recommendCommand,this).bind());
a.$Element(d.$value()).delegate("click",".__comment_disc",a.$Fn(this._discommendCommand,this).bind());
d.preventTapHighlight(true);
},_recommendCommand:function(d){d.stopDefault();
this.vote("recommend",d.element);
},_discommendCommand:function(d){d.stopDefault();
this.vote("discommend",d.element);
},vote:function(d,f){var e={};
e.ticket=this.config.option("ticket");
e.object_id=this.config.option("objectId");
e.comment_no=a.$Element(f).attr("commentNo");
if(d=="recommend"){e.recommend_up_yn="Y";
}else{e.recommend_up_yn="N";
}this.config.instance.ajax.call({operation:"vote",onSuccess:a.$Fn(this._processVote,this).bind(f),param:e});
},_processVote:function(g,d){var f=a.$Element(a.$$.getSingle("em",g));
var e=Number(f.text());
f.text(e+1);
}}).extend(a.Component);
nhn.comment.recommendDiscommendArea=new b.RecommendDiscommendArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.SortListArea=a.$Class({$init:function(){this._htSortTypeNameList=a.$H({newest:"최신순",oldest:"등록순",recommend:"공감순"});
this.indexInstance=b.SortListArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
this._initConfig();
},_initConfig:function(){this._welSortAreaRoot=null;
this.config.element({sortArea:".__sort_area"});
this.config.template({sortAreaRoot:'<div class="u_sort __sort_area"></div>',sortRadioButtonRoot:'<div class="u_sr"></div>',sortRadioButtonItem:'<a href="#" class="__sortList" id="{=sortId}"><input type="radio" name="radio" class="u_rio __sortListRadio({=sortId})" value="{=sortName}" id="{=sortId}" {if checked}checked="checked"{/if}><label for="radio1" id="{=sortId}">{=sortName}</label></a>',sortSelectBoxRoot:'<select class="u_sl __sortList"></select>',sortSelectBoxItem:'<option value="{=sortId}" {if selected}selected="selected"{/if} >{=sortName}</option>'});
this.config.option("useSortList",true);
this.config.option("sortListUiType","radio");
this.config.option("currentSortOption","newest");
this.config.option("sortOptionList",["newest","oldest"]);
},createArea:function(){this._welSortAreaRoot=a.$Element(this.config.template("sortAreaRoot").process());
if(!this.config.option("useSortList")){return this._welSortAreaRoot;
}this._welSortAreaRoot.attr("id",this.config.element("focusTarget"));
var g=this.config.option("sortOptionList");
if(this.config.option("sortListUiType")=="select"){var j=a.$Element(this.config.template("sortSelectBoxRoot").process());
for(var h=0;
h<g.length;
++h){var f=a.$Element(this.config.template("sortSelectBoxItem").process({sortId:g[h],sortName:this._htSortTypeNameList.$(g[h]),selected:this.config.option("currentSortOption")==g[h]}));
j.append(f);
}this._welSortAreaRoot.append(j);
}else{var d=a.$Element(this.config.template("sortRadioButtonRoot").process());
for(var h=0;
h<g.length;
++h){var e=a.$Element(this.config.template("sortRadioButtonItem").process({sortId:g[h],sortName:this._htSortTypeNameList.$(g[h]),checked:this.config.option("currentSortOption")==g[h]}));
d.append(e);
}this._welSortAreaRoot.append(d);
}return this._welSortAreaRoot;
},resetArea:function(){if(!this.config.option("useSortList")){return;
}var j=this.getAreaElement();
if(j==null){return;
}var g=this.config.option("sortOptionList");
if(this.config.option("sortListUiType")=="select"){var k=a.$Element(this.config.template("sortSelectBoxRoot").process());
for(var h=0;
h<g.length;
++h){var f=a.$Element(this.config.template("sortSelectBoxItem").process({sortId:g[h],sortName:this._htSortTypeNameList.$(g[h]),selected:this.config.option("currentSortOption")==g[h]}));
k.append(f);
}j.empty();
j.append(k);
}else{var d=a.$Element(this.config.template("sortRadioButtonRoot").process());
for(var h=0;
h<g.length;
++h){var e=a.$Element(this.config.template("sortRadioButtonItem").process({sortId:g[h],sortName:this._htSortTypeNameList.$(g[h]),checked:this.config.option("currentSortOption")==g[h]}));
d.append(e);
}j.empty();
j.append(d);
}},_createBubbler:function(){if(this.config.option("sortListUiType")=="select"){this._oBubbler=new c.Bubbler(this.getAreaElement().$value()).attach({"__sortList:change":a.$Fn(this._onClickSelectSort,this).bind()});
}else{this._oBubbler=new c.Bubbler(this.getAreaElement().$value()).attach({"__sortList:click":a.$Fn(this._onClickRadioSort,this).bind()});
}this.getAreaElement().preventTapHighlight(true);
},getAreaElement:function(){return this._welSortAreaRoot;
},afterCreateArea:function(){this._createBubbler();
},_onClickRadioSort:function(e){e.stopDefault();
var d=a.$Element(e.element).attr("id");
this.config.option("currentSortOption",d);
this.config.instance.listarea.refresh(false);
this.config.instance.listarea.setFocusList();
},_onClickSelectSort:function(d){this.config.option("currentSortOption",d.element.value);
this.config.instance.listarea.refresh();
}}).extend(a.Component);
nhn.comment.sortListArea=new b.SortListArea();
})();
nhn=(typeof nhn!=="undefined")?nhn:{};
nhn.comment=nhn.comment||{};
nhn.comment.mobile=nhn.comment.mobile||{};
(function(){var a=window.nhn.comment.mobile.jindo||jindo,b=nhn.comment.mobile,c=b.Util;
nhn.comment.mobile.NAME="nhn.comment.mobile";
nhn.comment.mobile.VERSION="1.0.0.${svn.revision}";
b.ListFooterArea=a.$Class({$init:function(){this.indexInstance=b.ListFooterArea.getInstance().length-1;
this.config=b.Config.getInstance()[this.indexInstance];
this._initConfig();
},_initConfig:function(){this.config.template({commentListFooterRoot:'<div class="u_comment_lst_count"></div>',commentListLink:'<a href="{=url}" ><span class="c_fnt"><em> {=count} </em> 개 댓글 전체보기</span></a>'});
this.config.option("viewAllLinkUrl","#");
},createArea:function(){this.welRoot=a.$Element(this.config.template("commentListFooterRoot").process());
return this.welRoot;
},update:function(d){if(this.welRoot==null){return;
}var e=a.$Element(this.config.template("commentListLink").process({url:this.config.option("viewAllLinkUrl"),count:d}));
this.welRoot.empty();
if(d>0){this.welRoot.append(e);
}},afterCreateArea:function(){}}).extend(a.Component);
nhn.comment.listFooterArea=new b.ListFooterArea();
})();
